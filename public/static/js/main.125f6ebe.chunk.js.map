{"version":3,"sources":["images/p404.svg","Themes.js","controls/Button.js","controls/HeaderButton.js","controls/Flex.js","JTranslate.js","contexts/GlobalContext.js","controls/B.js","controls/Input.js","controls/Container.js","controls/Form.js","Server.js","JN.js","controls/ContainersFooter.js","controls/A.js","contexts/UserReducer.js","contexts/UserContext.js","contexts/MessageBox.js","contexts/MessageBoxContext.js","Global_Functions.js","controls/Grid.js","pages/users/Registration.js","pages/users/Login.js","controls/Button_Float.js","components/LoadingSvg.js","controls/pagination/PaginationContainer.js","controls/BoldA.js","pages/problems/Problems.js","controls/Table.js","components/Modal.js","pages/tutorials/FolderEditDlg.js","controls/H3.js","pages/tutorials/Tutorials.js","controls/TimeWidget.js","controls/CountDown.js","controls/Checkbox.js","pages/Main.js","pages/users/RestorePassword.js","controls/HeaderInput.js","components/WithMathJax.js","components/CodeEditor.js","pages/submissions/SubmissionPreviewDlg.js","controls/ComboBox.js","components/Img.js","components/JParser.js","pages/problems/FullProblem.js","controls/TextArea.js","pages/problems/tags/CategoryEditDlg.js","controls/UploadButton.js","pages/problems/samples/SampleEditDlg.js","pages/problems/samples/SamplesPage.js","pages/problems/Checker_Add.js","pages/problems/CoAuthors.js","pages/problems/AddProblem.js","pages/page_404.js","pages/users/profile/components/Avatar.js","controls/Toggle.js","pages/users/profile/dialogs/passwordEditDlg.js","pages/users/profile/Info.js","pages/users/profile/Submissions.js","pages/users/profile/Permissions.js","pages/users/profile/TabFriends.js","pages/users/profile/Profile_page.js","pages/submissions/Submissions_Page.js","pages/submissions/Submission_Page.js","pages/contests/Contests.js","pages/contests/ProblemEditDlg.js","pages/contests/Problems.js","pages/contests/AddContest.js","pages/contests/FullContest/TabStandings.js","pages/contests/FullContest/FullContest.js","pages/users/UsersPage.js","components/FreshingTokenDlg.js","components/Favourites.js","pages/rating/RatingPage.js","pages/tutorials/AddTutorial/AddTutorial.js","pages/tutorials/FullTutorial.js","pages/socketio/chat/Chat.js","components/Drawer.js","components/ArrayMaker.js","components/Header.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","light","backgroundImage","headerText","headerBackground","headerHover","inputText","inputBackground","inputHover","inputFocusBackground","inputFocusBorder","link","primary","dark","secondary","b1","b11","b22","b2","c1","c2","c3","tl1","p1","red","pink","yellow","orange","green","blue","purple","highlight","background","theme","CIcon","styled","span","StyledButton","button","props","NoCap","font","fontCaps","fontSize","width","marginLeft","color","css","backgroundColor","flat","Button","React","forwardRef","ref","icon","children","StyledLink","Link","bg","margin_left","mobileSize","HeaderButton","onClick","to","StyledDiv","div","flexWrap","column","justifyContent","flexGrow","Flex","translates","eng","GlobalContext","createContext","GlobalProvider","useState","mode","language","chat","isOpen","currentRoomName","images","openedImageSrc","state","setState","unseenCount","setUnseenCount","Provider","value","global","setGlobal","tr","word","translatedWord","setLanguage","setChatOpen","is_chat_open","openChatRoom","room_name","username","user1","_unseenCount","_updateUnseenCount","count","setOpenedImage","src","BStyled","darkMode","hover","colorInherit","B","useContext","title","StyledTitle","label","StyledInput","input","bold","darker","eyeType","withIcon","reverse","StyledHelperText","ErrorText","isError","Input","refInput","useRef","password","type","setType","onBlur","e","currentTarget","contains","relatedTarget","current","focus","preventDefault","disabled","autoFocus","id","name","placeholder","onChange","onKeyDown","required","list","autoComplete","autocomplete","style","display","alignItems","position","border","outline","right","bottom","height","cursor","size","tabIndex","onIconClicked","errorText","helper","borderRadius","padding","maxWidth","minHeight","white","Title","gray","Title_Right","Container","titleRight","Form","onSubmit","Server","address","onFinished","response","on_finished","data","onError","user","url","error","on_error","callAfterFunction","console","log","alert","status","error_code","update_token","update_user","freshTokenRequired","callAfter","func","localStorage","getItem","window","location","reload","JN","Get","axios","get","headers","Authorization","access_token","params","then","catch","Post","post","Put","put","Delete","delete","Head","head","ContainerFooter","SLink","A","UserReducer","action","setItem","refresh_token","is_loginning_in","login","removeItem","userUpdate","UserContext","UserProvider","useReducer","dispatch","favourites","newUser","temp","d","updatedUser","logout","refreshGlobalState","MessageBoxContainer","MessageBox","toast","timeLeft","timeout","useEffect","timer","setTimeout","clearTimeout","message","MessageBoxContext","MessageBoxProvider","toasts","setToasts","maxId","setMaxId","text","callBack_accepted","messageBox","setMessageBox","filter","jMb","jMessageBox","closeMessageBox","map","key","Validate_email","email","test","String","toLowerCase","Validate_username","Validate_password","length","isUrl","str","ScrollTo","ms","left","scrollTo","offsetLeft","offsetTop","Get_Number","x","Code_Editor_Names","defaultCodes","romanMatrix","convertToRoman","num","i","Get_PaginationArray","totalPages","currentPage","push","Convert_date_to_string","json_date","date","Date","year","getFullYear","month","getMonth","day","getDate","hours","getHours","minutes","getMinutes","getSeconds","dateAdd","interval","units","ret","checkRollover","setDate","setFullYear","setMonth","setTime","getTime","undefined","Get_dateDiff_toString","json_start_date","json_end_time","show_seconds","countdown","startDate","endDate","delta","Math","abs","days","floor","seconds","diff","Get_contest_status","now","StyledGrid","columns","gap","Grid","withRouter","history","refForm","surname","errorMessage","isLoading","thankYouPageVisible","target","marginBottom","ReactGA","event","category","ph","Login","is_loading","was_loggedIn","on_change","user_info","goBack","marginTop","Styled_Button","full","Button_Float","LoadingSvg","loadingColor","puffColor","dots","viewBox","xmlns","fill","cx","cy","r","attributeName","from","begin","dur","values","calcMode","repeatCount","fillOpacity","oval","stroke","fill-rule","transform","stroke-width","stroke-opacity","circle","x1","y1","x2","y2","stopColor","stopOpacity","offset","fillRule","strokeWidth","puff","keyTimes","keySplines","Pagination_Container","noBackground","Pagination_Button","NavLink","Styled_NavLink","PaginationContainer","total","visiblePages","pagination","replace","page","activeStyle","pointerEvents","borderBottom","isActive","match","parseInt","StledA","BoldA","MainDiv","HoverScaledSpan","FilterContainer","FilterItem","flex","FavouritesConteiner","MDiv","Table_A","tag","TrLoading","Problem_table","table","Problems","problems","is_error","order_by_accepted","search","setSearch","setFilter","filteredProblems","setFilteredProblems","on_refresh","template","tag_id","tagId","filter_by_accepted","page_count","page_number","on_search_clear","lastFilterToken","setLastFilterToken","lastRequestToken","setLastRequestToken","filterText","setFilterText","slice","refFilteredProblems","keyCode","up","activeElement","document","nextIndex","findIndex","setFavourites","note_problems","refFaviourites","isFavouritesVisible","setIsFavouritesVisible","isFavourite","isLikeUpdating","setIsLikeUpdating","onToggleFavourites","problem","p","problem_id","verdict","charSet","content","overflow","textOverflow","ft","lft","index","permission","align","colSpan","textAlign","is_visible","tags","screen","accepted","liked","likes","onToggleHeart","Th","th","center","autoSize","Td","td","low","Table","Styled_Container","Styled_Content","Modal","close","modal","FolderEditDlg","folder","parent_dir_id","submit","new_name","H3Styled","h3","H3","Main","TableDiv","subdirectoriessize","Header","ParentFoldersDiv","TagsContainer","firstTime","Tag","backbutton","Tutorials","refLastParentItself","tutorials","sub_directories","parent_directories","is_folderEditDlg_open","destructed","listLastAddedTutorials","setLastAddedTutorials","filteredItems","setFilteredItems","whiteSpace","minWidth","tutorial","editingFolder","confirm","isAdd","Div","Span","TimeWidget","time","isDynamic","CountDown","timeDiff","setInterval","clearInterval","Checkbox","onCheckedChanged","checked","SA","CartContainer","Cart","ContestsContainer","ContestItem","plannedContests","planned","contests","on_registerToContest","contest","c","registered","num_registered","margin","start_time","end_time","RestorePassword","setEmail","setError","success","setSuccess","loading","setLoading","HeaderInput","WithMathJax","asciimath2jax","useMathMLspacing","delimiters","preview","options","Context","script","onLoad","loaded","Text","CodeHeader","Code","HideOnMobileSpan","CodeEditor","code","isPreview","file","files","item","reader","FileReader","readAsText","onload","result","htmlFor","rightItems","readOnly","editorName","BButton","SubmissionPreviewDlg","token","submission","is_contest_running","redirect_to_404","verdict_ge","datetime","textArea","createElement","body","appendChild","select","execCommand","removeChild","Copy","SContainer","SDropDown","SItem","ComboBox","current_item","currentItem","is_open","on_item_selected","itemSelected","items","Img","userSelect","VideoDiv","Iframe","iframe","Imgs","small","ImagesDiv","darkmode","Aa","a","reverseLinkColor","JParser","tabSize","split","s","substring","frameBorder","allow","allowFullScreen","href","atomDark","ContestProblemsContainer","ContestProblemsItem","long","BtnFullScreen","TopActions","MustLogin","Limits","UploaderUser","Splitter_Container","Statement","P","Loading","SamplesContainer","SamplesDiv","SampleDiv","Footer","Success","FullProblem","categories","samples","uploadingFileName","version","isUploading","is_fullscreen","open_submission","setContest","submitions","setSubmitions","refSubmissions","statement","cd","submissions","scroll","on_copy","navigator","clipboard","writeText","err","successful","leftDiv","opened_submission_id","noted","marginRight","time_limit","memory_limit","input_description","output_description","sample","output","problem_comment","note","isDeleting","rightDiv","languageChanged","newState","submition","verdict_code","memory","flexDirection","coauthors","ca","source","property","description","primaryMinSize","secondaryMinSize","paddingBottom","Controls","Label","Btn","Content","StyledTextarea","textarea","monospace","TextArea","refTextarea","isImageUploading","setIsImageUploading","start","end","selectionPos","setSelectionPos","onChanged","selectionStart","selectionEnd","insertChar","first","last","onControlsClicked","middle","insertJData","onMouseDown","dCode","setCode","isDlgCodeOpen","setDlgCodeOpen","onCloseDlgCode","setText","webAddress","setWebAddress","isDlgLinkOpen","setDlgLinkOpen","onCloseDlgLink","actions","showControls","paddingTop","fontWeight","formData","FormData","append","public_url","onerror","evt","nativeEvent","selectedIndex","newCode","trim","CategoryEditDlg","tag_title","submited","new_title","Upload","UploadButton","fileName","OnFilePicked","Sample","SampleContent","SampleNav","Action_Button","SampleEditDlg","is_input_file","is_output_file","input_file_name","output_file_name","setSample","sample_id","is_admin","on_textArea_change","on_input_type_changed","on_file_picked","sampleAdded","is_large","SampleCard","visible","SamplesPage","is_sampleEditDlg_open","editing_sample_id","on_sample_remove","listDeletingSamples","setListDeletingSamples","isAllSamplesChecked","setIsAllSamplesChecked","isDeletingAllSamples","setDeletingAllSamples","opacity","samples_list","includes","onSampleCheckToggled","Radio_Container","Radio","Checker_Add","is_new","successText","is_uploading","is_checker_changing","is_notes_visible","currentChecker","setCurrentChecker","checkers","setCheckers","m_mapLanguages","problemId","current_checker","available_checkers","on_combo_itemSelected","enabled","DivTags","DivTag","CoAutors","deletingCoauthorId","listCoauthors","setListCoauthors","onAddCoauthor","coauthor","coauthor_id","updateCoauthors","users","author","user_id","RButton","StyledForm","Tab_Container","Tab_Action","AddProblem","refScrollTo","tab","setTab","input_format","output_format","deleting_tag_id","editingCategory","updateProblem","redirect_to_fullProblem","problem_tags","fList","change","on_tag_edit","stopPropagation","on_tag_delete","isRejudging","setIsRejudging","currentTab","on_tab_changed","t","Tab_Current","Container_Main","page_404","p404","MContainer","TContainer","toggled","TButton","Toggle","setToggled","PasswordEditDlg","password_old","password_new","is_error_oldPassword","is_updating","old_password","new_password","SForm","form","FooterDiv","ChatButton","Info","is_current_user","is_passwordEditDlg_open","is_friend","on_text_changed","labels","legend","show","dataLabels","colors","online","top","user2","room","attempt","series","newPermission","new_permission","isFriend","friend_username","Section","section","Submission","Submissions","refStart","pagination_pages","userName","mobileWidth","innerWidth","scrollTop","problem_title","paddingLeft","paddingRight","TabFriends","friends","setFriends","friend","FriendsContainer","Profile_page","is_fetching","TableContainer","Submissions_Page","problem_name","listSubmissions","on_submition_clicked","Submission_Page","Contests","boxShadow","ProblemEditDlg","isNew","point","contest_id","contestId","score","is_problemEditDlg_visible","new_score","editingProblem","on_problem_edit","AddContest","currentDurattion","h","m","setStartDate","setEndDate","marginBotton","selected","add","showTimeSelect","timeFormat","timeIntervals","timeCaption","dateFormat","minDate","className","TabStandings","is_dlgSubmissions_open","standings","onViewSubmissions","userr","problems_info","rank","wrong","fontFamily","penalty","onSubmissionClicked","FullContest","is_registering","is_updating_problemsVisibility","is_allProblemsVisible","update_state","arr","pathname","refresh","isAllProblemsVisible","statusText","is_deleting","exact","path","component","UsersPage","setUsers","participants","FreshingTokenDlg","setPassword","RatingPage","attempts","toFixed","Samples_Container","Sample_Card","ProblemsDiv","ProblemItem","AddTutorial","directory_id","dirId","references","setTags","updateTutorial","redirect_to_fullTutorial","tutorial_id","onProblemAdd","some","onProblemDelete","fsontSize","linkedTutorialId","setLinkedTutorialId","onReferenceDelete","reference","reference_id","FullTutorial","tutorialTree","setTutorialTree","Cover","SmallCircleButton","RoomsContainer","RoomButton","SearchContainer","BtnUsername","MessagesDiv","MessageCard","SentByUser","isImage","ReceivedMessage","MenuButton","Chat","forceUpdate","setValue","useForceUpdate","isLoadingRooms","dontScrollDown","setDontScrollDown","roomChanged","setRoomChanged","messageEditor","setMessageEditor","messages","refMessagesDiv","rooms","refCurrentRoom","refLastMessage","refIsServerConnected","setOpacity","setIsLoading","lastSeenUid","setLastSeenUid","isSearchVisible","setSearchVisible","refSearch","updateUnseenCount","msg","last_msg","seen","getMessages","socket","disconnect","num_msgs","scrollIntoView","changeRoom","emit","closeChat","setSocket","setListUsers","io","destroy","on","splice","find","unshift","room_id","msg_id","new_msg","room_last_msg","send","scrollHeight","isRoomInList","editMessage","listUsers","openChat","u","fontStyle","onScroll","objectFit","deleteMessage","transition","max","Drawer","y","ListContainer","Item","PropertiesContainer","ArrayMaker","setList","itemContainer","gridGap","defaultProperties","properties","setProperties","handleChange","element","min","newLength","Array","toString","ChangeThemeButton","hide","HomeIcon","Styled_Header","nav","BtnChatDiv","BtnChat","DivImage","DivJMessageBox","setMode","initialize","useLocation","pageview","refresh_user","rightPanel","newMode","root","documentElement","ob","Object","keys","setProperty","setTheme","Registration","App","Boolean","hostname","mapboxgl","accessToken","ReactDOM","render","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.125f6ebe.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/p404.6695af99.svg\";","export const light = {\r\n\r\n  backgroundImage: 'url(https://storage.googleapis.com/problems_api_photos/images/takG3G9pv2mx51mlkttD.svg)',\r\n\r\n  headerText: '#fafafa',\r\n  headerBackground: '#37474f',\r\n  headerHover: 'rgba(0, 0, 0, 0.2)',\r\n  inputText: '#757575',\r\n  inputBackground: '#eceff1',\r\n  inputHover: 'blue',\r\n  inputFocusBackground: '#fff',\r\n  inputFocusBorder: '#b0bec5',\r\n\r\n  link: 'blue',\r\n\r\n  primary: '#f44336',\r\n  primary: '#4caf50',\r\n  secondary: '#FF5252',\r\n  b1: '#eceff1',\r\n  b11: '#eceff1',\r\n  b2: '#fff',\r\n  b22: '#eceff1',\r\n  c1: '#37474F',\r\n  c2: '#757575',\r\n  c3: '#c1c1c1',\r\n  tl1: '#f5f5f5',\r\n  p1: '#f5d76e',\r\n  \r\n  red: '#F44336',\r\n  pink: '#f25a8b',\r\n  yellow: '#FFD747',\r\n  orange: '#FF9800',\r\n  green: '#4CAF50',\r\n  blue: '#2196F3',\r\n  // purple: '#222',\r\n  highlight: '#F44336',\r\n\r\n  background: 'linear-gradient(90deg, rgba(73,80,186,1) 0%, rgba(73,80,186,1) 12%, rgba(255,130,76,1) 100%)',\r\n  background: '#f1f1f1',\r\n}\r\n\r\nexport const dark = {\r\n\r\n  backgroundImage: 'url(https://storage.googleapis.com/problems_api_photos/images/cey8zpJJcYrY1pkZHvxM.svg)',\r\n\r\n  headerText: 'rgba(255, 255, 255, .87)',\r\n  headerBackground: '#212121',\r\n  headerHover: 'rgba(0, 0, 0, 0.2)',\r\n\r\n  inputText: 'rgba(255, 255, 255, .6)',\r\n  inputBackground: '#212121',\r\n  inputHover: 'blue',\r\n  inputFocusBackground: 'transparent',\r\n  inputFocusBorder: 'rgba(255, 255, 255, .6)',\r\n\r\n  link: '#ef4836',\r\n\r\n  primary: '#4056a1',\r\n  secondary: '#ef4836',\r\n  b1: '#121212',\r\n  b11: '#121212',\r\n  b22: '#191919',\r\n  b2: '#292929',\r\n  c1: 'rgba(255, 255, 255, .87)',\r\n  c2: 'rgba(255, 255, 255, .6)',\r\n  c3: 'rgba(255, 255, 255, .38)',\r\n\r\n  tl1: 'rgba(255, 255, 255, 0.8)', //მუქი ღილაკის ტექსტის ფერი\r\n\r\n  p1: '#f5d76e',\r\n  red: '#ef4836',\r\n  pink: '#ff63a2',\r\n  yellow: '#FFD747',\r\n  orange: '#FFC063',\r\n  green: '#00ff7f',\r\n  blue: '#00f8fb',\r\n  purple: '#A637EF',\r\n  highlight: '#FFC063',\r\n\r\n  background: '#121212',\r\n}\r\n\r\nexport const theme = {\r\n  primary: '#67489D',\r\n  primary: '#155A7A',\r\n  primary: '#3786BE',\r\n  primary: '#4056a1',\r\n  secondary: '#E49D22',\r\n  red: '#DD3030',\r\n  red: '#be3737',\r\n  red: '#E86996',\r\n  red: '#a04746',\r\n  // red: '#ef4836',\r\n  yellow: '#FFD747',\r\n  orange: '#FF7900',\r\n  green: '#219653',\r\n  green: '#00ff7f',\r\n  blue: '#00f8fb',\r\n  purple: '#9C27B0',\r\n  green: '#37be4d',\r\n  gray: '#363739',\r\n  font: 'bpg-arial',\r\n  fontCaps: 'bpg-arial-caps',\r\n  mobileSize: '907px',\r\n}\r\n\r\n//justify-content: center; align-items: center","import React from 'react'\r\nimport styled, { ThemeProvider, css } from 'styled-components'\r\nimport { theme } from 'Themes'\r\n\r\nconst CIcon = styled.span `\r\n  margin-right: 5px;\r\n`\r\n\r\nconst StyledButton = styled.button `\r\n\r\n  -webkit-touch-callout: none; /* iOS Safari */\r\n    -webkit-user-select: none; /* Safari */\r\n     -khtml-user-select: none; /* Konqueror HTML */\r\n       -moz-user-select: none; /* Old versions of Firefox */\r\n        -ms-user-select: none; /* Internet Explorer/Edge */\r\n            user-select: none; /* Non-prefixed version, currently\r\n                                  supported by Chrome, Opera and Firefox */\r\n\r\n  position: relative;\r\n  overflow: hidden;\r\n  display: inline-flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-family: ${props => props.NoCap ? theme.font : theme.fontCaps};\r\n  font-size: ${props => props.fontSize ? props.fontSize : '14px'};\r\n  min-width: ${props => props.width ? props.width : '200px'};\r\n  width: ${props => props.width};\r\n  color: ${theme.c2};\r\n  padding: 5px;\r\n  border: none;\r\n  border-radius: 5px;\r\n  padding: .7em 1em;\r\n  outline: none;\r\n  margin: 5px;\r\n  margin-left: ${props => props.marginLeft ? props.marginLeft : '5px'};\r\n  cursor: pointer;\r\n  min-height: 46px;\r\n  background: ${theme.primary};\r\n  color: ${props => props.color ? props.color : \"var(--color_tl1)\"};\r\n  ${props => \r\n    props.width &&\r\n    css`\r\n      width: ${props => theme[props.width]};\r\n    `\r\n  };\r\n\r\n  &:hover {\r\n    box-shadow: inset 0 0 28px rgba(0, 0, 0, .3);\r\n  }\r\n\r\n\r\n  background: ${props => props.backgroundColor ? props.backgroundColor : \"var(--color_primary)\"};\r\n\r\n  ${props =>\r\n    props.flat &&\r\n    css`\r\n      & {\r\n        background: var(--color_b1);\r\n        color: var(--color_c2);\r\n        box-shadow: none;\r\n        border: 2px solid var(--color_b1)\r\n      }\r\n\r\n      &:hover {\r\n        box-shadow: none;\r\n        border-color: var(--color_primary);\r\n      }\r\n    `\r\n  };\r\n\r\n  &:focus {\r\n    border: 0px solid ${theme.primary};\r\n    box-shadow: 0 0 5px rgba(0, 0, 0, 0.4);\r\n    ${props => props.flat &&\r\n    css`\r\n      box-shadow: none;\r\n      border: none;\r\n    `};\r\n  }\r\n  &:disabled {\r\n    /* background-color: ${theme.b1}; */\r\n  }\r\n`\r\n\r\nconst Button = React.forwardRef((props, ref) => {\r\n    return (\r\n      <ThemeProvider theme={theme}>\r\n      <div>\r\n        <StyledButton {...props} ref={ref}>\r\n          <CIcon>{props.icon}</CIcon>{props.children}\r\n        </StyledButton>\r\n      </div>\r\n      </ThemeProvider>\r\n    )\r\n})\r\n\r\nexport default Button","import React, { userState} from 'react'\r\nimport styled from 'styled-components'\r\nimport { theme } from 'Themes'\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst StyledLink = styled(Link) `\r\n  -webkit-touch-callout: none; /* iOS Safari */\r\n    -webkit-user-select: none; /* Safari */\r\n     -khtml-user-select: none; /* Konqueror HTML */\r\n       -moz-user-select: none; /* Old versions of Firefox */\r\n        -ms-user-select: none; /* Internet Explorer/Edge */\r\n            user-select: none; /* Non-prefixed version, currently\r\n                                  supported by Chrome, Opera and Firefox */\r\n\r\n  color: var(--color_headerText);\r\n  font-weight: 500;\r\n  text-decoration: none;\r\n  font-family: ${theme.fontCaps};\r\n  font-size: 16px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  /* padding: 1em 1em; */\r\n  height: 50px;\r\n  padding-left: 16px;\r\n  padding-right: 16px;\r\n  margin-right: 5px;\r\n\r\n  &:first-child {\r\n    margin-right: 0;\r\n    padding-left: 10px;\r\n    padding-right: 10px;\r\n  }\r\n\r\n  &:last-child {\r\n    margin-right: 0;\r\n  }\r\n\r\n  border: none;\r\n  outline: none;\r\n  background-color: ${props => props.bg ? props.bg : 'none'};\r\n  margin-left: ${props => props.margin_left ? props.margin_left : '0'};\r\n\r\n  &:hover {\r\n\r\n    span {\r\n      transition: opacity ease 200ms;\r\n      opacity: 1;\r\n    }\r\n    svg {\r\n    transition: transform ease 250ms;\r\n  }\r\n\r\n \r\n    svg {\r\n      transform: rotate(25deg);\r\n    }\r\n    box-shadow: inset 0 0 28px rgba(0, 0, 0, .3);\r\n    /* transition: background-color ease 200ms; */\r\n    /* color: var(--color_headerHover); */\r\n    /* background-color: var(--color_headerHover); */\r\n\r\n  }\r\n\r\n  @media (max-width: ${theme.mobileSize}) {\r\n    margin: 0;\r\n    display: none;\r\n    padding-left: 10px;\r\n    padding-right: 10px;\r\n\r\n    &:first-child, :nth-last-child(1), :nth-last-child(2) {\r\n      display: flex;\r\n    }\r\n  }\r\n`\r\n\r\nconst StyledSpan = styled.span `\r\n  font-weight: 900;\r\n  opacity: 0;\r\n  color: ${theme.secondary};\r\n`\r\n\r\nfunction HeaderButton(props) {\r\n  return (\r\n    <StyledLink {...props} color={props.color} onClick={props.onClick} to={props.to} margin_left={props.margin_left}>\r\n      {/* <StyledSpan>{\"<\"}</StyledSpan> */}\r\n      {props.children}\r\n      {/* <StyledSpan>{\" />\"}</StyledSpan> */}\r\n      \r\n    </StyledLink>\r\n  )\r\n}\r\n\r\nexport default HeaderButton","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { theme } from 'Themes'\r\n\r\nconst StyledDiv = styled.div `\r\n  position: relative;\r\n  display: flex;\r\n  width: 100%;\r\n  flex-wrap: ${props => props.flexWrap ? 'wrap' : 'nowrap'};\r\n  flex-direction: ${props => props.column ? 'column' : 'row'};\r\n  justify-content: ${props => props.justifyContent ? props.justifyContent : 'spaceBetween'};\r\n  @media only screen and (max-width: ${theme.mobileSize}) {\r\n    flex-direction: column;\r\n  }\r\n  flex-grow: ${props => props.flexGrow ? props.flexGrow : 0};\r\n`\r\n\r\nfunction Flex(props) {\r\n  return (\r\n    <StyledDiv\r\n      flexWrap={props.flexWrap}\r\n      column={props.column}\r\n      justifyContent={props.justifyContent}\r\n      flexGrow={props.flexGrow}\r\n    >\r\n      {props.children}\r\n    </StyledDiv>\r\n  )\r\n}\r\n\r\nexport default Flex;","const translates = {\r\n  eng: {\r\n    'Eng': 'ქარ',\r\n    'ამოცანები': 'Problems',\r\n    'კონტესტები': 'Contests',\r\n    'რეიტინგი': 'Raiting',\r\n    'გაკვეთილები': 'Tutorials',\r\n    'დასახელება': 'Title',\r\n    'შესვლა': 'Sign in',\r\n    'რეგისტრაცია': 'Sign up',\r\n    'გასვლა': 'Sign out',\r\n    'მონაწილეობა': 'Register',\r\n    'პაროლი არასწორია': 'Wrong password',\r\n    'მომხმარებლის სახელი არასწორია': 'Wrong username',\r\n    'მომხმარებლის სახელი ან ფოსტა': 'Username or Email',\r\n    'პაროლი': 'password',\r\n    'დაგავიწყდა პაროლი': 'Did you forget password',\r\n    'აღადგინე': 'Restore',\r\n    'ასეთი ფოსტა უკვე არსებობს': 'Email already taken',\r\n    'მომხმარებლის სახელი შეიცავს აკრძალულ სიმბოლოებს': 'username contains wrong symbols',\r\n    'ფოსტის ფორმატი არასწორია': 'wrong email',\r\n    'პაროლი ფორმატი არასწორია': 'wrong password',\r\n    'აირჩიეთ უფრო გრძელი პაროლი': 'chose longer password',\r\n    'ფოსტა უკვე გამოყენებულია': 'email already taken',\r\n    'მომხმარებელი უკვე არსებობს': 'user already exists',\r\n    'რეგისტრაცია დასრულდა': 'Registered Successfully',\r\n    'მადლობას გიხდით საიტზე დარეგისტრირებისათვის': 'thank you for signing up',\r\n    'ახლა უკვე შეგიძლიათ': 'now you can',\r\n    'მომხმარებლის სახელი': 'Username',\r\n    'სახელი': 'Name',\r\n    'გვარი': 'Surname',\r\n    'ფოსტა': 'Email',\r\n    'პაროლი': 'Password',\r\n    'დარეგისტრირება': 'Sign Up',\r\n    'შეიყვანეთ სახელი': 'enter name',\r\n    'შეიყვანეთ გვარი': 'enter surname',\r\n    'შეიყვანეთ პაროლი': 'enter password',\r\n  }\r\n};\r\n\r\nexport default translates;","import React, { useState, createContext } from 'react'\r\nimport translates from 'JTranslate'\r\n\r\nexport const GlobalContext = createContext({})\r\n\r\nexport const GlobalProvider = props => {\r\n\r\n  const [state, setState] = useState({\r\n    mode: 'light',\r\n    language: 'ქარ',\r\n\r\n    chat: {\r\n      isOpen: false,\r\n      currentRoomName: '',\r\n    },\r\n\r\n\r\n    images: {\r\n      openedImageSrc: '',\r\n    },\r\n  });\r\n\r\n  const [unseenCount, setUnseenCount] = useState(0);\r\n\r\n  const openChatRoom = (room_name, username) => {\r\n    setState({ ...state, chat: { ...state.chat, isOpen: true, currentRoomName: room_name, user1: username } });\r\n  }\r\n\r\n  const setChatOpen = is_chat_open => {\r\n    setState({ ...state, chat: { ...state.chat, isOpen: is_chat_open } });\r\n  }\r\n\r\n  const updateUnseenCount = count => {\r\n    setUnseenCount(count)\r\n  }\r\n\r\n  const setOpenedImage = src => {\r\n    setState({...state, images: {...state.images, openedImageSrc: src}})\r\n  }\r\n\r\n  const tr = (word) => {\r\n    if (!translates[state.language])\r\n      return word;\r\n\r\n    let translatedWord = translates[state.language][word];\r\n    if (!translatedWord || translatedWord === '')\r\n      return word;\r\n\r\n    return translatedWord;\r\n  }\r\n\r\n  const setLanguage = (language) => {\r\n    setState({ ...state, language: language })\r\n  }\r\n\r\n  return (\r\n    <GlobalContext.Provider value={{\r\n      global: state, setGlobal: setState,\r\n      tr: tr, setLanguage: setLanguage,\r\n      chat: state.chat,\r\n      setChatOpen: setChatOpen,\r\n      openChatRoom: openChatRoom,\r\n      _unseenCount: unseenCount, _updateUnseenCount: updateUnseenCount,\r\n      setOpenedImage: setOpenedImage,\r\n      openedImageSrc: state.images.openedImageSrc,\r\n    }}>\r\n\r\n      {props.children}\r\n    </GlobalContext.Provider>\r\n  )\r\n}","import React, { useContext } from 'react'\r\nimport styled, { css } from 'styled-components'\r\nimport { GlobalContext } from 'contexts/GlobalContext'\r\n\r\nconst BStyled = styled.span `\r\n  font-weight: bold;\r\n  color: var(--color_c2);\r\n\r\n  ${props => props.darkMode && css `\r\n    & {\r\n      font-weight: normal;\r\n      color: var(--color_c1);\r\n    }\r\n  `};\r\n\r\n  ${props => props.hover && css `\r\n    &:hover {\r\n      color: var(--color_link);\r\n    }\r\n  `}\r\n\r\n  ${props => props.colorInherit && css `\r\n    color: inherit;\r\n  `}\r\n  \r\n`\r\n\r\nconst B = props => {\r\n  const { global } = useContext(GlobalContext);\r\n\r\n  return (\r\n    <BStyled {...props} darkMode={global.mode === 'dark'} hover={props.hover}>\r\n      {props.children}\r\n    </BStyled>\r\n  );\r\n}\r\n\r\nexport default B;","import React, { useState, useRef } from 'react'\r\nimport styled, { css } from 'styled-components'\r\nimport { theme } from 'Themes'\r\nimport Flex from './Flex'\r\nimport { MdRemoveRedEye, MdVisibilityOff, MdVisibility } from 'react-icons/md'\r\nimport B from './B'\r\n\r\nconst StyledDiv = styled.div`\r\n  flex-grow: 1;\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  \r\n  width: ${props => props.width};\r\n  max-width: ${props => props.width};\r\n\r\n  padding-top: ${props => props.title && props.title !== '' ? '15px' : '0'};\r\n  box-sizing: border-box;\r\n`\r\n\r\nconst StyledTitle = styled.label`\r\n  font-family: ${theme.font};\r\n  text-align: left;\r\n  font-size: 14px;\r\n  color: var(--color_inputText);\r\n  margin-bottom: 4px;\r\n`\r\n\r\nconst StyledInput = styled.input`\r\n  color: var(--color_inputText);\r\n  font-weight: ${props => props.bold ? 'bold' : 'normal'};\r\n  flex-grow: 1;\r\n  width: 100%;\r\n  padding: 10px 15px;\r\n  margin-bottom: 5px;\r\n  height: 46px;\r\n  font-family: ${theme.font};\r\n  font-size: ${props => props.fontSize ? props.fontSize : '16px'};\r\n  background-color: var(--color_inputBackground);\r\n  border-radius: 5px;\r\n  border: 2px solid var(--color_inputBackground);\r\n  outline: none;\r\n\r\n  /* ${props => props.darker && css`\r\n    background-color: var(--color_b2);\r\n    border-color: var(--color_b2);\r\n  `} */\r\n\r\n  ${props => (props.eyeType || props.withIcon) && css`\r\n    padding-right: 38px;\r\n  `}\r\n\r\n  &:focus {\r\n    transition: border-color ease 250ms, background-color ease 250ms;\r\n    border-color:  var(--color_inputFocusBorder);\r\n\r\n    /* border: none; */\r\n    background-color: var(--color_inputFocusBackground);\r\n    /* box-shadow: inset 0px 0px 0px 4px var(--color_inputFocusBorder); */\r\n  }\r\n\r\n  &:disabled {\r\n    background: transparent;\r\n    /* border-radius: 0; */\r\n    /* border: none; */\r\n    border: 1px solid var(--color_b22);\r\n    /* padding-left: 0; */\r\n  }\r\n\r\n  &::-webkit-calendar-picker-indicator {\r\n    display: none;\r\n  }\r\n\r\n  ${props => props.reverse && css`\r\n    background-color: var(--color_b2);\r\n    border-color: var(--color_b2);\r\n    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);\r\n    \r\n    &:focus {\r\n      background-color: var(--color_b2);\r\n      border-color: var(--color_b2);\r\n    }\r\n  `}\r\n\r\n`\r\n\r\nconst StyledHelperText = styled.span`\r\n  color: var(--color_c2);\r\n  text-align: left;\r\n  font-family: ${theme.font};\r\n  font-size: 12px;\r\n`\r\n\r\nconst ErrorText = styled.span`\r\n  color: var(--color_red);\r\n  display: ${props => props.isError ? 'block' : 'none'};\r\n  margin-bottom: 2px;\r\n`\r\n\r\nconst Input = props => {\r\n\r\n  const refInput = useRef(null)\r\n\r\n  const onChanged = (e) => {\r\n    if (typeof (props.onChange) === 'function') {\r\n      props.onChange(e)\r\n    }\r\n  }\r\n\r\n  const [type, setType] = useState(props.password ? \"password\" : props.type)\r\n\r\n  // let eye = (\r\n  //   <ShowPasswordToggle>s</ShowPasswordToggle>\r\n  // )\r\n\r\n  const on_passwordVisibility_toggled = e => {\r\n    e.preventDefault()\r\n    setType(type === 'password' ? 'text' : 'password')\r\n    refInput.current.focus()\r\n  }\r\n\r\n  const on_icon_clicked = e => {\r\n    if (typeof (props.onIconClicked) !== 'function') {\r\n      return\r\n    }\r\n    e.preventDefault()\r\n    props.onIconClicked()\r\n  }\r\n\r\n  const onBlur = e => {\r\n    if (e.currentTarget.contains(e.relatedTarget)) {\r\n      refInput.current.focus()\r\n      return\r\n    }\r\n\r\n    e.preventDefault();\r\n\r\n    if (typeof (props.onBlur) !== 'function') {\r\n      return\r\n    }\r\n\r\n    props.onBlur()\r\n  }\r\n\r\n  return (\r\n    <StyledDiv title={props.title} width={props.width} onBlur={onBlur}>\r\n      {props.title !== '' &&\r\n        <StyledTitle>\r\n          <B>{props.title}</B>\r\n        </StyledTitle>\r\n      }\r\n      <Flex>\r\n        <StyledInput\r\n          ref={refInput}\r\n          color={props.color}\r\n          bold={props.bold}\r\n          disabled={props.disabled}\r\n          fontSize={props.fontSize}\r\n          autoFocus={props.focus}\r\n          id={props.id}\r\n          name={props.name}\r\n          isError={props.isError}\r\n          placeholder={props.placeholder}\r\n          value={props.value}\r\n          onChange={onChanged}\r\n          onKeyDown={props.onKeyDown}\r\n          type={type}\r\n          eyeType={props.password || props.type === 'password'}\r\n          required={props.required}\r\n          list={props.list}\r\n          onClick={props.onClick}\r\n          autoComplete={props.autocomplete}\r\n          darker={props.darker}\r\n          reverse={props.reverse}\r\n          withIcon={props.icon}\r\n        />\r\n        {/* {eye} */}\r\n        {(props.password || props.type === 'password') &&\r\n          <div onClick={on_passwordVisibility_toggled} style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', position: 'absolute', border: 'none', outline: 'none', backgroundColor: 'transparent', right: '1px', bottom: '6px', height: '46px', width: '38px', cursor: 'pointer' }}>\r\n            {type === 'password' ? <MdVisibility size=\"20\" color=\"var(--color_c2)\" /> : <MdVisibilityOff size=\"20\" color=\"var(--color_primary)\" />}\r\n          </div>\r\n        }\r\n\r\n        {props.icon &&\r\n          <div tabIndex=\"0\" onClick={on_icon_clicked} style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', position: 'absolute', border: 'none', outline: 'none', backgroundColor: 'transparent', right: '1px', bottom: '6px', height: '46px', width: '38px', cursor: 'pointer' }}>\r\n            {props.icon}\r\n          </div>\r\n        }\r\n\r\n      </Flex>\r\n      <StyledHelperText>\r\n        <ErrorText isError={props.isError}>*{props.errorText}</ErrorText>\r\n        {props.helper}\r\n      </StyledHelperText>\r\n\r\n      {props.children}\r\n    </StyledDiv>\r\n  )\r\n}\r\n\r\nexport default Input","import React from 'react'\r\nimport styled, { css } from 'styled-components'\r\nimport Flex from 'controls/Flex'\r\nimport { theme } from 'Themes'\r\n\r\nconst StyledDiv = styled.div `\r\n  position: relative;\r\n  border: none;\r\n  border-radius: ${props => props.borderRadius ? props.borderRadius : '10px'};\r\n  /* box-shadow: 0px 2px 200px rgba(0, 0, 0, 0.3); */\r\n  margin: auto;\r\n  padding: ${props => props.padding ? props.padding : '30px'};\r\n  padding-top: 15px;\r\n  background-color: ${props => props.bg ? props.bg : '#f5f5f5'};\r\n  background-color: var(--color_b2);\r\n/* border: 3px solid #181818; */\r\nbox-shadow: 0 6px 16px 0 rgba(0,0,0,.2);\r\n  width: ${props => props.width ? props.width : '500px'};\r\n  max-width: ${props => props.maxWidth ? props.maxWidth : '100%'};\r\n  min-height: ${props => props.minHeight ? props.minHeight : 'inherit'};\r\n  overflow: hidden;\r\n  box-sizing: border-box;\r\n\r\n  ${props =>\r\n    props.white &&\r\n    css`\r\n      box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.4);\r\n      /* background-color: #ffffff; */\r\n      border-radius: 0px;\r\n    `\r\n  };\r\n\r\n  @media (max-width: ${theme.mobileSize}) {\r\n    & {\r\n      padding-left: 8px;\r\n      padding-right: 8px;\r\n      margin-top: -50px;\r\n      max-width: 100%;\r\n    }\r\n  }\r\n`\r\n\r\nconst Title = styled.div `\r\n  color: ${theme.gray};\r\n  color: ${theme.primary};\r\n  color: ${theme.c2};\r\n  color: var(--color_c2);\r\n  font-family: ${theme.fontCaps};\r\n  font-size: 18px;\r\n  margin-top: -10px;\r\n  margin-bottom: 25px;\r\n  padding: 10px;\r\n  width: 100%;\r\n  border: none;\r\n  text-align: center;\r\n  border-bottom: 1px solid var(--color_b22);\r\n  /* font-weight: 600; */\r\n  /* letter-spacing: 1.1px; */\r\n`\r\n\r\nconst Title_Right = styled.div `\r\n\r\n  -webkit-touch-callout: none; /* iOS Safari */\r\n    -webkit-user-select: none; /* Safari */\r\n     -khtml-user-select: none; /* Konqueror HTML */\r\n       -moz-user-select: none; /* Old versions of Firefox */\r\n        -ms-user-select: none; /* Internet Explorer/Edge */\r\n            user-select: none; /* Non-prefixed version, currently\r\n                                  supported by Chrome, Opera and Firefox */\r\n\r\n\r\n  position: absolute;\r\n  right: 5px;\r\n  top: 2px;\r\n  font-size: 14px;\r\n  /* color: gray;\r\n\r\n  cursor: pointer;\r\n\r\n  &:hover {\r\n    color: blue;\r\n  } */\r\n`\r\n\r\nconst SGray = styled.span `\r\n  color: ${theme.secondary};\r\n  font-style: normal;\r\n  font-weight: 900;\r\n  font-size: 20px;\r\n`\r\n\r\n\r\nconst Container = (props) => {\r\n\r\n  return (\r\n    <StyledDiv padding={props.padding} white={props.white} minHeight={props.minHeight} borderRadius={props.borderRadius} maxWidth={props.maxWidth} width={props.width} bg={props.bg}>\r\n      <Flex column>\r\n        <Flex>\r\n        {props.title &&\r\n          <Title>\r\n            {/* <SGray>{'<'}</SGray> */}\r\n              {props.title}\r\n            {/* <SGray>{' />'}</SGray> */}\r\n\r\n            <Title_Right>\r\n              {props.titleRight}\r\n            </Title_Right>\r\n\r\n          </Title>\r\n        }\r\n        \r\n        </Flex>\r\n        \r\n        {props.children}\r\n      </Flex>\r\n    </StyledDiv>\r\n  )\r\n}\r\n\r\nexport default Container","import React from 'react'\r\nimport Flex from './../controls/Flex'\r\nimport Container from './../controls/Container'\r\n\r\nfunction Form(props) {\r\n  const onSubmit = (e) => {\r\n    e.preventDefault()\r\n    if (typeof(props.onSubmit) === 'function') {\r\n      props.onSubmit()\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Container bg=\"#f5f5f5\" title={props.title} width={props.width}>\r\n      <form onSubmit={onSubmit}>\r\n        {props.children}\r\n      </form>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Form","export const Server = {\r\n    // address: 'http://localhost:5000',\r\n    // address: 'http://192.168.0.121:5000',\r\n    address: 'http://aiasoft.ge:5000', //aiasoft\r\n    // address: 'http://aiasoft.ge:5555', //aiasoft\r\n    // address: 'http://104.198.164.184:5000', //სატესტო\r\n    // address: 'http://34.65.31.103:5000', //სატესტო 2\r\n    \r\n}","import React, { Component } from 'react'\r\nimport axios from 'axios';\r\nimport { Server } from 'Server'\r\n\r\nconst onFinished = (response, on_finished) => {\r\n\r\n  if (!response.data) {\r\n    return\r\n  }\r\n\r\n  if (typeof(on_finished) === 'function') {\r\n    on_finished(response.data)\r\n  }\r\n\r\n}\r\n\r\nconst onError = (user, url, data, on_finished, error, on_error, callAfterFunction) => {\r\n\r\n  //სერვერთან კავშირის პრობლემა\r\n  if (!error.response) {\r\n    console.log(error);\r\n    alert('სერვერთან კავშირის პრობლემა!')\r\n    // window.location.assign(\"/404\")\r\n    return;\r\n  }\r\n\r\n  //ტოკენის განახლება\r\n  if (user && error.response.status === 401) {\r\n\r\n    if (error.response.data.error_code === 1) {\r\n      user.update_token(callAfterFunction, user, url, data, on_finished, on_error)\r\n      return;\r\n    }\r\n\r\n    //ცინცხალი ტოკენის მოთხოვნა\r\n    if (error.response.data.error_code === 5) {\r\n      user.update_user({...user, freshTokenRequired: true, callAfter: {func: callAfterFunction, url: url, data: data, on_finished: on_finished, on_error: on_error}})\r\n      return;\r\n    }\r\n\r\n    //თუ სხვა ტაბიდან გამოვიდა\r\n    if (!localStorage.getItem('access_token')) {\r\n      window.location.reload()\r\n      return\r\n    }\r\n  }\r\n\r\n  if (typeof(on_error) === 'function') {\r\n    on_error(error.response);\r\n  }\r\n}\r\n\r\nconst Get = (user, url, data, on_finished, on_error)  => {\r\n\r\n  axios.get(`${Server.address}/${url}`, {\r\n    headers: user ? {Authorization: 'Bearer ' +  user.access_token} : {},\r\n    params: data,\r\n  })\r\n  .then(response => {\r\n    onFinished(response, on_finished)\r\n  })\r\n  .catch(error => {\r\n    onError(user, url, data, on_finished, error, on_error, Get)\r\n  })  \r\n}\r\n\r\nconst Post = (user, url, data, on_finished, on_error)  => {\r\n\r\n  axios.post(`${Server.address}/${url}`, data, user ? {headers: {Authorization: 'Bearer ' + user.access_token}} : {})\r\n  .then(response => {\r\n    onFinished(response, on_finished)\r\n  })\r\n  .catch(error => {\r\n    onError(user, url, data, on_finished, error, on_error, Post)\r\n  })\r\n}\r\n\r\nconst Put = (user, url, data, on_finished, on_error)  => {\r\n\r\n  axios.put(`${Server.address}/${url}`, \r\n    data,\r\n    user ? {headers: {Authorization: 'Bearer ' +  user.access_token}} : {}\r\n  ).then(response => {\r\n    onFinished(response, on_finished)\r\n  })\r\n  .catch(error => {\r\n    onError(user, url, data, on_finished, error, on_error, Put)\r\n  })  \r\n}\r\n\r\nconst Delete = (user, url, data, on_finished, on_error)  => {\r\n\r\n  axios.delete(`${Server.address}/${url}`, {headers: user ? {Authorization: 'Bearer ' + user.access_token} : {}, data: data})\r\n  .then(response => {\r\n    onFinished(response, on_finished)\r\n  })\r\n  .catch(error => {\r\n    onError(user, url, data, on_finished, error, on_error, Delete)\r\n  })\r\n}\r\n\r\nconst Head = (user, url, data, on_finished, on_error)  => {\r\n\r\n  axios.head(`${Server.address}/${url}`, {headers: user ? {Authorization: 'Bearer ' + user.access_token} : {}, params: data})\r\n  .then(response => {\r\n    onFinished(response, on_finished)\r\n  })\r\n  .catch(error => {\r\n    onError(user, url, data, on_finished, error, on_error, Head)\r\n  })\r\n}\r\n\r\nclass JN {\r\n\r\n  static get(user, url, data, on_finished, on_error) {\r\n    Get(user, url, data, on_finished, on_error)\r\n  }\r\n\r\n  static post(user, url, data, on_finished, on_error) {\r\n    Post(user, url, data, on_finished, on_error)\r\n  }\r\n\r\n  static put(user, url, data, on_finished, on_error) {\r\n    Put(user, url, data, on_finished, on_error)\r\n  }\r\n\r\n  static delete(user, url, data, on_finished, on_error) {\r\n    Delete(user, url, data, on_finished, on_error)\r\n  }\r\n\r\n  static head(user, url, data, on_finished, on_error) {\r\n    Head(user, url, data, on_finished, on_error)\r\n  }\r\n}\r\n\r\nexport default JN","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nconst StyledDiv = styled.div `\r\n  margin-top: 50px;\r\n`\r\nconst ContainerFooter = (props) => {\r\n  return (\r\n    <StyledDiv>\r\n      {props.children}\r\n    </StyledDiv>\r\n  )\r\n}\r\n\r\nexport default ContainerFooter","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport styled, { css } from 'styled-components'\r\nimport { theme } from 'Themes'\r\n\r\nconst SLink = styled(Link) `\r\n  color: var(--color_link);\r\n  text-decoration: none;\r\n  display: inline-flex;\r\n\r\n  &:hover {\r\n    color: var(--color_link);\r\n  }\r\n\r\n  ${props => props.hover && css `\r\n    color: var(--color_c2);\r\n    &:hover {\r\n      color: var(--color_link);\r\n    }\r\n  `}\r\n\r\n  ${props => props.disabled && css `\r\n    color: var(--color_c3);\r\n    pointer-events: none;\r\n  `}\r\n`\r\n\r\nconst A = props => {\r\n\r\n  if (props.disabled) \r\n  {\r\n    return (<span style={{color: 'var(--color_c3)'}}>{props.children}</span>)\r\n  }\r\n  return (\r\n    <SLink {...props} to={props.to} hover={props.hover}>\r\n      {props.children}\r\n    </SLink>\r\n  )\r\n}\r\n\r\nexport default A","export const LOG_IN  = 'LOG_ON'\r\nexport const LOG_OUT = 'LOG_OUT'\r\nexport const USER_UPDATE = 'USER_UPDATE'\r\n\r\nconst login = (state, user) => {\r\n  localStorage.setItem('access_token',  user.access_token)\r\n  localStorage.setItem('refresh_token', user.refresh_token)\r\n\r\n  return {...state, ...user, is_loginning_in: false,}\r\n}\r\n\r\nconst logout = user => {\r\n  localStorage.removeItem('access_token')\r\n  localStorage.removeItem('refresh_token')\r\n\r\n  return null\r\n}\r\n\r\nconst userUpdate = (state, user) => {\r\n  localStorage.setItem('access_token',  user.access_token)\r\n  localStorage.setItem('refresh_token', user.refresh_token)\r\n\r\n  return {...state, ...user}\r\n  // return {...state, user: {...state.user, ...user}}\r\n}\r\n\r\nexport const UserReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case LOG_IN:\r\n      return login(state, action.user);\r\n    case LOG_OUT:\r\n      return logout(state)\r\n    case USER_UPDATE:\r\n      return userUpdate(state, action.user)\r\n    default:\r\n      return state\r\n  }\r\n}","import React, { useReducer, createContext } from 'react'\r\nimport { UserReducer, LOG_IN, LOG_OUT, USER_UPDATE } from './UserReducer'\r\nimport JN from 'JN'\r\n\r\nexport const UserContext = createContext({})\r\n\r\nexport const UserProvider = props => {\r\n\r\n  const initialState = null\r\n\r\n  const [state, dispatch] = useReducer(UserReducer, initialState)\r\n\r\n  const login = user => {\r\n    dispatch({\r\n      type: LOG_IN,\r\n      user: {\r\n        ...user,\r\n        favourites: [\r\n          { id: 1, title: 'ამოცანა 1' },\r\n          { id: 2, title: 'ამოცანა 2' },\r\n          { id: 3, title: 'ამოცანა 3' },\r\n          { id: 4, title: 'ამოცანა 4' },\r\n          { id: 5, title: 'ამოცანა 5' },\r\n        ],\r\n        update_user: (newUser) => userUpdate(newUser),\r\n        update_token: (callAfterFunction, user, url, data, on_finished, on_error) => {\r\n          let temp = user;\r\n          temp.access_token = user.refresh_token\r\n          JN.post(temp, 'refresh', {}, (d) => {\r\n            let updatedUser = { ...user, access_token: d.access_token }\r\n            userUpdate(updatedUser)\r\n            console.log('~token updated')\r\n\r\n            callAfterFunction(updatedUser, url, data, on_finished, on_error)\r\n\r\n          }, (error) => console.log('#error refreshing token:', error))\r\n        }\r\n      },\r\n    })\r\n\r\n  }\r\n\r\n  const logout = () => {\r\n    const user = state\r\n    JN.post(user, 'logout', {},\r\n      () => {\r\n        JN.post({ access_token: user.refresh_token }, 'logout2', {})\r\n      })\r\n    dispatch({ type: LOG_OUT })\r\n  }\r\n\r\n  const userUpdate = user => {\r\n    dispatch({ type: USER_UPDATE, user: user });\r\n  }\r\n\r\n\r\n  //სატესტოდ. ახლა გამოიყენება ჩათში ოთახის გახსნისას რო იქ განახლდეს ოთახები. მარა შესაცვლელია. ოთახის კონტექსტი ან რამე უნდა იყოს\r\n  const refreshGlobalState = () => {\r\n    dispatch({ type: USER_UPDATE, user: state });\r\n  }\r\n\r\n  return (\r\n    <UserContext.Provider value={{\r\n      user: state,\r\n      login: login,\r\n      logout: logout,\r\n      userUpdate: userUpdate,\r\n      refreshGlobalState: refreshGlobalState\r\n    }}>\r\n      {props.children}\r\n    </UserContext.Provider>\r\n  )\r\n}","import React, { useState, useEffect } from 'react'\r\nimport styled, { css } from 'styled-components'\r\nimport { theme } from 'Themes'\r\n\r\nconst MessageBoxContainer = styled.div `\r\n\r\n  -webkit-touch-callout: none; /* iOS Safari */\r\n    -webkit-user-select: none; /* Safari */\r\n     -khtml-user-select: none; /* Konqueror HTML */\r\n       -moz-user-select: none; /* Old versions of Firefox */\r\n        -ms-user-select: none; /* Internet Explorer/Edge */\r\n            user-select: none; /* Non-prefixed version, currently\r\n                                  supported by Chrome, Opera and Firefox */\r\n\r\n\r\n  animation: .2s ease-in-out both fade-in;\r\n  @keyframes fade-in {\r\n    0% {\r\n      opacity: 0;\r\n    }\r\n    \r\n    100% {\r\n      opacity: 1;\r\n    }\r\n  }\r\n\r\n  z-index: 1000;\r\n  font-size: 14px;\r\n  width: 100%;\r\n  padding: 20px;\r\n  border: none;\r\n  border-radius: 5px;\r\n  border-top-right-radius: 5px;\r\n  border-bottom-right-radius: 5px;\r\n\r\n  background-color: #1e1e1e;\r\n  box-shadow: 0px 0px 4px var(--color_primary);\r\n  border-right: 8px solid var(--color_primary);\r\n  color: white;\r\n  margin: 10px;\r\n  margin-top: 5px;\r\n\r\n  ${props => props.type === 'error' && css`\r\n    border-color: var(--color_red);\r\n    box-shadow: 0px 0px 4px var(--color_red);\r\n  `}\r\n\r\n  ${props => props.type === 'success' && css`\r\n  border-color: var(--color_green);\r\n    box-shadow: 0px 0px 4px var(--color_green);\r\n  `}\r\n\r\n  /* pointer-events: auto; */\r\n`\r\n\r\nconst MessageBox = props => {\r\n  const { toast, type } = props\r\n\r\n  const [timeLeft, setTimeLeft] = useState(3000)\r\n\r\n  const timeout = () => {\r\n    // let time = timeLeft - 1\r\n    // setTimeLeft(time)\r\n   \r\n    // if (timeLeft <= 0) {\r\n      props.timeout(toast.id)\r\n    // }\r\n  }\r\n\r\n  useEffect(() => {\r\n    // const interval = setInterval(timeout, 1000);\r\n    const timer = setTimeout(timeout, timeLeft)\r\n    return () => clearTimeout(timer);\r\n  })\r\n\r\n  const on_messagebox_clicked = e => {\r\n    e.preventDefault()\r\n    props.timeout(toast.id)\r\n  }\r\n\r\n  return (\r\n    <MessageBoxContainer type={type} onClick={on_messagebox_clicked}>\r\n      {toast.message} {type === 'error' && <span style={{color: theme.red}}>!</span>}\r\n    </MessageBoxContainer>\r\n  )\r\n}\r\n\r\nexport default MessageBox","import React, { useState, createContext } from 'react'\r\nimport MessageBox from './MessageBox'\r\nimport styled from 'styled-components'\r\n\r\nconst MessageBoxContainer = styled.div`\r\n  background-color: transparent;\r\n  position: fixed;\r\n  left: 15px;\r\n  bottom: 15px;\r\n  width: 300px;\r\n  z-index: 1000;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-end;\r\n`\r\n\r\nexport const MessageBoxContext = createContext({})\r\n\r\nexport const MessageBoxProvider = props => {\r\n\r\n  const [toasts, setToasts] = useState([\r\n    // {id: 1, message: 'ტესტ 1', type: 'info'},\r\n    // {id: 2, message: 'ტესტ 2', type: 'success'},\r\n    // {id: 3, message: 'ტესტ 3', type: 'error'}\r\n  ])\r\n  const [maxId, setMaxId] = useState(4)\r\n\r\n  const [messageBox, setMessageBox] = useState({\r\n    isOpen: false,\r\n    text: '',\r\n    callBack_accepted: null,\r\n  })\r\n\r\n  // return () => clearInterval(interval);\r\n\r\n  const onTimeout = (id) => {\r\n    setToasts([])\r\n    // clearInterval(interval)\r\n\r\n    // setToasts(toasts.slice(1))\r\n  }\r\n\r\n\r\n  const timeout = id => {\r\n    setToasts(toasts.filter(toast => toast.id !== id))\r\n  }\r\n\r\n  const toast = (message = '', type = null) => {\r\n    // setToasts([{id: maxId, message: message, type: type}, ...toasts])\r\n    setToasts([{ id: maxId, message: message, type: type }])\r\n    setMaxId(maxId + 1)\r\n    // setTimeout(onTimeout, 3000)\r\n  }\r\n\r\n  const jMb = (text, callBack_accepted) => {\r\n    setMessageBox({ ...messageBox, isOpen: true, text: text, callBack_accepted: callBack_accepted })\r\n  }\r\n\r\n  const closeMessageBox = () => {\r\n    setMessageBox({...messageBox, isOpen: false})\r\n  }\r\n\r\n  return (\r\n    <MessageBoxContext.Provider value={{\r\n      toast: toast,\r\n      jMb: jMb,\r\n      jMessageBox: messageBox,\r\n      closeMessageBox: closeMessageBox,\r\n    }}>\r\n\r\n      <MessageBoxContainer>\r\n        {toasts.map(toast =>\r\n          <MessageBox type={toast.type ? toast.type : 'info'} key={toast.id} timeout={timeout} toast={toast} />\r\n        )}\r\n      </MessageBoxContainer>\r\n\r\n\r\n      {props.children}\r\n    </MessageBoxContext.Provider>\r\n  )\r\n}","export const Validate_email = email => {\r\n  const re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n  return re.test(String(email).toLowerCase())\r\n}\r\n\r\nexport const Validate_username = username => {\r\n  const re = /^[a-z0-9_-]{3,20}$/\r\n  return re.test(String(username).toLowerCase())\r\n}\r\n\r\nexport const Validate_password = password => {\r\n  return password.length >= 5 && password.length <= 20\r\n}\r\n\r\nexport const isUrl = str => {\r\n  const re = /^(?:(?:https?|ftp):\\/\\/)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:\\/\\S*)?$/\r\n  return re.test(str)\r\n}\r\n\r\n\r\n// export const Validate_time_hours = datetime => {\r\n//   const re = /^(?:\\d*):[0-5][0-9]$/\r\n//   return re.test(String(datetime).toLowerCase())\r\n// }\r\n\r\n// export const Date_to_hours_and_seconds = datetime => {\r\n\r\n//   let delta = Math.abs(datetime) / 1000;\r\n//   let days = Math.floor(delta / 86400);\r\n//   delta -= days * 86400;\r\n//   let hours = Math.floor(delta / 3600) % 24;\r\n//   delta -= hours * 3600;\r\n//   let minutes = Math.floor(delta / 60) % 60;\r\n//   delta -= minutes * 60;\r\n//   let seconds = Math.floor(delta % 60);\r\n// }\r\n\r\nexport const ScrollTo = (ref, ms = 0, left = false) => {\r\n  if (!ref)\r\n    return;\r\n\r\n  if (!ref.current)\r\n    return;\r\n\r\n  if (left) {\r\n    if (ref.current) setTimeout(() => window.scrollTo(ref.current.offsetLeft, 0, ms));\r\n  }\r\n  else {\r\n    if (ref.current) setTimeout(() => window.scrollTo(0, ref.current.offsetTop, ms));\r\n  }\r\n}\r\n\r\nexport const Get_Number = x => {\r\n  return x\r\n  return x % 10 === 6 ? x - 1 + '+1' : x\r\n}\r\n\r\nexport const Code_Editor_Names = {\r\n  'C++17': 'c_cpp',\r\n  'C++14': 'c_cpp',\r\n  'C++11': 'c_cpp',\r\n  'C#': 'csharp',\r\n  'C': 'c_cpp',\r\n  'Pascal': 'pascal',\r\n  'Free Pascal': 'pascal',\r\n  'Python 3': 'python',\r\n  'Python 2': 'python',\r\n  'Java 11': 'java',\r\n  'Java': 'java',\r\n  'JavaScript': 'javascript',\r\n  'Node.js': 'javascript'\r\n}\r\n\r\nexport let defaultCodes = {\r\n  'C++':\r\n    `#include <bits/stdc++.h>\r\n\r\nusing namespace std;\r\n\r\nint main() {\r\n\r\n\r\n    return 0;\r\n}`,\r\n  'Pascal':\r\n    `begin\r\n\r\n\r\nend.`,\r\n  'C#':\r\n    `namespace Program\r\n{\r\n    class cProgram {\r\n        static void Main(string[] args)\r\n        {\r\n\r\n        }\r\n    }\r\n}\r\n`,\r\n  'C':\r\n    `#include <stdio.h>\r\nint main() {\r\n\r\n    return 0;\r\n}`,\r\n  'Java':\r\n    `class Main\r\n{\r\n    public static void main(String args[])\r\n    {\r\n\r\n    }\r\n}`,\r\n}\r\n\r\nvar romanMatrix = [\r\n  [1000, 'M'],\r\n  [900, 'CM'],\r\n  [500, 'D'],\r\n  [400, 'CD'],\r\n  [100, 'C'],\r\n  [90, 'XC'],\r\n  [50, 'L'],\r\n  [40, 'XL'],\r\n  [10, 'X'],\r\n  [9, 'IX'],\r\n  [5, 'V'],\r\n  [4, 'IV'],\r\n  [1, 'I']\r\n];\r\n\r\nexport const convertToRoman = num => {\r\n  if (num === 0) {\r\n    return '';\r\n  }\r\n  for (var i = 0; i < romanMatrix.length; i++) {\r\n    if (num >= romanMatrix[i][0]) {\r\n      return romanMatrix[i][1] + convertToRoman(num - romanMatrix[i][0]);\r\n    }\r\n  }\r\n}\r\n\r\nexport const Get_PaginationArray = (totalPages, currentPage) => {\r\n  totalPages *= 1\r\n  currentPage *= 1\r\n\r\n  //#??? ამის უკეთესი ალგორითმია მოსაფიქრებელი.. უნდა გადაეცეს visiblePagesCount და ყველაფერი\r\n\r\n  let list = []\r\n\r\n  if (totalPages <= 7) {\r\n    for (let i = 1; i <= totalPages; i++) {\r\n      list.push(i)\r\n    }\r\n  }\r\n  else {\r\n    list.push(1)\r\n\r\n    if (currentPage > totalPages - 4) {\r\n      list = [...list, totalPages - 5, totalPages - 4, totalPages - 3, totalPages - 2, totalPages - 1]\r\n    }\r\n    else if (currentPage > 4) {\r\n      list = [...list, currentPage - 2, currentPage - 1, currentPage, currentPage + 1, currentPage + 2]\r\n    }\r\n    else {\r\n      list = [...list, 2, 3, 4, 5, 6]\r\n    }\r\n    list.push(totalPages)\r\n  }\r\n\r\n  return list\r\n}\r\n\r\nexport const Convert_date_to_string = json_date => {\r\n  let date = new Date(json_date);\r\n  if (json_date === 'now') {\r\n    date = new Date()\r\n  }\r\n  let year = date.getFullYear()\r\n  let month = date.getMonth()\r\n  let day = date.getDate()\r\n  let hours = date.getHours()\r\n  let minutes = date.getMinutes()\r\n  let seconds = date.getSeconds()\r\n  return `${day < 10 ? 0 : ''}${day}/${month < 9 ? 0 : ''}${month + 1}/${year} ${hours < 10 ? 0 : ''}${hours}:${minutes < 10 ? 0 : ''}${minutes}`\r\n}\r\n\r\nexport const Compare_datetimes = (json_first_date, json_second_date) => {\r\n  let firstDate = new Date(json_first_date);\r\n  let secondDate = new Date(json_second_date);\r\n\r\n  if (json_first_date === 'now')\r\n    firstDate = new Date()\r\n  if (json_second_date === 'now')\r\n    secondDate = new Date()\r\n\r\n  return firstDate > secondDate\r\n}\r\n\r\nexport const dateAdd = (date, interval, units) => {\r\n  if (!(date instanceof Date))\r\n    return undefined;\r\n\r\n  let ret = new Date(date);\r\n  let checkRollover = function () { if (ret.getDate() != date.getDate()) ret.setDate(0); };\r\n  switch (String(interval).toLowerCase()) {\r\n    case 'year': ret.setFullYear(ret.getFullYear() + units); checkRollover(); break;\r\n    case 'quarter': ret.setMonth(ret.getMonth() + 3 * units); checkRollover(); break;\r\n    case 'month': ret.setMonth(ret.getMonth() + units); checkRollover(); break;\r\n    case 'week': ret.setDate(ret.getDate() + 7 * units); break;\r\n    case 'day': ret.setDate(ret.getDate() + units); break;\r\n    case 'hour': ret.setTime(ret.getTime() + units * 3600000); break;\r\n    case 'minute': ret.setTime(ret.getTime() + units * 60000); break;\r\n    case 'second': ret.setTime(ret.getTime() + units * 1000); break;\r\n    default: ret = undefined; break;\r\n  }\r\n  return ret;\r\n}\r\n\r\nexport const Get_dateDiff_toString = (json_start_date, json_end_time, show_seconds = false, countdown = false) => {\r\n  let startDate = new Date(json_start_date);\r\n  let endDate = new Date(json_end_time);\r\n\r\n  if (json_start_date === 'now')\r\n    startDate = new Date()\r\n  if (json_end_time === 'now')\r\n    endDate = new Date()\r\n\r\n  let delta = Math.abs(startDate - endDate) / 1000;\r\n  let days = Math.floor(delta / 86400);\r\n  delta -= days * 86400;\r\n  let hours = Math.floor(delta / 3600) % 24;\r\n  delta -= hours * 3600;\r\n  let minutes = Math.floor(delta / 60) % 60;\r\n  delta -= minutes * 60;\r\n  let seconds = Math.floor(delta % 60);\r\n\r\n  let diff = { days: null, hours: null, minutes: null, seconds: null }\r\n\r\n  if (countdown && startDate > endDate)\r\n    return null\r\n  if (!countdown && startDate < endDate)\r\n    return null\r\n  // return (days < 10 ? \"0\" : \"\") + days + \":\" + (hours < 10 ? \"0\" : \"\") + hours + \":\" + (minutes < 10 ? \"0\" : \"\") + minutes + \":\" + (seconds < 10 ? \"0\" : \"\") + seconds\r\n  // let diff = ''\r\n  // if (days !== 0)\r\n  //   diff = days + 'დღე '\r\n  // if (hours !== 0 || days !== 0)\r\n  //   diff += hours + 'სთ '\r\n  // if (minutes !== 0 || days !== 0 || hours !== 0)\r\n  //   diff += minutes + 'წთ '\r\n  // if (show_seconds)\r\n  //   diff += seconds + წმ'\r\n\r\n\r\n  if (days !== 0)\r\n    diff.days = days\r\n  if (hours !== 0 || days !== 0)\r\n    diff.hours = hours\r\n  if (minutes !== 0 || days !== 0 || hours !== 0)\r\n    diff.minutes = minutes\r\n  if (show_seconds)\r\n    diff.seconds = seconds\r\n\r\n  return diff\r\n}\r\n\r\nexport const Get_contest_status = (json_start_date, json_end_time) => {\r\n  let startDate = new Date(json_start_date)\r\n  let endDate = new Date(json_end_time)\r\n  let now = new Date()\r\n\r\n  //დაგეგმილი\r\n  if (now < startDate) {\r\n    return 2\r\n  }\r\n  //დასრულებული\r\n  else if (now >= endDate) {\r\n    return 0\r\n  }\r\n  //მიმდინარეობს\r\n  else {\r\n    return 1\r\n  }\r\n}\r\n\r\nexport const Copy = text => {\r\n  // if (typeof(window.navigator.clipboard) === 'undefined') {\r\n\r\n  let textArea = document.createElement(\"textarea\");\r\n  textArea.value = text;\r\n  textArea.style.position = \"fixed\";\r\n  document.body.appendChild(textArea);\r\n  textArea.focus();\r\n  textArea.select();\r\n\r\n  try {\r\n    let successful = document.execCommand('copy');\r\n    if (!successful) {\r\n      document.body.removeChild(textArea);\r\n      return false;\r\n    }\r\n  } catch (error) {\r\n    document.body.removeChild(textArea);\r\n    return false;\r\n  }\r\n\r\n  document.body.removeChild(textArea);\r\n  return true;\r\n  // }\r\n\r\n  // navigator.clipboard.writeText(text).then(function() {\r\n\r\n  //   return true;\r\n  // }, function(err) {\r\n  //   return false;\r\n  // });\r\n}","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nconst StyledGrid = styled.div `\r\n  display: grid;\r\n  grid-template-columns: repeat(${props => props.columns}, auto);\r\n  grid-column-gap: ${props => props.gap};\r\n  width: 100%;\r\n`\r\n\r\nconst Grid = props => {\r\n\r\n  return (\r\n    <StyledGrid {...props}>\r\n      {props.children}\r\n    </StyledGrid>\r\n  )\r\n}\r\n\r\nexport default Grid","import React, { useState, useEffect, useContext, useRef } from 'react'\r\nimport Flex from '../../controls/Flex'\r\nimport Button from '../../controls/Button'\r\nimport Input from '../../controls/Input'\r\nimport Form from '../../controls/Form'\r\nimport JN from 'JN'\r\nimport { withRouter, Link, Redirect } from 'react-router-dom'\r\nimport Container from '../../controls/Container'\r\nimport ContainerFooter from '../../controls/ContainersFooter'\r\nimport FacebookLogin from 'react-facebook-login';\r\nimport A from '../../controls/A'\r\nimport { UserContext } from 'contexts/UserContext'\r\nimport { MessageBoxContext } from 'contexts/MessageBoxContext'\r\nimport { Validate_email, Validate_username, Validate_password } from 'Global_Functions'\r\nimport Grid from 'controls/Grid'\r\nimport { theme } from 'Themes'\r\nimport { GlobalContext } from 'contexts/GlobalContext'\r\nimport ReactGA from 'react-ga'\r\n\r\nfunction Registration(props) {\r\n  const { history } = props;\r\n  const refForm = useRef(null);\r\n  const { tr } = useContext(GlobalContext);\r\n  const { user }  = useContext(UserContext);\r\n  const { toast } = useContext(MessageBoxContext);\r\n\r\n  const [state, setState] = useState({\r\n    user: {\r\n      username: \"\",\r\n      name: \"\",\r\n      surname: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n    },\r\n    error: {username: false, name: false, surname: false, email: false, password: false,},\r\n    errorMessage: {email: tr('ასეთი ფოსტა უკვე არსებობს')},\r\n    isLoading: false,\r\n    thankYouPageVisible: false,\r\n  })\r\n\r\n  useEffect(() => {\r\n    if (refForm.current) window.scrollTo(0, refForm.current.offsetTop)\r\n  }, [])\r\n  const onChange = (e) => {\r\n    setState({\r\n      ...state,\r\n      user: {\r\n        ...state.user,\r\n        [e.target.name]: e.target.value,\r\n      }\r\n    })\r\n  }\r\n\r\n  //რეგისტრაცია\r\n  const onSubmit = () => {\r\n    //მონაცემების შემოწმება\r\n    if (!Validate_username(state.user.username)) {\r\n      toast(tr('მომხმარებლის სახელი შეიცავს აკრძალულ სიმბოლოებს'), 'error')\r\n      setState({...state, error: {username: true}, errorMessage: {username: 'უნდა იყოს 3-დან 20 სიმბოლომდე და უნდა შედგებოდეს მხოლოდ ლათინური სიმბოლოების, ციფრების ან დეფისებისაგან'}})\r\n      return\r\n    }\r\n\r\n    if (!Validate_email(state.user.email)) {\r\n      toast(tr('ფოსტის ფორმატი არასწორია'), 'error')\r\n      setState({...state, error: {email: true}, errorMessage: {email: 'ფოსტის ფორმატი არასწორია'}})\r\n      return\r\n    }\r\n\r\n    if (!Validate_password(state.user.password)) {\r\n      toast(tr('პაროლი ფორმატი არასწორია'), 'error')\r\n      setState({...state, error: {password: true}, errorMessage: {password: 'პაროლი უნდა იყოს 5 სიმბოლოდან 20 სიმბოლომდე'}})\r\n      return\r\n    }\r\n\r\n    //სერვერზე გაგზავნა\r\n    setState({\r\n      ...state,\r\n      isLoading: true,\r\n    })\r\n\r\n    JN.post(null, `register`, state.user,\r\n    () => {\r\n      setState({\r\n        ...state,\r\n        isLoading: false,\r\n        thankYouPageVisible: true,\r\n      })\r\n      ReactGA.event({category: 'მომხმარებლი', action: 'მომხმარებელი დარეგისტრირდა', label: `${state.user.username}`});\r\n    },\r\n    (error) => {\r\n      let error_code = error.data.error_code\r\n\r\n      if (error_code === 1) {\r\n        toast(tr('ფოსტის ფორმატი არასწორია'), 'error')\r\n        setState({...state, isLoading: false, error: {email: true}, errorMessage: {email: 'ფოსტის ფორმატი არასწორია'}})\r\n      }\r\n      else if (error_code === 2) {\r\n        toast(tr('პაროლის ფორმატი არასწორია'), 'error')\r\n        setState({...state, isLoading: false, error: {password: true}, errorMessage: {password: 'პაროლის ფორმატი არასწორია'}})\r\n      }\r\n      else if (error_code === 3) {\r\n        toast(tr('აირჩიეთ უფრო გრძელი პაროლი'), 'error')\r\n        setState({...state, isLoading: false, error: {password: true}, errorMessage: {password: 'აირჩიეთ უფრო გრძელი პაროლი'}})\r\n      }\r\n      else if (error_code === 4) {\r\n        toast('ფოსტა უკვე გამოყენებულია', 'error')\r\n        setState({...state, isLoading: false, error: {email: true}, errorMessage: {email: 'ფოსტა უკვე გამოყენებულია'}})\r\n      }\r\n      else if (error_code === 5) {\r\n        toast(tr('მომხმარებელი უკვე არსებობს'), 'error')\r\n        setState({...state, isLoading: false, error: {username: true}, errorMessage: {username: 'მომხმარებელი უკვე არსებობს'}})\r\n      }\r\n    })\r\n  }\r\n\r\n  const on_facebook_login = (response) => {\r\n    console.log(response)\r\n\r\n    const name    = response.name.split(' ')[0]\r\n    const surname = response.name.split(' ')[1]\r\n\r\n    setState({\r\n      ...state,\r\n      user: {\r\n        ...state.user,\r\n        username: response.name.replace(' ', ''),\r\n        name: name,\r\n        surname: surname,\r\n        email: response.email,\r\n        password: response.id,\r\n      }\r\n    })\r\n  }\r\n\r\n  if (user) {\r\n    return (<Redirect to=\"/\" />)    \r\n  }\r\n\r\n  if (state.thankYouPageVisible)\r\n    return (\r\n      <div>\r\n        <Container title={tr(\"რეგისტრაცია დასრულდა\")}>\r\n          <div>\r\n            {tr(\"მადლობას გიხდით საიტზე დარეგისტრირებისათვის!\")}\r\n            <br />\r\n            {tr(\"ახლა უკვე შეგიძლიათ\")} <A to=\"login\">{tr('შესვლა')}</A>\r\n          </div>\r\n        </Container>\r\n      </div>\r\n    )\r\n  else return (\r\n    <>\r\n    <div style={{height: '1px', marginBottom: '25px'}} ref={refForm}></div>\r\n    <Form title={tr(\"რეგისტრაცია\")} onSubmit={onSubmit}>\r\n    {/* <FacebookLogin\r\n        appId=\"2632898383472476\"\r\n        autoLoad={false}\r\n        fields=\"name,email,picture\"\r\n        onClick={componentClicked}\r\n        callback={on_facebook_login}\r\n        scope=\"user_friends\"\r\n      /> */}\r\n\r\n      <Input focus required name=\"username\" title={tr(\"მომხმარებლის სახელი\")} value={state.user.username} errorText={state.errorMessage.username} isError={state.error.username} onChange={onChange} />\r\n      <Grid columns=\"2\" gap=\"15px\">\r\n        <Input required name=\"name\" title={tr(\"სახელი\")} ph=\"\" errorText={tr(\"შეიყვანეთ სახელი\")} isError={state.error.name} value={state.user.name} onChange={onChange} />\r\n        <Input required name=\"surname\" title={tr(\"გვარი\")} errorText={tr(\"შეიყვანეთ გვარი\")} isError={state.error.surname} value={state.user.surname} onChange={onChange} />\r\n      </Grid>\r\n      <Input required name=\"email\" title={tr(\"ფოსტა\")} errorText={state.errorMessage.email} isError={state.error.email} value={state.user.email} onChange={onChange} />\r\n      <Input required name=\"password\" type=\"password\" title={tr(\"პაროლი\")} errorText={tr(\"შეიყვანეთ პაროლი\")} errorText={state.errorMessage.password} isError={state.error.password} value={state.user.password} onChange={onChange} />\r\n      <ContainerFooter>\r\n        <Button disabled={state.isLoading}>{tr('დარეგისტრირება')}</Button>\r\n      </ContainerFooter>\r\n    </Form>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default withRouter(Registration)","import React, { useState, useEffect, useContext } from 'react'\r\nimport { BrowserRouter as Router, Redirect } from 'react-router-dom'\r\nimport Form from 'controls/Form'\r\nimport Input from 'controls/Input'\r\nimport Button from 'controls/Button'\r\nimport A from 'controls/A'\r\nimport { UserContext } from 'contexts/UserContext'\r\nimport JN from 'JN'\r\nimport { MessageBoxContext } from 'contexts/MessageBoxContext'\r\nimport { GlobalContext } from 'contexts/GlobalContext'\r\nimport ReactGA from 'react-ga'\r\n\r\nconst Login = props => {\r\n  const { tr } = useContext(GlobalContext);\r\n  const { history } = props;\r\n  const { toast } = useContext(MessageBoxContext);\r\n  \r\n  const {user, login} = useContext(UserContext)\r\n\r\n  const [state, setState] = useState({\r\n    user: {\r\n      username: '',\r\n      password: '',\r\n    },\r\n    is_loading: false,\r\n    was_loggedIn: user && user !== null,\r\n    error: {\r\n      username: '',\r\n      password: '',\r\n    },\r\n  })\r\n\r\n\r\n  const on_change = e => {\r\n    setState({\r\n      ...state,\r\n      user: {...state.user, [e.target.name]: e.target.value},\r\n    })\r\n  }\r\n\r\n  const on_submit = () => {\r\n\r\n    if (localStorage.getItem('access_token')) {\r\n      window.location.reload();\r\n      return\r\n    }\r\n\r\n    setState({\r\n      ...state,\r\n      is_loading: true,\r\n    })\r\n\r\n    JN.post(null, `login`, {username: state.user.username, password: state.user.password},\r\n    (data) => {\r\n      login({\r\n        ...state.user,\r\n        password: '',\r\n        access_token: data.access_token,\r\n        refresh_token: data.refresh_token,\r\n        ...data.user_info\r\n      })\r\n      ReactGA.event({category: 'მომხმარებლი', action: 'მომხმარებელი შევიდა', label: `${state.user.username}`});\r\n      history.goBack()\r\n    },\r\n    (error) => {\r\n\r\n      if (error.status === 400) {\r\n        setState({\r\n          ...state,\r\n          is_loading: false,\r\n          error: {\r\n            password: tr('პაროლი არასწორია'),\r\n          }\r\n        })\r\n        toast(tr('პაროლი არასწორია'), 'error')\r\n      }\r\n      else if (error.status === 404) {\r\n        setState({\r\n          ...state,\r\n          is_loading: false,\r\n          error: {\r\n            username: tr('მომხმარებლის სახელი არასწორია'),\r\n          }\r\n        })\r\n        toast(tr('მომხმარებლის სახელი არასწორია', 'error'))\r\n      }\r\n    })\r\n\r\n  }\r\n\r\n  if (user || state.was_loggedIn) {\r\n    return (\r\n      <Redirect to={`/profile/${user.username}`} />\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Form title={tr(\"შესვლა\")} onSubmit={on_submit}>\r\n\r\n      <Input required focus\r\n        name=\"username\"\r\n        isError={state.error.username}\r\n        errorText={state.error.username}\r\n        onChange={on_change}\r\n        title={tr(\"მომხმარებლის სახელი ან ფოსტა\")}\r\n      />\r\n\r\n      <Input required\r\n        name=\"password\"\r\n        isError={state.error.password}\r\n        errorText={state.error.password}\r\n        onChange={on_change}\r\n        title={tr(\"პაროლი\")}\r\n        type=\"password\"\r\n      />\r\n\r\n      <span style={{color: \"var(--color_c2)\", fontSize: '14px'}}>\r\n        {tr(\"დაგავიწყდა პაროლი\")}? <A to=\"/restorepassword\">{tr(\"აღადგინე\")}</A>\r\n      </span>\r\n\r\n      <div style={{marginTop: '50px'}}>\r\n        <Button disabled={state.is_loading}>{tr('შესვლა')}{state.is_loading ? '..' : ''}</Button>\r\n      </div>\r\n    </Form>\r\n  )\r\n}\r\n\r\nexport default Login","import React from 'react'\r\nimport styled, { css } from 'styled-components'\r\nimport { Link } from 'react-router-dom'\r\nimport { theme } from 'Themes'\r\n\r\nconst Styled_Button = styled(Link) `\r\n\r\n-webkit-touch-callout: none; /* iOS Safari */\r\n    -webkit-user-select: none; /* Safari */\r\n     -khtml-user-select: none; /* Konqueror HTML */\r\n       -moz-user-select: none; /* Old versions of Firefox */\r\n        -ms-user-select: none; /* Internet Explorer/Edge */\r\n            user-select: none; /* Non-prefixed version, currently\r\n                                  supported by Chrome, Opera and Firefox */\r\n                                  \r\n  position: fixed;\r\n  right: 15px;\r\n  bottom: ${props => props.count ? 15*props.count + 40*(props.count-1) : 15}px;\r\n  width: 40px;\r\n  height: 40px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border-radius: 50%;\r\n  background-color: var(--color_b2);\r\n  box-shadow: 0px 1px 3px rgba(0, 0, 0, 0.4);\r\n\r\n  ${props => props.full && css `\r\n    width: 265px;\r\n    border-radius: 20px;\r\n    justify-content: flex-start;\r\n    padding-left: 15px;\r\n    text-decoration: none;\r\n    color: var(--color_c2);\r\n    font-family: ${theme.fontCaps};\r\n  `};\r\n\r\n  &:hover {\r\n    transition: box-shadow ease 250ms,\r\n                background-color ease 250ms;\r\n    /* background-color: #f5f5f5; */\r\n    box-shadow: 0px 3px 5px rgba(0, 0, 0, 0.4);\r\n  }\r\n`\r\n\r\n\r\nconst Button_Float = props => {\r\n\r\n  return (\r\n    <Styled_Button {...props} to={props.to ? props.to : ''}>\r\n      {props.children}\r\n    </Styled_Button>\r\n  )\r\n}\r\n\r\nexport default Button_Float","import React, { useState, useEffect } from 'react'\r\nimport { theme } from 'Themes'\r\n\r\nconst LoadingSvg = props => {\r\n\r\n  const [state, setState] = useState({\r\n    width: props.width,\r\n    height: props.height,\r\n  })\r\n\r\n  useEffect(() => {\r\n    if (!props.width) {\r\n      setState({\r\n        width: props.size,\r\n        height: props.size,\r\n      })\r\n    }\r\n  }, [])\r\n\r\n  const loadingColor = props.color ? props.color : 'var(--color_c2)'\r\n  const puffColor    = props.color ? props.color : 'var(--color_c2)';\r\n\r\n  if (props.dots) {\r\n    return (\r\n      <svg width=\"57\" height=\"57\" viewBox=\"0 0 120 30\" xmlns=\"http://www.w3.org/2000/svg\" fill={loadingColor}>\r\n        <circle cx=\"15\" cy=\"15\" r=\"15\">\r\n          <animate attributeName=\"r\" from=\"15\" to=\"15\"\r\n            begin=\"0s\" dur=\"0.8s\"\r\n            values=\"15;9;15\" calcMode=\"linear\"\r\n            repeatCount=\"indefinite\" />\r\n          <animate attributeName=\"fill-opacity\" from=\"1\" to=\"1\"\r\n            begin=\"0s\" dur=\"0.8s\"\r\n            values=\"1;.5;1\" calcMode=\"linear\"\r\n            repeatCount=\"indefinite\" />\r\n        </circle>\r\n        <circle cx=\"60\" cy=\"15\" r=\"9\" fillOpacity=\"0.3\">\r\n          <animate attributeName=\"r\" from=\"9\" to=\"9\"\r\n            begin=\"0s\" dur=\"0.8s\"\r\n            values=\"9;15;9\" calcMode=\"linear\"\r\n            repeatCount=\"indefinite\" />\r\n          <animate attributeName=\"fill-opacity\" from=\"0.5\" to=\"0.5\"\r\n            begin=\"0s\" dur=\"0.8s\"\r\n            values=\".5;1;.5\" calcMode=\"linear\"\r\n            repeatCount=\"indefinite\" />\r\n        </circle>\r\n        <circle cx=\"105\" cy=\"15\" r=\"15\">\r\n          <animate attributeName=\"r\" from=\"15\" to=\"15\"\r\n            begin=\"0s\" dur=\"0.8s\"\r\n            values=\"15;9;15\" calcMode=\"linear\"\r\n            repeatCount=\"indefinite\" />\r\n          <animate attributeName=\"fill-opacity\" from=\"1\" to=\"1\"\r\n            begin=\"0s\" dur=\"0.8s\"\r\n            values=\"1;.5;1\" calcMode=\"linear\"\r\n            repeatCount=\"indefinite\" />\r\n        </circle>\r\n      </svg>\r\n    )\r\n  }\r\n\r\n  if (props.oval) {\r\n    return (\r\n      <svg width=\"38\" height=\"38\" viewBox=\"0 0 38 38\" xmlns=\"http://www.w3.org/2000/svg\" stroke=\"#fff\">\r\n        <g fill=\"none\" fill-rule=\"evenodd\">\r\n          <g transform=\"translate(1 1)\" stroke-width=\"2\">\r\n            <circle stroke-opacity=\".5\" cx=\"18\" cy=\"18\" r=\"18\"/>\r\n            <path d=\"M36 18c0-9.94-8.06-18-18-18\">\r\n              <animateTransform\r\n                attributeName=\"transform\"\r\n                type=\"rotate\"\r\n                from=\"0 18 18\"\r\n                to=\"360 18 18\"\r\n                dur=\"1s\"\r\n                repeatCount=\"indefinite\"/>\r\n            </path>\r\n          </g>\r\n        </g>\r\n      </svg>\r\n    )\r\n  }\r\n  if (props.circle) {\r\n    return (\r\n      <svg width=\"18\" height=\"18\" viewBox=\"0 0 38 38\" xmlns=\"http://www.w3.org/2000/svg\">\r\n        <defs>\r\n          <linearGradient x1=\"8.042%\" y1=\"0%\" x2=\"65.682%\" y2=\"23.865%\" id=\"a\">\r\n            <stop stopColor=\"red\" stopOpacity=\"0\" offset=\"0%\"/>\r\n            <stop stopColor=\"red\" stopOpacity=\".631\" offset=\"63.146%\"/>\r\n            <stop stopColor=\"red\" offset=\"100%\"/>\r\n          </linearGradient>\r\n        </defs>\r\n        <g fill=\"none\" fillRule=\"evenodd\">\r\n          <g transform=\"translate(1 1)\">\r\n            <path d=\"M36 18c0-9.94-8.06-18-18-18\" id=\"Oval-2\" stroke=\"url(#a)\" strokeWidth=\"2\">\r\n              <animateTransform\r\n                attributeName=\"transform\"\r\n                type=\"rotate\"\r\n                from=\"0 18 18\"\r\n                to=\"360 18 18\"\r\n                dur=\"0.9s\"\r\n                repeatCount=\"indefinite\" />\r\n            </path>\r\n              <circle fill=\"red\" cx=\"36\" cy=\"18\" r=\"1\">\r\n                <animateTransform\r\n                  attributeName=\"transform\"\r\n                  type=\"rotate\"\r\n                  from=\"0 18 18\"\r\n                  to=\"360 18 18\"\r\n                  dur=\"0.9s\"\r\n                  repeatCount=\"indefinite\" />\r\n              </circle>\r\n          </g>\r\n        </g>\r\n      </svg>\r\n    )\r\n  }\r\n\r\n  if (props.puff) {\r\n    return (\r\n      <svg width={props.size ? props.size : '44'} height={props.size ? props.size : '44'} viewBox=\"0 0 44 44\" xmlns=\"http://www.w3.org/2000/svg\" stroke={puffColor}>\r\n        <g fill=\"none\" fillRule=\"evenodd\" strokeWidth=\"2\">\r\n          <circle cx=\"22\" cy=\"22\" r=\"1\">\r\n            <animate attributeName=\"r\"\r\n              begin=\"0s\" dur=\"1.8s\"\r\n              values=\"1; 20\"\r\n              calcMode=\"spline\"\r\n              keyTimes=\"0; 1\"\r\n              keySplines=\"0.165, 0.84, 0.44, 1\"\r\n              repeatCount=\"indefinite\" />\r\n            <animate attributeName=\"stroke-opacity\"\r\n              begin=\"0s\" dur=\"1.8s\"\r\n              values=\"1; 0\"\r\n              calcMode=\"spline\"\r\n              keyTimes=\"0; 1\"\r\n              keySplines=\"0.3, 0.61, 0.355, 1\"\r\n              repeatCount=\"indefinite\" />\r\n          </circle>\r\n          <circle cx=\"22\" cy=\"22\" r=\"1\">\r\n            <animate attributeName=\"r\"\r\n              begin=\"-0.9s\" dur=\"1.8s\"\r\n              values=\"1; 20\"\r\n              calcMode=\"spline\"\r\n              keyTimes=\"0; 1\"\r\n              keySplines=\"0.165, 0.84, 0.44, 1\"\r\n              repeatCount=\"indefinite\" />\r\n            <animate attributeName=\"stroke-opacity\"\r\n              begin=\"-0.9s\" dur=\"1.8s\"\r\n              values=\"1; 0\"\r\n              calcMode=\"spline\"\r\n              keyTimes=\"0; 1\"\r\n              keySplines=\"0.3, 0.61, 0.355, 1\"\r\n              repeatCount=\"indefinite\" />\r\n          </circle>\r\n        </g>\r\n      </svg>\r\n    )\r\n  }\r\n  return (\r\n    <svg width={state.width ? state.width : \"57\"} height={state.height ? state.height : \"57\"} viewBox=\"0 0 57 57\" xmlns=\"http://www.w3.org/2000/svg\" stroke=\"#fff\"><g fill=\"none\" fillRule=\"evenodd\"><g transform=\"translate(1 1)\"stroke={loadingColor} strokeWidth=\"2\"><circle fill={loadingColor} cx=\"5\" cy=\"50\" r=\"5\"><animate attributeName=\"cy\"begin=\"0s\" dur=\"2.2s\"values=\"50;5;50;50\"calcMode=\"linear\"repeatCount=\"indefinite\" /><animate attributeName=\"cx\"begin=\"0s\" dur=\"2.2s\"values=\"5;27;49;5\"calcMode=\"linear\"repeatCount=\"indefinite\" /></circle><circle fill={loadingColor} cx=\"27\" cy=\"5\" r=\"5\"><animate attributeName=\"cy\"begin=\"0s\" dur=\"2.2s\"from=\"5\" to=\"5\"values=\"5;50;50;5\"calcMode=\"linear\"repeatCount=\"indefinite\" /><animate attributeName=\"cx\"begin=\"0s\" dur=\"2.2s\"from=\"27\" to=\"27\"values=\"27;49;5;27\"calcMode=\"linear\"repeatCount=\"indefinite\" /></circle><circle fill={loadingColor} cx=\"49\" cy=\"50\" r=\"5\"><animate attributeName=\"cy\"begin=\"0s\" dur=\"2.2s\"values=\"50;50;5;50\"calcMode=\"linear\"repeatCount=\"indefinite\" /><animate attributeName=\"cx\"from=\"49\" to=\"49\"begin=\"0s\" dur=\"2.2s\"values=\"49;5;27;49\"calcMode=\"linear\"repeatCount=\"indefinite\" /></circle></g></g></svg>\r\n  )\r\n}\r\n\r\nexport default LoadingSvg","import React, { useState, useEffect } from 'react'\r\nimport { MdKeyboardArrowLeft, MdKeyboardArrowRight } from 'react-icons/md'\r\nimport { theme } from 'Themes'\r\nimport { Link, NavLink, Redirect } from 'react-router-dom'\r\nimport { Get_Number, Get_PaginationArray } from 'Global_Functions'\r\nimport styled, { css } from 'styled-components'\r\nimport LoadingSvg from 'components/LoadingSvg'\r\n\r\nconst Span = styled.span `\r\n  @media (max-width: ${theme.mobileSize}) {\r\n    display: none;\r\n  }\r\n`\r\n\r\nconst Pagination_Container = styled.div `\r\n\r\n  -webkit-touch-callout: none; /* iOS Safari */\r\n      -webkit-user-select: none; /* Safari */\r\n      -khtml-user-select: none; /* Konqueror HTML */\r\n        -moz-user-select: none; /* Old versions of Firefox */\r\n          -ms-user-select: none; /* Internet Explorer/Edge */\r\n              user-select: none; /* Non-prefixed version, currently\r\n                                    supported by Chrome, Opera and Firefox */\r\n\r\n  display: grid;\r\n  justify-content: start;\r\n  align-items: flex-end;\r\n  padding-bottom: 15px;\r\n  padding-left: 15px;\r\n  grid-auto-flow: column;\r\n  /* grid-template-columns: repeat(auto-fill, minmax(36px, 64px)); */\r\n  grid-column-gap: 5px;\r\n  margin-bottom: 15px;\r\n  background-color: var(--color_b2);\r\n  border-bottom-left-radius: 8px;\r\n  border-bottom-right-radius: 8px;\r\n  height: 100px;\r\n  /* border: 3px solid #e9ecf6; */\r\n  border-top: 0;\r\n\r\n  ${props => props.noBackground && css `\r\n    height: 65px;\r\n    box-shadow: 1px 2px 5px rgba(0, 0, 0, 0.2);\r\n    border-radius: 5px;\r\n    overflow: hidden;\r\n  `};\r\n\r\n  @media (max-width: ${theme.mobileSize}) {\r\n    padding-left: 0;\r\n  }\r\n`\r\n\r\nconst Pagination_Button = styled(NavLink) `\r\n  font-family: ${theme.fontCaps};\r\n  font-size: 14px;\r\n  color: var(--color_c2);\r\n  background-color: transparent;\r\n  padding: 5px 10px;\r\n  text-decoration: none;\r\n  height: 36px;\r\n\r\n  ${props => props.primary && css`\r\n    \r\n    border: 1px solid var(--color_red);\r\n    border-radius: 5px;\r\n  `}\r\n\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  transition: color ease 250ms;\r\n\r\n  ${props => props.disabled && css `  \r\n    pointer-events: none;\r\n    color: var(--color_c3);\r\n  `}\r\n\r\n  ${props => !props.disabled && css `\r\n    &:hover {\r\n      color: var(--color_red);\r\n    }\r\n  `}\r\n`\r\n\r\nconst Styled_NavLink = styled(NavLink) `\r\n  color: var(--color_c2);\r\n  font-family: ${theme.fontCaps};\r\n  font-size: 16px;\r\n  padding: 5px 10px;\r\n  height: 36px;\r\n  background: transparent;\r\n  text-decoration: none;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  &:hover {\r\n    color: var(--color_red);\r\n  }\r\n`\r\n\r\nconst PaginationContainer = props => {\r\n\r\n  const [state, setState] = useState({\r\n    current: 0,\r\n    total: 0,\r\n    visiblePages: [],\r\n  })\r\n\r\n  useEffect(() => {\r\n    setState({...props.pagination, visiblePages: Get_PaginationArray(props.pagination.total, props.pagination.current)})\r\n  }, [props.pagination])\r\n\r\n  if (props.pagination.total <= 1) {\r\n    return (<></>)\r\n  }\r\n  \r\n  return (\r\n   \r\n    <Pagination_Container noBackground={props.noBackground}>\r\n      {state.current > 1 ?\r\n        <Pagination_Button disabled={state.current <= 1} to={props.to.replace(':page', state.current - 1)}>\r\n          <MdKeyboardArrowLeft /> \r\n          {/* <Span>წინა</Span> */}\r\n        </Pagination_Button>\r\n      : <span style={{marginLeft: 5}}></span>\r\n      }\r\n      {state.visiblePages.map(page => \r\n        <Styled_NavLink key={page} to={props.to.replace(':page', page)}\r\n          activeStyle={{\r\n            pointerEvents: 'none',\r\n            borderBottom: `2px solid var(--color_red)`,\r\n            color: 'var(--color_red)',\r\n          }}\r\n          \r\n          isActive={(match, location) => {\r\n            if (!match) {\r\n\r\n              return state.current === 1 && page === 1;\r\n            }\r\n        \r\n            return true;\r\n          }}\r\n          >\r\n            {Get_Number(page)}\r\n          </Styled_NavLink>\r\n        )}\r\n        {props.pagination.current < props.pagination.total &&\r\n          <Pagination_Button disabled={props.pagination.current >= props.pagination.total} to={props.to.replace(':page', parseInt(state.current) + 1)} >\r\n            {/* <Span>მომდევნო</Span> */}\r\n            <MdKeyboardArrowRight />\r\n          </Pagination_Button>\r\n        }\r\n        {props.isLoading && <div style={{display: 'flex', justifyContent: 'center', alignItems: 'center', height: '36px'}}><LoadingSvg dots size=\"36\" /></div>}\r\n\r\n    </Pagination_Container>\r\n  )\r\n}\r\n\r\nexport default PaginationContainer","import React, { useContext } from 'react'\r\nimport styled, { css } from 'styled-components'\r\nimport { Link } from 'react-router-dom'\r\nimport { GlobalContext } from 'contexts/GlobalContext'\r\nimport B from './B';\r\n\r\nconst StledA = styled(Link) `\r\n  /* color: red; */\r\n  text-decoration: none;\r\n  /* color: var(--color_c2);\r\n  display: inline-flex;\r\n  align-items: center;\r\n  &:hover {\r\n    color: var(--color_link);\r\n  }\r\n\r\n  ${props => props.disabled && css `\r\n    pointer-events: none;\r\n    color: var(--color_c3);\r\n  `} */\r\n`;\r\n\r\nconst BoldA = props => {\r\n  const { global } = useContext(GlobalContext);\r\n\r\n  return (\r\n    <StledA {...props}><B hover>{props.children}</B></StledA>\r\n  )\r\n}\r\n\r\nexport default BoldA","import React, { useState, useEffect, useContext, useRef } from 'react'\r\nimport A from 'controls/A'\r\nimport { theme } from 'Themes'\r\nimport styled, { css } from 'styled-components'\r\nimport { Link, NavLink, Redirect } from 'react-router-dom'\r\nimport { MdAdd, MdDone, MdDelete, MdEdit, MdArrowDropUp, MdArrowDropDown } from 'react-icons/md'\r\nimport { Get_Number } from 'Global_Functions'\r\nimport { UserContext } from 'contexts/UserContext'\r\nimport { MessageBoxContext } from 'contexts/MessageBoxContext'\r\nimport Button_Float from 'controls/Button_Float'\r\nimport PaginationContainer from 'controls/pagination/PaginationContainer'\r\nimport LoadingSvg from 'components/LoadingSvg'\r\nimport JN from 'JN'\r\nimport { FaStar, FaCheck, FaTimes, FaSearch, FaMinus, FaHistory, FaRegStar, FaHeart, FaRegHeart } from 'react-icons/fa'\r\nimport Button from 'controls/Button'\r\nimport Input from 'controls/Input'\r\nimport Helmet from 'react-helmet'\r\nimport B from 'controls/B'\r\nimport BoldA from 'controls/BoldA'\r\n\r\nconst MainDiv = styled.div`\r\n  /* background-color: red; */\r\n  box-shadow: 0 6px 16px 0 rgba(0,0,0,.2);\r\n  margin-top: 45px;\r\n  border-radius: 8px;\r\n`\r\n\r\nconst HoverScaledSpan = styled.span`\r\n  display: flex;\r\n  align-items: center;\r\n  &:hover > svg {\r\n    transition: transform ease 250ms;\r\n    transform: scale(1.4);\r\n  }\r\n`\r\n\r\nconst FilterContainer = styled.div`\r\n  position: absolute;\r\n  top: 55px;\r\n  background-color: var(--color_b2);\r\n  /* box-shadow: 0 1px 5px rgba(0, 0, 0, .5); */\r\n  box-shadow: 0 3px 8px rgba(0, 0, 0, 0.2);\r\n  border-radius: 5px;\r\n  overflow: auto;\r\n  max-height: 250px;\r\n  width: ${props => props.width ? props.width : '100%'};\r\n  z-index: 1;\r\n`\r\n\r\nconst FilterItem = styled(Link)`\r\n  display: block;\r\n  ${props => props.flex && css`\r\n    display: flex;\r\n    justify-content: flex-start;  \r\n\r\n    button {\r\n      margin-left: auto;\r\n    }\r\n  `}\r\n\r\n  text-decoration: none;\r\n  color: var(--color_c2);\r\n  font-family: ${theme.font};\r\n  \r\n  padding-left: 10px;\r\n  padding-right: 10px;\r\n  /* height: 50px; */\r\n  line-height: 36px;\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  outline: none;\r\n\r\n  &:hover, &:focus {\r\n    color: var(--color_link);\r\n  }\r\n`\r\n\r\nconst FavouritesConteiner = styled.div`\r\n  text-align: left;\r\n  /* background-color: red; */\r\n  border-radius: 8px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-bottom: 20px;\r\n\r\n  #searchContainer {\r\n    width: 400px;\r\n    margin-right: 5px;\r\n  }\r\n\r\n  @media (max-width: ${theme.mobileSize}) {\r\n    & {\r\n      flex-direction: column;\r\n    }\r\n\r\n    margin-top: -90px;\r\n\r\n    #topNav {\r\n      width: 100%;\r\n      flex-direction: column;\r\n      padding-left: 8px;\r\n      margin-bottom: 36px;\r\n      button {\r\n        width: 250px !important;\r\n        i {\r\n          display: none;\r\n        }\r\n      }\r\n    }\r\n\r\n    #searchContainer {\r\n      width: 100%;\r\n      padding-right: 8px;\r\n      padding-left: 16px;\r\n    }\r\n  }\r\n`\r\n\r\nconst MDiv = styled.div`\r\n  padding: 56px;\r\n  padding-top: -0px;\r\n  margin: auto;\r\n  margin-top: -56px;\r\n  max-width: 1366px;\r\n  @media (max-width: ${theme.mobileSize}) {\r\n    padding: 0;\r\n  }\r\n`\r\n\r\nconst Table_A = styled(Link)`\r\n  /* font-size: 14px; */\r\n  color: red;\r\n  text-decoration: none;\r\n  color: var(--color_c2);\r\n  display: inline-flex;\r\n  align-items: center;\r\n  &:hover {\r\n    color: var(--color_link);\r\n  }\r\n\r\n  ${props => props.disabled && css`\r\n    pointer-events: none;\r\n    color: var(--color_c3);\r\n  `}\r\n\r\n  ${props => props.tag && css`\r\n    @media only screen and (max-width: ${theme.mobileSize}) {\r\n      display: inline-flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      color: var(--color_c2);\r\n      background-color: var(--color_b1);\r\n      border: 3px solid var(--color_b22);\r\n      padding-left: 15px;\r\n      padding-right: 15px;\r\n      margin-right: 8px;\r\n      margin-bottom: 8px;\r\n      height: 36px;\r\n      border-radius: 5px;\r\n    }\r\n  `}\r\n`\r\n\r\nconst Ln = styled.input`\r\n\r\n`\r\n\r\nconst TrLoading = styled.tr`\r\n  animation: anim1 1s infinite;\r\n  @keyframes anim1 {\r\n    0% {\r\n      background-color: var(--color_b22);\r\n      /* opacity: 0; */\r\n      /* transform: scale(0); */\r\n    }\r\n    \r\n    100% {\r\n      background-color: var(--color_b2);\r\n      /* opacity: 1; */\r\n      /* transform: scale(1); */\r\n    }\r\n  }\r\n`\r\n\r\nconst Problem_table = styled.table`\r\n  border-collapse: collapse;\r\n  overflow: hidden;\r\n\r\n  width: 100%;\r\n  padding: 25px;\r\n  padding-top: 25px;\r\n  background-color: transparent;\r\n  border-radius: 8px;\r\n  border-bottom: 0;\r\n\r\n  ${props => props.count > 0 && css`\r\n    border-bottom-left-radius: 0;\r\n    border-bottom-right-radius: 0;\r\n  `}\r\n\r\n  tr {\r\n    height: 42px;\r\n    background-color: var(--color_b2);\r\n    border-bottom: 1px solid var(--color_b22);\r\n\r\n    &:first-child {\r\n      height: 56px;\r\n      background-color: transparent;\r\n      border-bottom: 0px solid #ddd;      \r\n      color: var(--color_b2);\r\n    }\r\n\r\n    &:last-child {\r\n      border: none;\r\n    }\r\n  }\r\n\r\n  th {\r\n    padding: 8px;\r\n    font-family: ${theme.fontCaps};\r\n    font-weight: normal;\r\n    font-size: 14px;\r\n    color: var(--color_headerText);\r\n    background-color: var(--color_headerBackground);\r\n    /* white-space: nowrap; */\r\n\r\n    &:first-child {\r\n      padding-left: 20px;\r\n    }\r\n\r\n    &:last-child {\r\n      padding-right: 20px;\r\n    }\r\n\r\n    &:nth-child(3), &:nth-child(4) {\r\n      text-align: left;\r\n    }\r\n    \r\n    &:nth-child(3) {\r\n      \r\n      /* width: 99%; */\r\n    }\r\n\r\n    &:nth-child(7) {\r\n      text-align: right;\r\n      justify-content: right;\r\n    }\r\n  }\r\n\r\n  td {\r\n    padding: 8px;\r\n    padding-right: 15px;\r\n    font-size: 14px;\r\n    color: var(--color_c2);\r\n    /* white-space: nowrap; */\r\n\r\n    &:nth-child(1) {\r\n      color: var(--color_c2);\r\n      font-size: 14px;\r\n      width: 1px;\r\n      padding-left: 20px;\r\n    }\r\n\r\n    &:nth-child(2) {\r\n      padding: 0;\r\n      text-align: center;\r\n    }\r\n\r\n    &:last-child {\r\n      padding-right: 20px;\r\n    }\r\n\r\n    &:nth-child(3) {\r\n      text-align: left;\r\n      padding: 0;\r\n\r\n      a {\r\n        width: 100%;\r\n        padding: 8px;\r\n      }\r\n    }\r\n    \r\n    &:nth-child(4) {\r\n      font-size: 14px;\r\n      color: var(--color_c2);\r\n      text-align: left;\r\n      width: 450px;\r\n    }\r\n\r\n    &:nth-child(2) {\r\n      \r\n    }\r\n    &:first-child, &:nth-child(2), &:nth-child(5), &:nth-child(6), &:nth-child(7) {\r\n      width: 1px;\r\n    }\r\n  }\r\n\r\n  @media only screen and (max-width: ${theme.mobileSize}) {\r\n    tr {\r\n      &:first-child {\r\n        display: none;\r\n      }\r\n\r\n      min-height: 125px;\r\n\r\n      /* margin-bottom: 8px; */\r\n      border-bottom-width: 8px;\r\n      &:last-child {\r\n        /* margin-bottom: 0; */\r\n        border-bottom-width: 0px;\r\n      }\r\n\r\n      height: inherit;\r\n      display: grid;\r\n      grid-template-columns: auto auto auto 100%;\r\n      grid-template-rows: auto;\r\n      grid-template-areas: \r\n        \"id title title title\"\r\n        \"categories categories categories categories\"\r\n        \"views favourite like c2\";\r\n    }\r\n\r\n    td {\r\n      &:nth-child(1) {\r\n        grid-area: id;\r\n        font-size: 14px;\r\n        padding-top: 9px;\r\n        padding-left: 8px;\r\n        padding-right: 5px;\r\n        justify-content: center;\r\n        align-items: center;\r\n        display: block;\r\n        text-align: right;\r\n        width: fit-content;\r\n      }\r\n\r\n      &:nth-child(2) {\r\n        grid-area: c2;\r\n        width: auto;\r\n        padding: 0;\r\n        margin-top: -5px;\r\n        font-size: 16px;\r\n        display: flex;\r\n        align-items: center;\r\n      }\r\n    \r\n      &:nth-child(3) {\r\n        grid-area: title;\r\n        padding-left: -15px;\r\n        margin-top: 8px;\r\n        margin-left: -5px;\r\n        white-space: nowrap;\r\n        text-overflow: ellipsis;\r\n        overflow: hidden; \r\n      }\r\n\r\n      &:nth-child(4) {\r\n        display:block;\r\n        grid-area: categories;\r\n        width: 90%;\r\n      }\r\n\r\n      &:nth-child(5) {\r\n        grid-area: views;\r\n        width: 0;\r\n        margin-right: 8px;\r\n      }\r\n\r\n      &:nth-child(6) {\r\n        grid-area: favourite;\r\n        width: auto;\r\n\r\n      }\r\n\r\n      &:nth-child(7) {\r\n        grid-area: like;\r\n        width: auto;\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nconst Grid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: auto;\r\n  grid-row-gap: 0px;\r\n  grid-column-gap: 0px;\r\n  @media only screen and (max-width: ${theme.mobileSize}) {\r\n    grid-template-columns: auto;\r\n  }\r\n`\r\n\r\nconst Header = styled.div`\r\n  display: flex;\r\n  padding-bottom: 5px;\r\n`\r\n\r\nconst Loading = styled.div`\r\n  text-align: center;\r\n`\r\n\r\nfunction Problems(props) {\r\n  const { match, history } = props;\r\n\r\n  const { user } = useContext(UserContext);\r\n  const { toast } = useContext(MessageBoxContext);\r\n\r\n  const refTable = useRef(null)\r\n\r\n  const [state, setState] = useState({\r\n    problems: [],\r\n    isLoading: true,\r\n    pagination: { current: 0, total: 0 },\r\n    is_error: false,\r\n    order_by_accepted: null,\r\n  })\r\n\r\n  const [search, setSearch] = useState('')\r\n  const [filter, setFilter] = useState('')\r\n  const [filteredProblems, setFilteredProblems] = useState([])\r\n\r\n  useEffect(() => {\r\n\r\n    // if (refTable.current) window.scrollTo(0, refTable.current.offsetTop)\r\n    on_refresh()\r\n\r\n  }, [match.url])\r\n\r\n  const on_refresh = () => {\r\n\r\n    setState({\r\n      ...state,\r\n      isLoading: true,\r\n    })\r\n\r\n    JN.get(user, `problems/${match.params.page}`, {\r\n      template: search,\r\n      tag_id: match.params.tagId,\r\n      order_by_accepted: state.filter_by_accepted,\r\n    },\r\n      (data) => {\r\n\r\n        window.scrollTo(0, 0)\r\n\r\n        setState({\r\n          ...state,\r\n          problems: data.problems,\r\n          isLoading: false,\r\n          page_count: data.page_number,\r\n          pagination: { current: match.params.page, total: data.page_number }\r\n        })\r\n\r\n        if (match.params.tagId) {\r\n          setSearch('')\r\n        }\r\n      },\r\n      () => {\r\n        setState({\r\n          ...state,\r\n          problems: [],\r\n          isLoading: false,\r\n        })\r\n      })\r\n  }\r\n\r\n  const on_filter_by_accepted_toggled = e => {\r\n    state.filter_by_accepted = state.filter_by_accepted === \"D\" ? \"A\" : \"D\"\r\n    on_refresh()\r\n  }\r\n\r\n  const on_problem_delete = id => e => {\r\n    // console.log(state)\r\n    e.preventDefault()\r\n    if (!window.confirm('ნამდვილად გსურთ წაშლა?!')) {\r\n      return\r\n    }\r\n\r\n    setState({\r\n      ...state,\r\n      isLoading: true,\r\n    })\r\n\r\n    JN.delete(user, `admin/problem/${id}`, {}, () => {\r\n      setState({\r\n        ...state,\r\n        isDeleting: false\r\n      })\r\n      on_refresh()\r\n    },\r\n      () => {\r\n        setState({\r\n          ...state,\r\n          isLoading: false,\r\n        })\r\n      })\r\n\r\n  }\r\n\r\n  const onProblemDeleted = (id) => {\r\n    setState({\r\n      ...state,\r\n      problems: state.problems.filter((problem, index) => problem.id !== id),\r\n    })\r\n  }\r\n\r\n  const on_search_clear = e => {\r\n    // setSearch('')\r\n  }\r\n\r\n\r\n  const [lastFilterToken, setLastFilterToken] = useState(new Date())\r\n  const [lastRequestToken, setLastRequestToken] = useState(null)\r\n\r\n  const [filterText, setFilterText] = useState('')\r\n\r\n  const onFilterChanged = e => {\r\n    let ft = e.target.value\r\n\r\n    if (filterText.length > 50)\r\n      return\r\n\r\n    setFilter(ft)\r\n    if (ft === '') {\r\n      setFilteredProblems([])\r\n      return\r\n    }\r\n\r\n    let lft = new Date()\r\n    setLastFilterToken(lft)\r\n    setLastRequestToken(lft)\r\n    setFilterText(ft)\r\n  }\r\n\r\n  useEffect(() => {\r\n\r\n\r\n    if (lastFilterToken !== lastRequestToken)\r\n      return () => { }\r\n\r\n    const timer = setTimeout(() => {\r\n\r\n      JN.get(user, `problems/1`, { template: filterText },\r\n        (data) => {\r\n          setFilteredProblems(data.problems.slice(0, 5))\r\n        },\r\n        () => setFilteredProblems([]))\r\n\r\n    }, 500)\r\n\r\n\r\n    return () => { clearTimeout(timer); }\r\n\r\n  }, [lastFilterToken])\r\n\r\n  const onHideFilter = (e) => {\r\n    if (e.currentTarget.contains(e.relatedTarget))\r\n      return\r\n\r\n    setFilteredProblems([])\r\n\r\n    if (filter !== '') {\r\n      setFilter('')\r\n    }\r\n  }\r\n\r\n  const refFilteredProblems = [useRef(null), useRef(null), useRef(null), useRef(null), useRef(null)]\r\n\r\n  const onKeyDown = e => {\r\n    if (!filteredProblems.length)\r\n      return\r\n\r\n    let ARROW_UP = 38;\r\n    let ARROW_DOWN = 40;\r\n    if (e.keyCode !== ARROW_UP && e.keyCode !== ARROW_DOWN)\r\n      return;\r\n\r\n    e.preventDefault();\r\n\r\n    let up = e.keyCode === ARROW_UP;\r\n\r\n    let activeElement = document.activeElement;\r\n    let nextIndex = 0;\r\n\r\n    let i = refFilteredProblems.findIndex(ref => ref.current === activeElement);\r\n    if (i === -1 || i === 0) {\r\n      nextIndex = up ? filteredProblems.length - 1 : i + 1;\r\n    }\r\n    else if (i === filteredProblems.length - 1) {\r\n      nextIndex = up ? i - 1 : 0;\r\n    }\r\n    else {\r\n      nextIndex = up ? i - 1 : i + 1;\r\n    }\r\n\r\n    if (refFilteredProblems[nextIndex] && refFilteredProblems[nextIndex].current) {\r\n      refFilteredProblems[nextIndex].current.focus();\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      JN.get(user, `user/noted_problems`, {}, (data) => setFavourites(data.note_problems))\r\n    }\r\n  }, [])\r\n\r\n  const refFaviourites = useRef(null);\r\n  const [isFavouritesVisible, setIsFavouritesVisible] = useState(false);\r\n  const [favourites, setFavourites] = useState([]);\r\n\r\n  const isFavourite = id => {\r\n    let i = 0;\r\n    for (i; i < favourites.length; i++) {\r\n      if (favourites[i].id === id) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  const [isLikeUpdating, setIsLikeUpdating] = useState(false);\r\n  const onToggleHeart = problem => {\r\n    if (!user || isLikeUpdating) {\r\n      return;\r\n    }\r\n\r\n    setIsLikeUpdating(true);\r\n    if (problem.liked) {\r\n      setState({ ...state, problems: state.problems.map(p => p.id !== problem.id ? p : { ...problem, liked: false, likes: problem.likes - 1 }) });\r\n      JN.delete(user, `problem/${problem.id}/like`, {}, () => setIsLikeUpdating(false), () => {\r\n        setIsLikeUpdating(false);\r\n        setState({ ...state, problems: state.problems.map(p => p.id !== problem.id ? p : { ...problem, liked: true, likes: problem.likes + 1 }) });\r\n      });\r\n    }\r\n    else {\r\n      setState({ ...state, problems: state.problems.map(p => p.id !== problem.id ? p : { ...problem, liked: true, likes: problem.likes + 1 }) });\r\n      JN.post(user, `problem/${problem.id}/like`, {}, () => setIsLikeUpdating(false), () => {\r\n        setIsLikeUpdating(false);\r\n        setState({ ...state, problems: state.problems.map(p => p.id !== problem.id ? p : { ...problem, liked: false, likes: problem.likes - 1 }) });\r\n      });\r\n    }\r\n  }\r\n\r\n  const onToggleFavourites = problem => {\r\n\r\n    if (isFavourite(problem.id)) {\r\n      //ჩანიშნულებიდან წაშლა\r\n      setFavourites(favourites.filter(p => p.id !== problem.id));\r\n      JN.delete(user, `user/noted_problems`, { problem_id: problem.id });\r\n    }\r\n    else {\r\n      //ჩანიშნულებში დამატება\r\n      setFavourites([...favourites, { id: problem.id, title: problem.title, verdict: problem.verdict }]);\r\n      JN.post(user, `user/noted_problems`, { problem_id: problem.id }, null, (error) => {\r\n        if (error.status === 403) {\r\n          setFavourites(favourites.filter(p => p.id !== problem.id));\r\n          toast('მეტ ამოცანას ვერ ჩაინიშნავთ!', 'error');\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  const onToggleFavouritesVisible = e => {\r\n    if (!e.currentTarget.contains(e.relatedTarget)) {\r\n      setIsFavouritesVisible(!isFavouritesVisible);\r\n    }\r\n  }\r\n\r\n  const onHideFavourites = e => {\r\n    if (isFavouritesVisible && !e.currentTarget.contains(e.relatedTarget)) {\r\n      setIsFavouritesVisible(false);\r\n    }\r\n    e.preventDefault();\r\n  }\r\n\r\n  if (state.is_error) {\r\n    return (\r\n      <Redirect to=\"/404\" />\r\n    )\r\n  }\r\n\r\n  return (\r\n    <MDiv>\r\n      <Helmet>\r\n        <meta charSet=\"utf-8\" />\r\n        <title>ამოცანები{match.params.page == 1 ? '' : ` გვ. ${match.params.page}`}</title>\r\n        <meta name=\"description\" content=\"AiaSoft\" />\r\n      </Helmet>\r\n      {/* <Container padding=\"36px\" width=\"98%\" title=\"ამოცანები\"> */}\r\n\r\n      {/* <div ref={refTable} style={{height: '1px', marginBottom: '25px'}}></div> */}\r\n      <FavouritesConteiner>\r\n        <div id=\"topNav\" onBlur={onHideFavourites} style={{ display: 'flex' }}>\r\n\r\n          <A to=\"/submissions/0/1\"><Button icon={<FaHistory size=\"16px\" />}>ბოლო ატვირთულები</Button></A>\r\n\r\n          {user && favourites.length > 0 &&\r\n            <span style={{ marginLeft: '5px', position: 'relative', maxWidth: '100%' }}>\r\n              <Button ref={refFaviourites} marginLeft=\"0\" onClick={onToggleFavouritesVisible} width=\"180px\" icon={<FaStar size=\"16px\" />}>ჩანიშნულები ({favourites.length})</Button>\r\n              {isFavouritesVisible &&\r\n                <FilterContainer width=\"400px\" onKeyDown={onKeyDown}>\r\n                  {favourites.map(problem =>\r\n                    <FilterItem key={problem.id} to={`/problem/${problem.id}`} flex=\"true\">\r\n\r\n                      {problem.verdict === 1 ?\r\n                        <span style={{ display: 'flex', alignItems: 'center' }}>\r\n                          <FaCheck color=\"var(--color_green)\" size=\"12\" />&nbsp;\r\n                    </span>\r\n                        :\r\n                        problem.verdict === 2 ?\r\n                          <span style={{ display: 'flex', alignItems: 'center' }}>\r\n                            <FaTimes color=\"var(--color_red)\" size=\"12\" />&nbsp;\r\n                    </span>\r\n                          : <span style={{ width: '18px' }}></span>\r\n                      }\r\n\r\n                      {problem.id}.&nbsp;<span style={{ overflow: 'hidden', textOverflow: 'ellipsis' }}>{problem.title}</span>\r\n\r\n                      <button onClick={(e) => { e.preventDefault(); onToggleFavourites(problem); if (refFaviourites && refFaviourites.current) refFaviourites.current.focus(); }} style={{ cursor: 'pointer', border: 'none', outline: 'none', background: 'none', color: 'var(--color_c2)' }}><FaTimes /></button>\r\n                    </FilterItem>\r\n                  )}\r\n                </FilterContainer>\r\n              }\r\n            </span>\r\n          }\r\n        </div>\r\n        <div id=\"searchContainer\" onBlur={onHideFilter}>\r\n          <Input reverse onKeyDown={onKeyDown} fontSize=\"14px\" onChange={onFilterChanged} value={filter} placeholder=\"სახელით ან ნომრით ძებნა..\">\r\n            {filter !== '' &&\r\n              <FilterContainer onKeyDown={onKeyDown}>\r\n                {!filteredProblems.length ?\r\n                  <div>\r\n\r\n                  </div>\r\n                  :\r\n                  <>\r\n                    {filteredProblems.map((problem, index) =>\r\n                      <FilterItem flex=\"true\" ref={refFilteredProblems[index]} key={problem.id} to={`/problem/${problem.id}`}>\r\n                        {user && <>\r\n                          {problem.verdict === 1 ?\r\n                            <span style={{ display: 'flex', alignItems: 'center' }}>\r\n                              <FaCheck color=\"var(--color_green)\" size=\"12\" />&nbsp;\r\n                          </span>\r\n                            :\r\n                            problem.verdict === 2 ?\r\n                              <span style={{ display: 'flex', alignItems: 'center' }}>\r\n                                <FaTimes color=\"var(--color_red)\" size=\"12\" />&nbsp;\r\n                          </span>\r\n                              : <span style={{ width: '18px' }}></span>\r\n                          }\r\n                        </>}\r\n\r\n                        {problem.id}.&nbsp;<span style={{ overflow: 'hidden', textOverflow: 'ellipsis' }}>{problem.title}</span>\r\n\r\n                        {user && <span onClick={(e) => { e.preventDefault(); onToggleFavourites(problem) }} style={{ marginLeft: 'auto', display: 'inline-flex', alignItems: 'center' }}>\r\n                          {isFavourite(problem.id) ?\r\n                            <FaStar color=\"var(--color_orange)\" size=\"18\" />\r\n                            : <FaRegStar color=\"var(--color_c2)\" size=\"18\" />\r\n                          }\r\n                        </span>}\r\n\r\n                      </FilterItem>\r\n                    )}\r\n                  </>\r\n                }\r\n              </FilterContainer>\r\n            }\r\n          </Input>\r\n        </div>\r\n      </FavouritesConteiner>\r\n\r\n      {user && user.permission !== \"user\" &&\r\n        <Button_Float to=\"/addproblem\"><MdAdd color=\"var(--color_green)\" size=\"22\" /></Button_Float>\r\n      }\r\n\r\n      {/* {state.isLoading && <LoadingSvg />} */}\r\n\r\n      <MainDiv>\r\n        <Grid>\r\n\r\n          <Problem_table count={state.pagination.total > 1}>\r\n            <thead></thead>\r\n            <tbody>\r\n              {state.problems.length === 0 ? <tr><th></th><th style={{ align: 'left' }} colSpan=\"15\"></th></tr> :\r\n                <tr>\r\n                  <th>№</th>\r\n                  <th></th>\r\n                  <th>ამოცანა</th>\r\n                  <th>კატეგორიები</th>\r\n                  <th style={{ height: '56px', cursor: 'pointer', display: 'flex', justifyContent: 'center', alignItems: 'center' }} onClick={on_filter_by_accepted_toggled}>\r\n                    <A to={`/problems/1${match.params.tagId ? '/' + match.params.tagId : ''}`}>\r\n                      <MdDone color=\"var(--color_headerText)\" size=\"18\" />\r\n                      {state.filter_by_accepted && (state.filter_by_accepted === 'A' ? <MdArrowDropUp size=\"22\" color={`var(--color_headerText)`} /> : <MdArrowDropDown size=\"22\" color={`var(--color_headerText)`} />)}\r\n                    </A>\r\n                  </th>\r\n                  {user &&\r\n                    <>\r\n                      <th><span style={{ display: 'flex' }}><FaStar color=\"var(--color_headerText)\" size=\"16\" /></span></th>\r\n\r\n                    </>\r\n                  }\r\n                  <th><span style={{ display: 'flex', justifyContent: 'center' }}><FaHeart color=\"var(--color_headerText)\" size=\"16\" /></span></th>\r\n                </tr>\r\n              }\r\n\r\n              {!state.isLoading && state.problems.length === 0 &&\r\n                <tr><td colSpan=\"10\" style={{ color: 'var(--color_c2)', fontSize: '14px', textAlign: 'left' }}>\r\n                  ამოცანები არ მოიძებნა <span style={{ color: 'red' }}>!</span>\r\n                </td></tr>\r\n              }\r\n\r\n              {state.problems.length === 0 && state.isLoading &&\r\n                <>\r\n                  <TrLoading><td colSpan=\"8\" style={{ fontSize: '14px', textAlign: 'left' }}></td><td></td></TrLoading>\r\n                  <TrLoading><td></td><td colSpan=\"8\" style={{ color: '#666', fontSize: '14px', textAlign: 'left' }}></td></TrLoading>\r\n                  <TrLoading><td></td><td colSpan=\"8\" style={{ color: '#666', fontSize: '14px', textAlign: 'left' }}></td></TrLoading>\r\n                  <TrLoading><td></td><td colSpan=\"8\" style={{ color: '#666', fontSize: '14px', textAlign: 'left' }}></td></TrLoading>\r\n                  <TrLoading><td></td><td colSpan=\"8\" style={{ color: '#666', fontSize: '14px', textAlign: 'left' }}></td></TrLoading>\r\n                  <TrLoading><td></td><td colSpan=\"8\" style={{ color: '#666', fontSize: '14px', textAlign: 'left' }}></td></TrLoading>\r\n                  <TrLoading><td></td><td colSpan=\"8\" style={{ color: '#666', fontSize: '14px', textAlign: 'left' }}></td></TrLoading>\r\n                  <TrLoading><td></td><td colSpan=\"8\" style={{ color: '#666', fontSize: '14px', textAlign: 'left' }}></td></TrLoading>\r\n                  <TrLoading><td></td><td colSpan=\"8\" style={{ color: '#666', fontSize: '14px', textAlign: 'left' }}></td></TrLoading>\r\n                  <TrLoading><td></td><td colSpan=\"8\" style={{ color: '#666', fontSize: '14px', textAlign: 'left' }}></td></TrLoading>\r\n                  <TrLoading><td></td><td colSpan=\"8\" style={{ color: '#666', fontSize: '14px', textAlign: 'left' }}></td></TrLoading>\r\n                  <TrLoading><td></td><td colSpan=\"8\" style={{ color: '#666', fontSize: '14px', textAlign: 'left' }}></td></TrLoading>\r\n                  <TrLoading><td></td><td colSpan=\"8\" style={{ color: '#666', fontSize: '14px', textAlign: 'left' }}></td></TrLoading>\r\n                  <TrLoading><td></td><td colSpan=\"8\" style={{ color: '#666', fontSize: '14px', textAlign: 'left' }}></td></TrLoading>\r\n                  <TrLoading><td></td><td colSpan=\"8\" style={{ color: '#666', fontSize: '14px', textAlign: 'left' }}></td></TrLoading>\r\n                  <TrLoading><td></td><td colSpan=\"8\" style={{ color: '#666', fontSize: '14px', textAlign: 'left' }}></td></TrLoading>\r\n                  <TrLoading><td></td><td colSpan=\"8\" style={{ color: '#666', fontSize: '14px', textAlign: 'left' }}></td></TrLoading>\r\n                  <TrLoading><td></td><td colSpan=\"8\" style={{ color: '#666', fontSize: '14px', textAlign: 'left' }}></td></TrLoading>\r\n                  <TrLoading><td></td><td colSpan=\"8\" style={{ color: '#666', fontSize: '14px', textAlign: 'left' }}></td></TrLoading>\r\n                  <TrLoading><td></td><td colSpan=\"8\" style={{ color: '#666', fontSize: '14px', textAlign: 'left' }}></td></TrLoading>\r\n                  <TrLoading><td></td><td colSpan=\"8\" style={{ color: '#666', fontSize: '14px', textAlign: 'left' }}></td></TrLoading>\r\n                  <TrLoading><td></td><td colSpan=\"8\" style={{ color: '#666', fontSize: '14px', textAlign: 'left' }}></td></TrLoading>\r\n                  <TrLoading><td></td><td colSpan=\"8\" style={{ color: '#666', fontSize: '14px', textAlign: 'left' }}></td></TrLoading>\r\n                  <TrLoading><td></td><td colSpan=\"8\" style={{ color: '#666', fontSize: '14px', textAlign: 'left' }}></td></TrLoading>\r\n                  <TrLoading><td></td><td colSpan=\"8\" style={{ color: '#666', fontSize: '14px', textAlign: 'left' }}></td></TrLoading>\r\n                  <TrLoading><td></td><td colSpan=\"8\" style={{ color: '#666', fontSize: '14px', textAlign: 'left' }}></td></TrLoading>\r\n                </>\r\n              }\r\n              {<>\r\n\r\n                {state.problems.map((problem, index) =>\r\n                  <tr style={{ backgroundColor: problem.is_visible ? 'var(--color_b2)' : 'var(--color_b22)' }} key={problem.id}>\r\n                    {/* 0 - უცდელი, 1 - გატარებული, 2 - ჩაჭრილი */}\r\n                    <td>\r\n                      {Get_Number(problem.id)}\r\n                    </td>\r\n                    <td>\r\n                      {problem.verdict === 1 ? <span style={{ display: 'flex', alignItems: 'center' }}><FaCheck color=\"var(--color_green)\" size=\"12\" />&nbsp;</span>\r\n                        :\r\n                        problem.verdict === 2 ? <span style={{ display: 'flex', alignItems: 'center' }}><FaTimes color=\"var(--color_red)\" size=\"12\" />&nbsp;</span>\r\n                          : <></>}\r\n                    </td>\r\n                    <td>\r\n                      <BoldA to={`/problem/${problem.id}`}>{problem.title}</BoldA>\r\n                    </td>\r\n                    <td>\r\n                      {problem.tags.map((tag, index) =>\r\n                        <Table_A tag=\"true\" key={tag.id} onClick={on_search_clear} to={`/problems/1/${tag.id}`} key={tag.id}>\r\n                          {tag.title}\r\n                          {index < problem.tags.length - 1 && window.screen.width > theme.mobileSize.slice(0, -2) ? ',' : ''}\r\n                    &nbsp;\r\n                  </Table_A>\r\n                      )}\r\n                    </td>\r\n                    <td><Table_A to={`/submissions/${problem.id}`}>x{problem.accepted}</Table_A></td>\r\n\r\n                    {/* რჩეული */}\r\n                    {user &&\r\n                      <>\r\n                        <td>\r\n                          <div style={{ display: 'flex', alignItems: 'center', cursor: 'pointer' }} onClick={() => { onToggleFavourites(problem) }}>\r\n                            <HoverScaledSpan>\r\n                              {isFavourite(problem.id) ?\r\n                                <FaStar color=\"var(--color_orange)\" size=\"18\" />\r\n                                : <FaRegStar color=\"var(--color_c2)\" size=\"18\" />\r\n                              }\r\n                            </HoverScaledSpan>\r\n                          </div>\r\n                        </td>\r\n                      </>\r\n                    }\r\n\r\n                    {/* მოწონებები */}\r\n                    <td>\r\n                      <div style={{ display: 'flex', alignItems: 'center', cursor: 'pointer' }} onClick={() => { onToggleHeart(problem) }}>\r\n                        <HoverScaledSpan>\r\n                          {problem.liked ?\r\n                            <FaHeart color=\"var(--color_primary)\" size=\"18\" />\r\n                            : <FaRegHeart color=\"var(--color_c2)\" size=\"18\" />\r\n                          }<span style={{ marginLeft: 5 }}>{problem.likes}</span>\r\n                        </HoverScaledSpan>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                )}\r\n\r\n              </>}\r\n            </tbody>\r\n          </Problem_table>\r\n        </Grid>\r\n\r\n\r\n        {<PaginationContainer isLoading={state.isLoading} to={`/problems/:page${match.params.tagId ? `/${match.params.tagId}` : ''}`} pagination={state.pagination} />}\r\n      </MainDiv>\r\n      {/* </Container> */}\r\n    </MDiv>\r\n  )\r\n}\r\n\r\nexport default Problems","import styled, { css } from 'styled-components'\r\nimport { Link } from 'react-router-dom'\r\nimport { theme } from 'Themes'\r\n\r\nexport const Table_A = styled(Link) `\r\n  /* font-size: 16px; */\r\n  color: red;\r\n  text-decoration: none;\r\n  color: var(--color_c2);\r\n  display: inline-block;\r\n\r\n  &:hover {\r\n    color: var(--color_link);\r\n  }\r\n`\r\n\r\nexport const Th = styled.th `\r\n  text-align: left;\r\n  ${props => props.center && css `\r\n    text-align: center;\r\n  `}\r\n  ${props => props.autoSize && css `\r\n    width: 99%;\r\n  `}\r\n  width: ${props => props.width};\r\n`\r\n\r\nexport const Td = styled.td `\r\n  text-align: left;\r\n  ${props => props.center && css `\r\n    text-align: center;\r\n  `}\r\n  font-size: ${props => props.low ? '14px' : '16px'};\r\n`\r\n\r\nconst Table = styled.table `\r\n\r\n  -webkit-touch-callout: none; /* iOS Safari */\r\n    -webkit-user-select: none; /* Safari */\r\n     -khtml-user-select: none; /* Konqueror HTML */\r\n       -moz-user-select: none; /* Old versions of Firefox */\r\n        -ms-user-select: none; /* Internet Explorer/Edge */\r\n            user-select: none; /* Non-prefixed version, currently\r\n                                  supported by Chrome, Opera and Firefox */\r\n\r\n\r\n  border-collapse: collapse;\r\n  overflow: hidden;\r\n  margin-top: ${props => props.marginTop ? props.marginTop : '15px'};\r\n  width: 100%;\r\n  padding: 25px;\r\n  padding-top: 25px;\r\n  background-color: transparent;\r\n  border-radius: 8px;\r\n\r\n  ${props => props.count > 0 && css`\r\n    border-bottom-left-radius: 0;\r\n    border-bottom-right-radius: 0;\r\n  `}\r\n\r\n  tr {\r\n    height: 56px;\r\n    background-color: var(--color_b2);\r\n    border-bottom: 1px solid var(--color_b22);\r\n\r\n    /* &:hover {\r\n      background-color:  var(--color_b22);\r\n    } */\r\n\r\n    \r\n\r\n    &:last-child {\r\n      border: none;\r\n    }\r\n  }\r\n\r\n  th {\r\n    padding: 8px;\r\n    padding-left: 15px;\r\n    padding-right: 15px;\r\n    font-weight: normal;\r\n    font-size: 16px;\r\n    font-family: ${theme.fontCaps};\r\n    white-space: nowrap;\r\n\r\n    color: var(--color_headerText);\r\n    background-color: var(--color_headerBackground);\r\n    border: none;\r\n    \r\n    &:last-child {\r\n      border: none;\r\n    }\r\n  }\r\n\r\n  td {\r\n    a {\r\n      width: 100%;\r\n      /* padding: 8px; */\r\n    }\r\n\r\n    padding: 8px;\r\n    padding-left: 15px;\r\n    padding-right: 15px;\r\n\r\n    white-space: nowrap;\r\n  }\r\n`\r\n\r\nexport default Table","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport Container from '../controls/Container'\r\nimport { theme } from 'Themes'\r\n\r\nconst Styled_Container = styled.div `\r\n  overflow: hidden;\r\n  z-index: 999;\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  /* background-color: rgba(255, 255, 255, 0.8); */\r\n  /* background-color: transparent; */\r\n  animation: .2s ease-in-out both fade-in;\r\n  @keyframes fade-in {\r\n    0% {\r\n      opacity: 0;\r\n    }\r\n    \r\n    100% {\r\n      opacity: 1;\r\n    }\r\n  }\r\n`\r\nconst Styled_Content = styled.div `\r\n  overflow: hidden;\r\n  width: ${props => props.width ? props.width : \"500px\"};\r\n  /* box-shadow: 2px 5px 10px rgba(0, 0, 0, 0.3); */\r\n  /* background-color: rgba(255, 255, 255, 0.4); */\r\n  border-radius: 10px;\r\n  animation: .2s cubic-bezier(0.25, 0.46, 0.45, 0.94) both a_scale;\r\n  @keyframes a_scale {\r\n    0% {\r\n      opacity: 0;\r\n      transform: scale(0.8);\r\n    }\r\n    \r\n    100% {\r\n      opacity: 1;\r\n      transform: scale(1);\r\n    }\r\n  }\r\n\r\n  @media (max-width: ${theme.mobileSize}) {\r\n    & {\r\n      max-width: 100%;\r\n    }\r\n  }\r\n`\r\nconst Modal = (props) => {\r\n  const onClose = (e) => {\r\n    if (e.target === e.currentTarget) {\r\n      props.close()\r\n      // props.setOpen(false)\r\n    }\r\n  }\r\n\r\n  if (props.isOpen) {\r\n    return (\r\n      <Styled_Container onClick={onClose}>\r\n        <Styled_Content width={props.width}>\r\n          <Container width={props.width} title={props.title} modal>\r\n            {props.children}\r\n          </Container>\r\n        </Styled_Content>\r\n      </Styled_Container>\r\n    )\r\n  }\r\n  else {\r\n    return null\r\n  }\r\n}\r\n\r\nexport default Modal","import React, { useState, useEffect, useContext } from 'react'\r\nimport Modal from 'components/Modal'\r\nimport Input from 'controls/Input'\r\nimport Button from 'controls/Button'\r\nimport ContainerFooter from 'controls/ContainersFooter'\r\nimport JN from 'JN'\r\nimport { UserContext } from 'contexts/UserContext'\r\nimport { MessageBoxContext } from 'contexts/MessageBoxContext'\r\n\r\nconst FolderEditDlg = props => {\r\n  const { match } = props;\r\n  const { user }  = useContext(UserContext);\r\n  const { toast } = useContext(MessageBoxContext);\r\n\r\n  const [state, setState] = useState({\r\n    folder: {id: -1, name: \"\", parent_dir_id: 1},\r\n    isLoading: false,\r\n  })\r\n\r\n  useEffect(() => {\r\n    const folder = props.folder.id !== -1 ? props.folder : {id: -1, name: \"\", parent_dir_id: props.folder.parent_dir_id}\r\n    setState({...state, folder: folder});\r\n  }, [props.folder]);\r\n\r\n  const onChange = (e) => {\r\n    setState({\r\n      ...state,\r\n      folder: {...state.folder, [e.target.name]: e.target.value},\r\n    })\r\n  };\r\n\r\n  const setOpen = (isOpen) => {\r\n    if (state.isLoading) {\r\n      return\r\n    }\r\n    props.close(isOpen)\r\n  }\r\n\r\n  const submit = e => {\r\n    e.preventDefault()\r\n    //ახლის დამატება\r\n    if (state.folder.id === -1) {\r\n      \r\n      setState({...state, isLoading: true});\r\n      JN.post(user, `admin/tutorial_tree`, state.folder,\r\n      (data) => {\r\n        toast('საქაღალდე დაემატა', 'success');\r\n        props.submit(true, {...state.folder, id: data.id});\r\n      },\r\n      (error) => {\r\n        if (error.status === 400)\r\n          toast('ასეთი სახელით უკვე არსებობს', 'error');\r\n        setState({...state, isLoading: false});\r\n      })\r\n    }\r\n    //განახლება\r\n    else {\r\n      setState({...state, isLoading: true});\r\n      console.log(state.folder);\r\n      JN.put(user, 'admin/tutorial_tree', {...state.folder, new_name: state.folder.name},\r\n      (data) => {\r\n        toast('საქაღალდე განახლდა', 'success')\r\n        props.submit(false, {...state.folder, id: data.id});\r\n      },\r\n      (error) => {\r\n        if (error.status === 400)\r\n          toast('ასეთი სახელით უკვე არსებობს', 'error');\r\n        setState({...state, isLoading: false});\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Modal width=\"450px\" title={state.folder.id === -1 ? \"საქაღალდის დამატება\" : \"საქაღალდის რედაქტირება\"} isOpen={props.isOpen} close={setOpen}>\r\n      <form onSubmit={submit}>\r\n        <Input required focus title=\"დასახელება\" name=\"name\" value={state.folder.name} onChange={onChange}/>\r\n        <ContainerFooter>\r\n          <Button disabled={state.isLoading} backgroundColor=\"primary\">შენახვა{state.isLoading ? '..' : ''}</Button>\r\n        </ContainerFooter>\r\n      </form>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default FolderEditDlg\r\n","import React, { useContext } from 'react'\r\nimport styled, { css } from 'styled-components'\r\nimport { GlobalContext } from 'contexts/GlobalContext'\r\n\r\nconst H3Styled = styled.h3 `\r\n \r\n  margin-bottom: 10px;\r\n  color: var(--color_c2);\r\n\r\n  ${props => props.darkMode && css `\r\n    & {\r\n      font-weight: normal;\r\n      color: var(--color_highlight);\r\n      color: var(--color_c1);\r\n    }\r\n  `};\r\n`\r\n\r\nconst H3 = React.forwardRef((props, ref) => {\r\n  const { global } = useContext(GlobalContext);\r\n\r\n  return (\r\n    <H3Styled {...props} darkMode={global.mode === 'dark'} ref={ref}>\r\n      {props.children}\r\n    </H3Styled>\r\n  );\r\n})\r\n\r\nexport default H3;","import React, { useState, useEffect, useContext, useRef } from 'react'\r\nimport styled, { css } from 'styled-components'\r\nimport { Link } from 'react-router-dom'\r\nimport Helmet from 'react-helmet'\r\nimport Table, { Th, Td, Table_A } from 'controls/Table'\r\nimport { UserContext } from 'contexts/UserContext'\r\nimport { MessageBoxContext } from 'contexts/MessageBoxContext'\r\nimport JN from 'JN'\r\nimport FolderEditDlg from './FolderEditDlg'\r\nimport A from 'controls/A'\r\nimport Button_Float from 'controls/Button_Float'\r\nimport { MdEdit, MdAdd, MdDelete, MdKeyboardArrowLeft, MdFolder, MdFolderOpen, MdVisibilityOff } from 'react-icons/md'\r\nimport { theme } from 'Themes'\r\nimport Input from 'controls/Input'\r\nimport { FaBook } from 'react-icons/fa'\r\nimport H3 from 'controls/H3'\r\n\r\nconst Main = styled.div`\r\n  margin: auto;\r\n  margin-top: -50px;\r\n  width: 800px;\r\n  max-width: 100%;\r\n`\r\n\r\nconst FilterContainer = styled.div`\r\n  position: absolute;\r\n  top: 55px;\r\n  background-color: var(--color_b2);\r\n  box-shadow: 0 3px 8px rgba(0, 0, 0, 0.2);\r\n  border-radius: 5px;\r\n  overflow: auto;\r\n  max-height: 250px;\r\n  width: ${props => props.width ? props.width : '100%'};\r\n  z-index: 1;\r\n`\r\n\r\nconst FilterItem = styled(Link)`\r\n  display: block;\r\n  ${props => props.flex && css`\r\n    display: flex;\r\n    justify-content: flex-start;  \r\n\r\n    button {\r\n      margin-left: auto;\r\n    }\r\n  `}\r\n\r\n  text-decoration: none;\r\n  color: var(--color_c2);\r\n  font-family: ${theme.font};\r\n  \r\n  padding-left: 10px;\r\n  padding-right: 10px;\r\n  /* height: 50px; */\r\n  line-height: 50px;\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  outline: none;\r\n\r\n  &:hover, &:focus {\r\n    color: var(--color_link);\r\n  }\r\n`\r\n\r\nconst TableDiv = styled.div`\r\n  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);\r\n  border-radius: 8px;\r\n  ${props => props.subdirectoriessize === 0 && css`\r\n    margin-top: -50px;\r\n  `};\r\n`\r\n\r\nconst Header = styled.div`\r\n  overflow: hidden;\r\n  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);\r\n  background-color: var(--color_b2);\r\n  border-radius: 8px;\r\n  margin-bottom: 50px;\r\n`\r\n\r\nconst ParentFoldersDiv = styled.div`\r\n  -webkit-touch-callout: none; /* iOS Safari */\r\n    -webkit-user-select: none; /* Safari */\r\n     -khtml-user-select: none; /* Konqueror HTML */\r\n       -moz-user-select: none; /* Old versions of Firefox */\r\n        -ms-user-select: none; /* Internet Explorer/Edge */\r\n            user-select: none; /* Non-prefixed version, currently\r\n                                  supported by Chrome, Opera and Firefox */\r\n\r\n  display: flex;\r\n  text-align: left;\r\n  /* padding: 25px; */\r\n  margin-top: 5px;\r\n  margin-right: 15px;\r\n  height: 44px;\r\n  width: 100%;\r\n  overflow: auto;\r\n  font-size: 16px;\r\n`\r\n\r\nconst TagsContainer = styled.div`\r\n  overflow: hidden;\r\n  /* min-height: ${props => props.firstTime ? '112px' : '999px'}; */\r\n  border-bottom-left-radius: 0;\r\n  border-bottom-right-radius: 0;\r\n  margin: auto;\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n  /* border: 1px solid var(--color_inputFocusBorder); */\r\n\r\n  border-bottom-left-radius: 0;\r\n  border-bottom-right-radius: 0;\r\n`\r\n\r\nconst Tag = styled(Link)`\r\n  text-decoration: none;\r\n  color: var(--color_c2);\r\n  background-color: var(--color_b2);\r\n  padding-left: 25px;\r\n  padding-right: 25px;\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  border: 1px solid var(--color_b22);\r\n  border-top: none;\r\n  border-left: none;\r\n\r\n  height: 56px;\r\n  font-size: 16px;\r\n  transition: color ease 250ms;\r\n  \r\n  &:hover {\r\n    color: var(--color_link);\r\n    /* background-color: rgba(0, 0, 0, 0.1); */\r\n  }\r\n\r\n  ${props => props.backbutton && css`\r\n    color: var(--color_red);\r\n    /* background-color: var(--color_red); */\r\n    /* border: none; */\r\n    /* max-width: 100px; */\r\n\r\n    &:hover {\r\n      color: var(--color_red);\r\n      /* box-shadow: inset 0 0 28px rgba(0, 0, 0, .3); */\r\n    }\r\n  `}\r\n`\r\n\r\nconst Tutorials = props => {\r\n  const { match, history } = props;\r\n  const { user } = useContext(UserContext);\r\n  const { toast } = useContext(MessageBoxContext);\r\n  const refLastParentItself = useRef(null);\r\n\r\n  const [state, setState] = useState({\r\n    tutorials: [],\r\n    sub_directories: [],\r\n    parent_directories: [],\r\n    is_folderEditDlg_open: false,\r\n  });\r\n\r\n  useEffect(() => {\r\n    JN.get(user, 'tutorial_tree', { id: match.params.id ? match.params.id : 1 },\r\n      (data) => {\r\n        if (state.destructed) {\r\n          return;\r\n        }\r\n\r\n        setTimeout(() => { if (!refLastParentItself || !refLastParentItself.current) return; refLastParentItself.current.scrollTo(2000, 0, 0) });\r\n        setState({ ...state, ...data });\r\n      },\r\n      (error) => {\r\n        console.log(error);\r\n      });\r\n\r\n  }, [match.url])\r\n\r\n  const [listLastAddedTutorials, setLastAddedTutorials] = useState([])\r\n  useEffect(() => {\r\n    JN.get(user, 'tutorial/last_added', {}, (data) => {\r\n      setLastAddedTutorials(data.tutorials)\r\n    })\r\n  }, [])\r\n\r\n  const onFolderEditDlg_close = () => {\r\n    setState({ ...state, is_folderEditDlg_open: false });\r\n  }\r\n\r\n  const onAddFolder = e => {\r\n    e.preventDefault();\r\n    setState({ ...state, editingFolder: { id: -1, parent_dir_id: match.params.id ? match.params.id : 1 }, is_folderEditDlg_open: true });\r\n  }\r\n\r\n  const onEditFolder = e => {\r\n    e.preventDefault();\r\n    setState({ ...state, editingFolder: { id: match.params.id ? match.params.id : 1, name: state.name, parent_dir_id: state.parent_directories.length ? state.parent_directories[0].id : 1 }, is_folderEditDlg_open: true });\r\n  }\r\n\r\n  const onFolderSubmited = (isAdd, folder) => {\r\n\r\n    if (isAdd) {\r\n      setState({ ...state, sub_directories: [...state.sub_directories, folder], is_folderEditDlg_open: false });\r\n    }\r\n    else {\r\n      setState({ ...state, name: folder.name, is_folderEditDlg_open: false });\r\n    }\r\n  }\r\n\r\n  const onDeleteFolder = e => {\r\n    e.preventDefault();\r\n    if (!window.confirm('ნამდვილად გსურთ წაშლა?!')) {\r\n      return\r\n    }\r\n\r\n    JN.delete(user, 'admin/tutorial_tree', { id: match.params.id ? match.params.id : 1 },\r\n      () => {\r\n        toast('საქაღალდე წაიშალა', 'success');\r\n        history.push(`/tutorials/${state.parent_directories.length ? state.parent_directories[state.parent_directories.length - 1].id : 1}`);\r\n      },\r\n      error => {\r\n        if (error.status === 400)\r\n          toast('ასეთი საქაღალდე არ მოიძება', 'error');\r\n        else if (error.status === 403)\r\n          toast('შვილებიან საქაღალდეს ვერ წაშლით', 'error');\r\n      })\r\n  }\r\n\r\n  const [filter, setFilter] = useState('');\r\n  const [filteredItems, setFilteredItems] = useState([]);\r\n  const refFilteredProblems = [useRef(null), useRef(null), useRef(null), useRef(null), useRef(null)];\r\n\r\n  const onFilterChanged = e => {\r\n    let filterText = e.target.value;\r\n\r\n    if (filterText.length > 50)\r\n      return;\r\n\r\n    setFilter(filterText)\r\n    if (filterText === '') {\r\n      setFilteredItems([]);\r\n      return;\r\n    }\r\n\r\n    JN.get(user, `tutorial/search`, { title: filterText },\r\n      (data) => {\r\n        setFilteredItems(data.tutorials.slice(0, 5));\r\n      },\r\n      () => setFilteredItems([]));\r\n  }\r\n\r\n  const onHideFilter = (e) => {\r\n    if (e.currentTarget.contains(e.relatedTarget))\r\n      return;\r\n\r\n    setFilteredItems([]);\r\n\r\n    if (filter !== '') {\r\n      setFilter('');\r\n    }\r\n  }\r\n\r\n  const onKeyDown = e => {\r\n    if (!filteredItems.length)\r\n      return\r\n\r\n    let ARROW_UP = 38;\r\n    let ARROW_DOWN = 40;\r\n    if (e.keyCode !== ARROW_UP && e.keyCode !== ARROW_DOWN)\r\n      return;\r\n\r\n    e.preventDefault();\r\n\r\n    let up = e.keyCode === ARROW_UP;\r\n\r\n    let activeElement = document.activeElement;\r\n    let nextIndex = 0;\r\n\r\n    let i = refFilteredProblems.findIndex(ref => ref.current === activeElement);\r\n\r\n    if (i === -1 || i === 0) {\r\n      nextIndex = up ? filteredItems.length - 1 : i + 1;\r\n    }\r\n    else if (i === filteredItems.length - 1) {\r\n      nextIndex = up ? i - 1 : 0;\r\n    }\r\n    else {\r\n      nextIndex = up ? i - 1 : i + 1;\r\n    }\r\n\r\n    if (refFilteredProblems[nextIndex] && refFilteredProblems[nextIndex].current) {\r\n      refFilteredProblems[nextIndex].current.focus();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Main>\r\n      <Helmet>\r\n        <meta charSet=\"utf-8\" />\r\n        <title>{!match.params.id || match.params.id == 1 || state.name === 'tutorials' ? 'გაკვეთილები' : state.name}</title>\r\n        <meta name=\"description\" content=\"AiaSoft\" />\r\n      </Helmet>\r\n\r\n      <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n        {state.parent_directories &&\r\n          <ParentFoldersDiv ref={refLastParentItself}>\r\n            {state.parent_directories.map((folder, index) =>\r\n              <span style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }} key={index}>\r\n                <A style={{ display: 'flex', whiteSpace: 'nowrap', justifyContent: 'center', alignItems: 'center' }} to={`/tutorials/${folder.id}`} hover=\"true\">\r\n                  <MdFolder size=\"16\" color=\"var(--color_c2)\" />&nbsp;<span style={{ whiteSpace: 'nowrap' }}>{!index ? 'გაკვეთილები' : folder.name}</span>\r\n                </A>\r\n                &nbsp;/&nbsp;\r\n              </span>\r\n            )}\r\n            {state.name && state.name !== '' && <span style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', cursor: 'default', color: 'var(--color_c3)' }}><MdFolder size=\"16\" />&nbsp;<span style={{ whiteSpace: 'nowrap' }}>{state.name === 'tutorials' ? 'გაკვეთილები' : state.name}</span></span>}\r\n          </ParentFoldersDiv>\r\n        }\r\n        <div onBlur={onHideFilter} style={{ display: 'flex', justifyContent: 'flex-end', marginLeft: 'auto', marginBottom: 45, width: '250px', minWidth: '250px' }}>\r\n          {/* {state.parent_directories.length > 0 &&\r\n          <Tag backbutton=\"true\" to={`/tutorials/${state.parent_directories.length ? state.parent_directories[state.parent_directories.length - 1].id : 1}`}>\r\n            <MdKeyboardArrowLeft size=\"24\" />{`უკან დაბრუნება`}\r\n          </Tag>\r\n        } */}\r\n\r\n          <Input reverse onKeyDown={onKeyDown} fontSize=\"14px\" onChange={onFilterChanged} value={filter} placeholder=\"ძებნა..\">\r\n            {filter !== '' &&\r\n              <FilterContainer onKeyDown={onKeyDown}>\r\n                {!filteredItems.length ?\r\n                  <div>\r\n\r\n                  </div>\r\n                  :\r\n                  <>\r\n                    {filteredItems.map((tutorial, index) =>\r\n                      <FilterItem flex=\"true\" ref={refFilteredProblems[index]} key={tutorial.id} to={`/tutorial/${tutorial.id}`}>\r\n                        <span style={{ overflow: 'hidden', textOverflow: 'ellipsis' }}>{tutorial.title}</span>\r\n                      </FilterItem>\r\n                    )}\r\n                  </>\r\n                }\r\n              </FilterContainer>\r\n            }\r\n          </Input>\r\n        </div>\r\n      </div>\r\n\r\n      {user && user.permission !== 'user' &&\r\n        <>\r\n          <Button_Float full=\"true\" count=\"4\" to={`/addtutorial/${match.params.id ? match.params.id : 1}`}><MdAdd color=\"var(--color_green)\" size=\"22\" />&nbsp;გაკვეთილის დამატება</Button_Float>\r\n          <Button_Float full=\"true\" count=\"3\" onClick={onAddFolder}><MdAdd color=\"var(--color_green)\" size=\"22\" />&nbsp;საქაღალდის დამატება</Button_Float>\r\n          <Button_Float full=\"true\" count=\"2\" onClick={onEditFolder}><MdEdit color=\"var(--color_orange)\" size=\"20\" />&nbsp;საქაღალდის რედაქტირება</Button_Float>\r\n          <Button_Float full=\"true\" onClick={onDeleteFolder}><MdDelete color=\"var(--color_red)\" size=\"20\" />&nbsp;საქაღალდის წაშლა</Button_Float>\r\n        </>\r\n      }\r\n\r\n      <Header>\r\n        <TagsContainer>\r\n          {state.sub_directories && state.sub_directories.map((folder, index) =>\r\n            <Tag key={folder.id} to={`/tutorials/${folder.id}`}>\r\n              <MdFolder color=\"var(--color_yellow)\" size=\"24\" />&nbsp;<span style={{ whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis' }}>{folder.name}</span>\r\n            </Tag>\r\n          )}\r\n        </TagsContainer>\r\n\r\n        {/* {state.parent_directories && state.parent_directories.length > 0 &&\r\n          <TagsFooter>\r\n            {state.parent_directories.map((folder, index) =>\r\n              <span key={index}><A to={`/tutorials/${folder.id}`} hover=\"true\">{!index ? folder.id : folder.name} </A> /&nbsp;</span>\r\n            )}\r\n            <span style={{cursor: 'default', color: 'var(--color_c3)'}}>{state.name}</span>\r\n          </TagsFooter>\r\n        } */}\r\n      </Header>\r\n\r\n      {/* გაკვეთილები */}\r\n      {state.tutorials.length > 0 && (state.parent_directories.length > 0 || state.sub_directories.length > 0) &&\r\n        <TableDiv subdirectoriessize={state.sub_directories.length}>\r\n          <Table style={{}}>\r\n            <thead></thead>\r\n            <tbody>\r\n              {state.tutorials.map((tutorial) =>\r\n                <tr key={tutorial.id}>\r\n                  {/* <Td>{tutorial.id}</Td> */}\r\n                  <Td style={{ display: 'flex', height: 50, alignItems: 'center' }} ><FaBook />&nbsp;<Table_A to={`/tutorial/${tutorial.id}`}>{tutorial.title}</Table_A>{!tutorial.is_visible && <span style={{ display: 'flex', alignItems: 'center' }}><MdVisibilityOff size=\"20\" color=\"var(--color_c3)\" /></span>}</Td>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </Table>\r\n        </TableDiv>\r\n      }\r\n\r\n\r\n      {/* ახალი დამატებულები */}\r\n      {listLastAddedTutorials.length > 0 && <>\r\n        <H3 style={{ textAlign: 'left', marginTop: 80 }}>ახალი გაკვეთილები</H3>\r\n        <TableDiv subdirectoriessize={1}>\r\n          <Table>\r\n            <thead></thead>\r\n            <tbody>\r\n              {listLastAddedTutorials.map((tutorial) =>\r\n                <tr key={tutorial.id}>\r\n                  {/* <Td>{tutorial.id}</Td> */}\r\n                  <Td style={{ display: 'flex', height: 50, alignItems: 'center' }} ><FaBook />&nbsp;<Table_A to={`/tutorial/${tutorial.id}`}>{tutorial.title}</Table_A>{!tutorial.is_visible && <span style={{ display: 'flex', alignItems: 'center' }}><MdVisibilityOff size=\"20\" color=\"var(--color_c3)\" /></span>}</Td>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </Table>\r\n        </TableDiv>\r\n      </>}\r\n\r\n\r\n      {state.is_folderEditDlg_open && <FolderEditDlg submit={onFolderSubmited} folder={state.editingFolder} isOpen={state.is_folderEditDlg_open} close={onFolderEditDlg_close} />}\r\n    </Main>\r\n  )\r\n}\r\n\r\nexport default Tutorials","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nconst Div = styled.div `\r\n  display: inline-block;\r\n  -webkit-touch-callout: none; /* iOS Safari */\r\n    -webkit-user-select: none; /* Safari */\r\n     -khtml-user-select: none; /* Konqueror HTML */\r\n       -moz-user-select: none; /* Old versions of Firefox */\r\n        -ms-user-select: none; /* Internet Explorer/Edge */\r\n            user-select: none; /* Non-prefixed version, currently\r\n                                  supported by Chrome, Opera and Firefox */\r\n`\r\n\r\nconst Span = styled.span `\r\n  /* color: ${props => props.color ? props.color : 'var(--color_c2)'}; */\r\n  font-size: ${props => props.size ? props.size : '14px'};\r\n  padding-left: 2px;\r\n  padding-right: 2px;\r\n`\r\nconst TimeWidget = props => {\r\n  const { time, isDynamic } = props\r\n\r\n  if (!time) {\r\n    return <></>\r\n  }\r\n\r\n  return (\r\n    <Div>\r\n      {time.days    !== null && (isDynamic || (!isDynamic && time.days !== 0)) && <>{time.days}<Span {...props}>დღე</Span> </>}\r\n      {time.hours   !== null && (isDynamic || (!isDynamic && time.hours !== 0)) && <>{time.hours}<Span {...props}>სთ</Span> </>}\r\n      {time.minutes !== null && (isDynamic || (!isDynamic && time.minutes !== 0)) && <>{time.minutes}<Span {...props}>წთ</Span> </>}\r\n      {time.seconds !== null && (isDynamic || (!isDynamic && time.seconds !== 0)) && <>{time.seconds}<Span {...props}>წმ</Span> </>}\r\n    </Div>\r\n  )\r\n}\r\n\r\nexport default TimeWidget","import React, { useState, useEffect } from 'react'\r\nimport { Get_dateDiff_toString } from 'Global_Functions'\r\nimport TimeWidget from './TimeWidget'\r\n\r\nconst CountDown = props => {\r\n\r\n  const [state, setState] = useState({\r\n    from: props.from,\r\n    timeDiff: Get_dateDiff_toString(props.from ? props.from : 'now', props.to ? props.to : 'now', true, props.to)\r\n  })\r\n\r\n\r\n  const timeout = () => {\r\n    let diff = Get_dateDiff_toString(props.from ? props.from : 'now', props.to ? props.to : 'now', true, props.to)\r\n    setState({timeDiff: diff})\r\n\r\n    if (!diff) {\r\n      props.timeout()\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval(timeout, 1000);\r\n    return () => clearInterval(interval);\r\n  }, [props])\r\n\r\n  return (\r\n    <TimeWidget color={props.color} size={props.size} time={state.timeDiff} isDynamic={true} />\r\n  )\r\n}\r\n\r\nexport default CountDown","import React from 'react'\r\nimport styled, { css } from 'styled-components'\r\nimport { theme } from 'Themes'\r\nimport { MdCheckBox, MdCheckBoxOutlineBlank, MdCheck, MdClear } from 'react-icons/md'\r\nimport { FaTimes } from 'react-icons/fa'\r\n\r\nconst Container = styled.div `\r\n  display: inline-flex;\r\n  font-size: 14px;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n\r\n  -webkit-touch-callout: none; /* iOS Safari */\r\n    -webkit-user-select: none; /* Safari */\r\n     -khtml-user-select: none; /* Konqueror HTML */\r\n       -moz-user-select: none; /* Old versions of Firefox */\r\n        -ms-user-select: none; /* Internet Explorer/Edge */\r\n            user-select: none; /* Non-prefixed version, currently\r\n                                  supported by Chrome, Opera and Firefox */\r\n\r\n  cursor: pointer;\r\n  * {\r\n    cursor: pointer;\r\n  }\r\n\r\n  label {\r\n    margin-left: 5px;\r\n    font-size: 14px;\r\n  }\r\n\r\n  ${props => props.disabled && css `\r\n    pointer-events: none;\r\n  `}\r\n`\r\n\r\nconst Checkbox = props => {\r\n\r\n  const on_check_changed = e => {\r\n    e.preventDefault()\r\n    \r\n    if (props.onCheckedChanged) {\r\n      props.onCheckedChanged()\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Container disabled={props.disabled} onClick={props.onClick ? props.onClick : on_check_changed}>\r\n\r\n      {props.checked ? \r\n        <MdCheck size={props.size ? props.size : \"22\"} color={props.disabled ? \"var(--color_c3)\" : props.color ? props.color : \"var(--color_primary)\"} />\r\n        :\r\n        props.disabled ? <MdClear size={props.size ? props.size : \"22\"} color={\"var(--color_c3)\"} /> : <MdCheckBoxOutlineBlank size={props.size ? props.size : \"22\"} color={\"var(--color_c2)\"} />\r\n      }\r\n\r\n      <label>{props.title}</label>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Checkbox","import React, { useState, useEffect, useContext } from 'react'\r\nimport { theme } from 'Themes'\r\nimport { Server } from 'Server'\r\nimport axios from 'axios'\r\nimport styled, { css } from 'styled-components'\r\nimport A from 'controls/A'\r\nimport { UserContext } from 'contexts/UserContext'\r\nimport { GlobalContext } from 'contexts/GlobalContext'\r\n\r\nimport { GoogleLogin } from 'react-google-login'\r\nimport FacebookLogin from 'react-facebook-login'\r\n\r\nimport { FaBrain, FaBook, FaStar, FaMedal, FaTrophy, FaPaintBrush } from 'react-icons/fa'\r\nimport { Link } from 'react-router-dom'\r\nimport Helmet from 'react-helmet'\r\nimport Container from 'controls/Container'\r\nimport JN from 'JN'\r\nimport { Convert_date_to_string, Get_contest_status, Get_dateDiff_toString } from 'Global_Functions'\r\nimport CountDown from 'controls/CountDown'\r\nimport Checkbox from 'controls/Checkbox'\r\nimport TimeWidget from 'controls/TimeWidget'\r\nimport { MdTimer, MdEvent } from 'react-icons/md'\r\nimport H3 from 'controls/H3'\r\nimport B from 'controls/B'\r\n\r\nconst SA = styled(Link)`\r\n  text-decoration: none;\r\n  color: var(--color_c2);\r\n  width: 160px;\r\n  height: 120px;\r\n\r\n  &:hover {\r\n    transition: color ease 250ms;\r\n    color: ${props => props.color};\r\n  }\r\n`\r\n\r\nconst CartContainer = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(4, auto);\r\n  grid-template-columns: repeat(auto-fill, minmax(160px, 160px));\r\n  grid-column-gap: 12px;\r\n  grid-row-gap: 12px;\r\n  justify-content: center;\r\n`\r\n\r\nconst Cart = styled.div`\r\n  border-radius: 8px;\r\n  box-shadow: 1px 2px 5px rgba(0, 0, 0, 0.2);\r\n  color: red;\r\n  color: var(--color_c1);\r\n  background-color: var(--color_b2);\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 160px;\r\n  height: 120px;\r\n  font-size: 16px;\r\n  font-family: ${theme.fontCaps};\r\n  \r\n  span {\r\n    /* color: var(--color_c2); */\r\n  }\r\n  border: 3px solid transparent;\r\n\r\n\r\n  svg {\r\n    transition: transform ease 250ms;\r\n  }\r\n\r\n  &:hover {\r\n    transition: color ease 250ms, border ease 250ms;\r\n    /* color: ${props => props.color}; */\r\n    border: 3px solid var(--color_primary);\r\n\r\n   svg {\r\n      transform: rotate(25deg);\r\n   }\r\n  }\r\n`\r\n\r\nconst ContestsContainer = styled.div`\r\n  font-size: 14px;\r\n  color: var(--color_c2);\r\n  margin: auto;\r\n  margin-top: 50px;\r\n  padding-left: 12px;\r\n  padding-right: 12px;\r\n  display: grid;\r\n  width: 700px;\r\n  max-width: 100%;\r\n\r\n  grid-template-columns: repeat(1, minmax(0, 1fr));\r\n  grid-gap: 13px;\r\n\r\n  @media (max-width: ${theme.mobileSize}) {\r\n    & {\r\n      margin-top: 100px;\r\n      grid-template-columns: repeat(1, minmax(0, 1fr));\r\n    }\r\n  }\r\n`\r\n\r\nconst ContestItem = styled(Link)`\r\n  box-shadow: 1px 2px 5px rgba(0, 0, 0, 0.2);\r\n  color: var(--color_c2);\r\n  background-color: var(--color_b2);\r\n  border-radius: 8px;\r\n  padding: 16px;\r\n  padding-top: 0;\r\n  padding-bottom: 0;\r\n  text-align: left;\r\n  text-decoration: none;\r\n  border: 3px solid transparent;\r\n\r\n  &:hover {\r\n    transition: border ease 250ms;\r\n    border: 3px solid var(--color_primary);\r\n  }\r\n\r\n  p {\r\n    margin-bottom: 10px;\r\n    &:first-child {\r\n      font-size: 18px;\r\n    }\r\n  }\r\n`\r\n\r\nconst Main = props => {\r\n  const { tr } = useContext(GlobalContext);\r\n  const { user } = useContext(UserContext);\r\n  const [state, setState] = useState({\r\n    plannedContests: [],\r\n  });\r\n\r\n  useEffect(() => {\r\n    JN.get(user, `contests/${1}`, { planned: true },\r\n      (data) => {\r\n        setState({ ...state, plannedContests: data.contests });\r\n      })\r\n  }, []);\r\n\r\n  const on_google_logedIn = (response) => {\r\n    console.log(response)\r\n  }\r\n\r\n  const on_google_error = (response) => {\r\n    console.log(response)\r\n  }\r\n\r\n  const on_facebook_login = (response) => {\r\n    console.log(response)\r\n  }\r\n\r\n  const on_registerToContest = contest => e => {\r\n    e.preventDefault()\r\n\r\n    setState({ ...state, plannedContests: state.plannedContests.map((c) => { return c.id !== contest.id ? c : { ...c, registered: true, num_registered: c.num_registered + 1 } }) })\r\n\r\n    JN.post(user, `contest/${contest.id}/register`, {}, null, () => setState({ ...state, contests: state.plannedContests.map((c) => { return c.id !== contest.id ? c : { ...c, registered: false, num_registered: c.num_registered - 1 } }) }))\r\n  }\r\n\r\n  const on_refresh = () => {\r\n    JN.get(user, `contests/${1}`, { planned: true },\r\n      (data) => {\r\n        setState({ ...state, plannedContests: data.contests });\r\n      })\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Helmet>\r\n        <meta charSet=\"utf-8\" />\r\n        <title>AiaSoft</title>\r\n        <meta name=\"description\" content=\"მთავარი გვერდი\" />\r\n      </Helmet>\r\n      <div style={{ margin: 'auto', width: '700px', maxWidth: '100%' }}>\r\n        <CartContainer>\r\n\r\n          <SA to=\"/problems\">\r\n            <Cart color=\"var(--color_blue)\">\r\n              <FaBrain size=\"42\" />\r\n              <B style={{ marginTop: '10px' }}>{tr(\"ამოცანები\")}</B>\r\n            </Cart>\r\n          </SA>\r\n\r\n          <SA to=\"/contests\">\r\n            <Cart color=\"var(--color_red)\">\r\n              <FaTrophy size=\"42\" />\r\n              <B style={{ marginTop: '10px' }}>{tr(\"კონტესტები\")}</B>\r\n            </Cart>\r\n          </SA>\r\n\r\n          <SA to={`/rating`}>\r\n            <Cart color=\"var(--color_orange)\">\r\n              <FaStar size=\"42\" />\r\n              <B style={{ marginTop: '10px' }}>{tr(\"რეიტინგი\")}</B>\r\n            </Cart>\r\n          </SA>\r\n\r\n          <SA to=\"/tutorials\">\r\n            <Cart color=\"var(--color_green)\">\r\n              <FaBook size=\"42\" />\r\n              <B style={{ marginTop: '10px' }}>{tr(\"გაკვეთილები\")}</B>\r\n            </Cart>\r\n          </SA>\r\n\r\n          {user && user.permission !== 'user' &&\r\n            <SA to={`/paint`}>\r\n              <Cart color=\"var(--color_orange)\">\r\n                <FaPaintBrush size=\"42\" />\r\n                <B style={{ marginTop: '10px' }}>{tr(\"რედაქტ2\")}</B>\r\n              </Cart>\r\n            </SA>\r\n          }\r\n\r\n        </CartContainer>\r\n      </div>\r\n\r\n      {state.plannedContests.length > 0 &&\r\n        <ContestsContainer>\r\n          {state.plannedContests.map((contest, index) =>\r\n            <ContestItem key={contest.id} to={`/contest/${contest.id}`}>\r\n              <H3>{contest.title}</H3>\r\n              <div style={{ marginBottom: 10, display: 'flex', justifyContent: 'space-between' }}>\r\n                <div style={{ display: 'flex', alignItems: 'center' }}>\r\n                  <MdEvent size=\"18\" />&nbsp;\r\n                {Get_contest_status(contest.start_time, contest.end_time) === 2 ?\r\n                    <>\r\n                      {Get_dateDiff_toString('now', contest.start_time, false, true).days ?\r\n                        Convert_date_to_string(contest.start_time) :\r\n                        <>{contest.start_time && <CountDown to={contest.start_time} timeout={on_refresh} />}</>\r\n                      }\r\n                    </>\r\n                    :\r\n                    <>{Convert_date_to_string(contest.start_time)}</>\r\n                  }\r\n                </div>\r\n              </div>\r\n              <div style={{ marginBottom: 8, display: 'flex', alignItems: 'center' }}>\r\n                <MdTimer size=\"18\" />&nbsp;\r\n                <TimeWidget time={Get_dateDiff_toString(contest.start_time, contest.end_time, false, true)} />\r\n              </div>\r\n              <div style={{ marginBottom: '12px' }}>\r\n                {user &&\r\n                  <span style={{ display: 'flex', alignItems: 'flex-start', justifyContent: 'center' }}>\r\n                    <Checkbox title={tr(\"მონაწილეობა\")} disabled={Get_contest_status(contest.start_time, contest.end_time) === 0} onClick={Get_contest_status(contest.start_time, contest.end_time) !== 0 && !contest.registered ? on_registerToContest(contest) : null} color=\"var(--color_green)\" checked={contest.registered} />\r\n                  </span>\r\n                }\r\n              </div>\r\n            </ContestItem>\r\n          )}\r\n        </ContestsContainer>\r\n      }\r\n\r\n      {/* <div style={{columnCount: 3, width: 700, maxWidth: '100%', margin: 'auto', marginTop: 25}}>\r\n      <div style={{height: 1, height: '1em', borderBottom: '1px solid var(--color_c2)'}}></div>\r\n      <div style={{whiteSpace: 'nowrap'}}><H3>ამოუხსნელი ამოცანები</H3></div>\r\n      <div style={{height: 1, height: '1em', borderBottom: '1px solid var(--color_c2)'}}></div>\r\n    </div> */}\r\n\r\n      {/* <GoogleLogin\r\n        clientId=\"993955986794-4t16h09ml0ursv68jpavnof1n2ucr555.apps.googleusercontent.com\"\r\n        buttonText=\"Login\"\r\n        onSuccess={on_google_logedIn}\r\n        onFailure={on_google_error}\r\n        cookiePolicy={'single_host_origin'}\r\n      /> */}\r\n\r\n      {/* <br/>\r\n      <br/>\r\n      <FacebookLogin\r\n        appId=\"2632898383472476\"\r\n        autoLoad={false}\r\n        fields=\"name,email,picture\"\r\n        // onClick={componentClicked}\r\n        callback={on_facebook_login}\r\n        scope=\"user_friends\" \r\n      /> */}\r\n\r\n\r\n      {/* <Chat /> */}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Main","import React, { useState, useContext } from 'react'\r\nimport Form from '../../controls/Form'\r\nimport Input from '../../controls/Input'\r\nimport Button from '../../controls/Button'\r\nimport { Validate_email } from 'Global_Functions'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { MessageBoxContext } from 'contexts/MessageBoxContext'\r\nimport { UserContext } from 'contexts/UserContext'\r\nimport JN from 'JN'\r\n\r\nfunction RestorePassword(props) {\r\n  const { toast } = useContext(MessageBoxContext)\r\n  const { user }  = useContext(UserContext)\r\n\r\n  //ფოსტა\r\n  const { history } = props\r\n  const [email, setEmail] = useState('')\r\n  const [error, setError] = useState('')\r\n  const [success, setSuccess] = useState(false)\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  const onEmailChanged = (e) => {\r\n    setEmail(e.target.value)\r\n  }\r\n\r\n  //გაგზავნა\r\n  const onSubmit = () => {\r\n    if (!email) {\r\n      setError('შეიყვანეთ თქვენი ფოსტა');\r\n      return\r\n    }\r\n\r\n    if (!Validate_email(email)) {\r\n      setError('ფოსტის ფორმატი არასწორია');\r\n      return\r\n    }\r\n    setError('')\r\n    setLoading(true)\r\n    JN.post(null, 'profile/restore', {email: email},\r\n    () => {\r\n      toast('ფოსტაზე გამოგეგზავნათ ახალი პაროლი', 'success')\r\n      setSuccess(true)\r\n    },\r\n    (error) => {\r\n      if (error.status === 403) {\r\n        setError('ასეთი ფოსტა არ არსებობს')\r\n        setLoading(false)\r\n      }\r\n    })\r\n  }\r\n\r\n  if (user) {\r\n    return (<Redirect to={`/profile/${user.username}`} />)\r\n  }\r\n\r\n  if (success) {\r\n    return (<Redirect to=\"/login\" />)\r\n  }\r\n\r\n  return (\r\n    <Form title=\"პაროლის აღდგენა\" onSubmit={onSubmit}>\r\n      <Input focus id=\"email\" title=\"ფოსტა\" value={email} onChange={onEmailChanged} isError={error !== ''} errorText={error} helper=\"შეიყვანეთ თქვენი ფოსტა, რომლითაც ხართ დარეგისტრირებული. მიიღებთ შეტყობინებას და მიყევით ინსტრუქციებს\" />\r\n      <div style={{marginTop: '50px'}}>\r\n        <Button disabled={loading}>გაგზავნა{loading && '..'}</Button>\r\n      </div>\r\n    </Form>\r\n  )\r\n}\r\n\r\nexport default RestorePassword","import React, { useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport { theme } from 'Themes'\r\n\r\nconst StyledLink = styled.div `\r\n  color: white;\r\n  text-decoration: none;\r\n  font-family: ${theme.fontCaps};\r\n  font-size: 18px;\r\n  cursor: pointer;\r\n  padding: 15px 1em;\r\n  margin-right: 2px;\r\n  border: none;\r\n  outline: none;\r\n  background: none;\r\n  margin-left: ${props => props.margin_left ? props.margin_left : '0'};\r\n  &:hover {\r\n    transition: background-color ease 200ms;\r\n    background-color: rgba(0, 0, 0, 0.1);\r\n    span {\r\n      transition: opacity ease 200ms;\r\n      opacity: 1;\r\n    }\r\n    input {\r\n      visibility: visible;\r\n      width: 200px;\r\n      border-bottom: 1px solid white;\r\n    }\r\n  }\r\n`\r\nconst StyledInput = styled.input `\r\n  font-family: ${theme.font};\r\n  font-size: 15px;\r\n  width: 0;\r\n  border: none;\r\n  outline: none;\r\n  padding: 5px;\r\n  visibility: hidden;\r\n  height: 25px;\r\n  border: none;\r\n  background: none;\r\n  color: white;\r\n  transition: width ease 200ms;\r\n`\r\nconst StyledButton = styled.button `\r\n  color: white;\r\n  text-decoration: none;\r\n  font-family: ${theme.fontCaps};\r\n  font-size: 18px;\r\n  cursor: pointer;\r\n  border: none;\r\n  outline: none;\r\n  background: none;\r\n`\r\n\r\nconst StyledSpan = styled.span `\r\n  font-weight: 900;\r\n  opacity: 0;\r\n  color: ${theme.secondary};\r\n`\r\nfunction HeaderInput(props) {\r\n  const [search, SetSearch] = useState(\"\")\r\n  const onSearchTextChanged = (e) => {\r\n    SetSearch(e.target.value)\r\n  }\r\n  const onClick = () => {\r\n    if (!search) {\r\n      return\r\n    }\r\n    alert(search)\r\n  }\r\n  return (\r\n    <StyledLink>\r\n      <StyledSpan>{\"<\"}</StyledSpan>\r\n      <StyledInput onChange={onSearchTextChanged} />\r\n      <StyledButton onClick={onClick}>ძებნა</StyledButton>\r\n      <StyledSpan>{\" />\"}</StyledSpan>\r\n    </StyledLink>\r\n  )\r\n}\r\n\r\nexport default HeaderInput","import React, { useState, useEffect } from 'react'\r\nimport MathJax from 'react-mathjax2'\r\nimport styled from 'styled-components'\r\n\r\nconst Container = styled.div `\r\n  white-space: pre-line;\r\n`\r\n\r\nconst WithMathJax = (props) => {\r\n  const [options, setOptions] = useState({asciimath2jax: {useMathMLspacing: true, delimiters: [[\"$\",\"$\"]], preview: \"none\",}});\r\n\r\n  useEffect(() => {\r\n    \r\n  }, [props])\r\n  \r\n  \r\n  return (\r\n    <Container>\r\n      <MathJax.Context input='ascii'\r\n        script=\"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=AM_HTMLorMML\"\r\n        options={options}\r\n        onLoad={props.loaded}\r\n      >\r\n        <MathJax.Text text={props.children}></MathJax.Text>\r\n      </MathJax.Context>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default WithMathJax","import React, { useState, useEffect } from 'react'\r\nimport styled from 'styled-components'\r\nimport AceEditor from 'react-ace'\r\nimport { theme } from 'Themes'\r\n\r\nimport 'brace/mode/python'\r\nimport 'brace/mode/c_cpp'\r\nimport 'brace/mode/pascal'\r\nimport 'brace/mode/json'\r\nimport 'brace/mode/css'\r\nimport 'brace/mode/javascript'\r\nimport 'brace/mode/java'\r\nimport 'brace/mode/csharp'\r\n\r\nimport 'brace/theme/ambiance'\r\nimport 'brace/theme/chaos'\r\nimport 'brace/theme/chrome'\r\nimport 'brace/theme/clouds'\r\nimport 'brace/theme/clouds_midnight'\r\nimport 'brace/theme/cobalt'\r\nimport 'brace/theme/crimson_editor'\r\nimport 'brace/theme/dawn'\r\nimport 'brace/theme/dracula'\r\nimport 'brace/theme/dreamweaver'\r\nimport 'brace/theme/eclipse'\r\nimport 'brace/theme/github'\r\nimport 'brace/theme/gob'\r\nimport 'brace/theme/gruvbox'\r\nimport 'brace/theme/idle_fingers'\r\nimport 'brace/theme/iplastic'\r\nimport 'brace/theme/katzenmilch'\r\nimport 'brace/theme/kr_theme'\r\nimport 'brace/theme/kuroir'\r\nimport 'brace/theme/merbivore'\r\nimport 'brace/theme/merbivore_soft'\r\nimport 'brace/theme/mono_industrial'\r\nimport 'brace/theme/monokai'\r\nimport 'brace/theme/pastel_on_dark'\r\nimport 'brace/theme/solarized_dark'\r\nimport 'brace/theme/solarized_light'\r\nimport 'brace/theme/sqlserver'\r\nimport 'brace/theme/terminal'\r\nimport 'brace/theme/textmate'\r\nimport 'brace/theme/tomorrow'\r\nimport 'brace/theme/tomorrow_night'\r\nimport 'brace/theme/tomorrow_night_blue'\r\nimport 'brace/theme/tomorrow_night_bright'\r\nimport 'brace/theme/tomorrow_night_eighties'\r\nimport 'brace/theme/twilight'\r\nimport 'brace/theme/vibrant_ink'\r\nimport 'brace/theme/xcode'\r\nimport { MdMemory, MdTimer, MdAccessTime, MdSettings, MdFileUpload, MdCloudUpload } from 'react-icons/md'\r\nimport { FaFileUpload } from 'react-icons/fa'\r\n\r\nconst CodeHeader = styled.div `\r\n  margin: 7px;\r\n  margin-left: 10px;\r\n  display: flex;\r\n  align-items: center;\r\n  font-size: 14px;\r\n  select {\r\n    margin-right: 5px;\r\n  }\r\n\r\n  -webkit-touch-callout: none; /* iOS Safari */\r\n    -webkit-user-select: none; /* Safari */\r\n     -khtml-user-select: none; /* Konqueror HTML */\r\n       -moz-user-select: none; /* Old versions of Firefox */\r\n        -ms-user-select: none; /* Internet Explorer/Edge */\r\n            user-select: none; /* Non-prefixed version, currently\r\n                                  supported by Chrome, Opera and Firefox */\r\n`\r\n\r\nconst Settings = styled.button `\r\n  position: relative;\r\n  border: none;\r\n  background: none;\r\n  outline: none;\r\n  display: flex;\r\n  font-size: inherit;\r\n  font-family: inherit;\r\n\r\n  div {\r\n    position: absolute;\r\n    display: none;\r\n    z-index: 1;\r\n    right: 0;\r\n    top: 0;\r\n    flex-direction: column;\r\n    background: var(--color_b2);\r\n    padding: 15px;\r\n    border-radius: 5px;\r\n    /* box-shadow: 0 0 5px rgba(0, 0, 0, 0.3); */\r\n\r\n    select:not(:last-child) {\r\n      margin-bottom: 5px;\r\n    }\r\n  }\r\n\r\n  &:hover div {\r\n    display: flex;\r\n  }\r\n`\r\n\r\nconst StyledButton = styled.button `\r\n  border: none;\r\n  background: none;\r\n  outline: none;\r\n  display: flex;\r\n  font-size: inherit;\r\n  font-family: inherit;\r\n\r\n  * {\r\n    cursor: pointer;\r\n  }\r\n\r\n  label {\r\n    display: flex;\r\n    font-size: 14px;\r\n\r\n    span {\r\n      padding-left: 5px;\r\n    }\r\n  }\r\n`\r\n\r\nconst Code = styled.div `\r\n  color: var(--color_c2);\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  text-align: left;\r\n  margin: auto;\r\n  margin-top: 1em;\r\n  background-color: var(--color_b1);\r\n  border: 1px solid var(--color_b1);\r\n  line-height: 1;\r\n  word-spacing: 0;\r\n  /* max-width: 700px; */\r\n  /* width: ${props => props.width ? props.width : \"90%\"}; */\r\n\r\n\r\n\r\n  border-radius: ${props => props.borderRadius ? props.borderRadius : '8px'};\r\n  overflow: hidden;\r\n  /* transition: box-shadow ease 250ms; */\r\n  &:focus-within {\r\n    /* border: 1px solid ${theme.primary}; */\r\n    /* box-shadow: 0 0 5px ${theme.primary}; */\r\n  }\r\n\r\n  @media only screen and (max-width: ${theme.mobileSize}) {\r\n    width: 100%;\r\n  }\r\n`\r\n\r\nconst HideOnMobileSpan = styled.span `\r\n  @media only screen and (max-width: ${theme.mobileSize}) {\r\n    display: none;\r\n  }\r\n`\r\n\r\nconst CodeEditor = (props) => {\r\n\r\n  const [state, setState] = useState({\r\n    code: {value: '', language: 'c_cpp', theme: 'merbivore_soft'}\r\n  })\r\n\r\n  useEffect(() => {\r\n    // setState({\r\n    //   ...state,\r\n    //   code: props.code,\r\n    // })\r\n  }, [])\r\n\r\n  //ენის შეცვლა\r\n  const onLanguageChanged = (e) => {\r\n    setState({\r\n      ...state,\r\n      code: {...state.code, language: e.nativeEvent.target[e.nativeEvent.target.selectedIndex].text}\r\n    })\r\n\r\n    if (props.languageChanged) {\r\n      props.languageChanged(e.target.value)\r\n    }\r\n  }\r\n\r\n  //თემისშეცვლა\r\n  const onThemeChanged = (e) => {\r\n    setState({\r\n      ...state,\r\n      code: {...state.code, theme: e.target.value}\r\n    })\r\n  }\r\n\r\n  const on_filePicked = e => {\r\n    const file = e.target.files.item(0)\r\n    var reader = new FileReader();\r\n    reader.readAsText(file, \"UTF-8\");\r\n\r\n    reader.onload = (event) => {\r\n      props.onChange(event.target.result)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Code borderRadius={props.borderRadius} width={props.width ? props.width : \"100%\"}>\r\n      {!props.isPreview &&\r\n      <CodeHeader>\r\n        <StyledButton>\r\n          <input id=\"code_editor_file_button\" style={{display: 'none'}} type=\"file\" onChange={on_filePicked} />\r\n          <label style={{color: \"var(--color_c2)\"}} htmlFor=\"code_editor_file_button\">\r\n            <MdCloudUpload size=\"16\" />\r\n            <span style={{fontSize: '14px'}}><HideOnMobileSpan>ფაილიდან</HideOnMobileSpan> ატვირთვა</span>\r\n          </label>\r\n        </StyledButton>\r\n\r\n        <div style={{marginLeft: 'auto', marginTop: 'auto'}}>\r\n          {props.rightItems}\r\n        </div>\r\n        {false && <Settings>\r\n          <MdSettings />\r\n          <div>\r\n            <select onChange={onLanguageChanged}>\r\n              <option value=\"cpp\">c_cpp</option>\r\n              <option value=\"python3\">python</option>\r\n            </select>\r\n            <select value={state.code.theme} onChange={onThemeChanged} >\r\n              <option>ambiance</option>\r\n              <option>chaos</option>\r\n              <option>chrome</option>\r\n              <option>clouds</option>\r\n              <option>clouds_midnight</option>\r\n              <option>cobalt</option>\r\n              <option>crimson_editor</option>\r\n              <option>dawn</option>\r\n              <option>dracula</option>\r\n              <option>dreamweaver</option>\r\n              <option>eclipse</option>\r\n              <option>github</option>\r\n              <option>gob</option>\r\n              <option>gruvbox</option>\r\n              <option>idle_fingers</option>\r\n              <option>iplastic</option>\r\n              <option>katzenmilch</option>\r\n              <option>kr_theme</option>\r\n              <option>kuroir</option>\r\n              <option>merbivore</option>\r\n              <option>merbivore_soft</option>\r\n              <option>mono_industrial</option>\r\n              <option>monokai</option>\r\n              <option>pastel_on_dark</option>\r\n              <option>solarized_dark</option>\r\n              <option>solarized_light</option>\r\n              <option>sqlserver</option>\r\n              <option>terminal</option>\r\n              <option>textmate</option>\r\n              <option>tomorrow</option>\r\n              <option>tomorrow_night</option>\r\n              <option>tomorrow_night_blue</option>\r\n              <option>tomorrow_night_bright</option>\r\n              <option>tomorrow_night_eighties</option>\r\n              <option>twilight</option>\r\n              <option>vibrant_ink</option>\r\n              <option>xcode</option>\r\n            </select>\r\n        </div>\r\n        </Settings>}\r\n      </CodeHeader>\r\n      }\r\n      {props.isPreview &&\r\n        <>{props.preview}</>\r\n      }\r\n      <AceEditor\r\n        readOnly={props.readOnly}\r\n        theme={state.code.theme}\r\n        value={props.code.value}\r\n        onChange={props.onChange}\r\n        height={props.height ? props.height : \"50em\"}\r\n        width={props.width}\r\n        mode={props.code.editorName} \r\n        focus={props.focus}\r\n      /> \r\n    </Code>\r\n  )\r\n}\r\n\r\nexport default CodeEditor","import React, {useState, useEffect, useContext } from 'react'\r\nimport JN from 'JN'\r\nimport Modal from '../../components/Modal'\r\nimport CodeEditor from '../../components/CodeEditor'\r\nimport LoadingSvg from '../../components/LoadingSvg'\r\nimport { MdDateRange, MdLink } from 'react-icons/md'\r\nimport { Code_Editor_Names, Copy } from 'Global_Functions'\r\nimport { UserContext } from 'contexts/UserContext'\r\nimport { Convert_date_to_string } from 'Global_Functions'\r\nimport { Redirect } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport { MessageBoxContext } from 'contexts/MessageBoxContext'\r\nimport A from 'controls/A'\r\n\r\nconst BButton = styled.button `  \r\n  cursor: pointer;\r\n  border: none;\r\n  background: none;\r\n  outline: none;\r\n  margin-right: 10px;\r\n\r\n  &:hover {\r\n    transition: transform ease 250ms;\r\n    transform: scale(1.4);\r\n  }\r\n`\r\n\r\nconst SubmissionPreviewDlg = props => {\r\n  const { user } = useContext(UserContext);\r\n  const {id} = props;\r\n  const { toast } = useContext(MessageBoxContext);\r\n\r\n  const [state, setState] = useState({\r\n    token: localStorage.getItem('access_token'),\r\n    submission: {language: 'c_cpp'},\r\n    is_loading: true,\r\n    is_contest_running: false,\r\n  });\r\n\r\n  useEffect(() => {\r\n\r\n    JN.get(user, `submission`, {id: id},\r\n    (data) => {\r\n      let language = Code_Editor_Names[data.language]\r\n\r\n      setState({\r\n        ...state,\r\n        submission: {...data, language: language},\r\n        is_loading: false,\r\n      })\r\n    },\r\n    (error) => {\r\n      console.log(error);\r\n\r\n      setState({\r\n        ...state,\r\n        is_loading: false,\r\n        is_contest_running: error.status === 403,\r\n      });\r\n    })\r\n  }, [])\r\n\r\n  const onCopyLink = e => {\r\n    e.preventDefault();\r\n    if (Copy(`aiasoft.ge/submission/${id}`)) {\r\n      toast('დაკოპირდა მისამართი');\r\n    }\r\n    else {\r\n      toast('ვერ დაკოპირდა მისამართი', 'error');\r\n    }\r\n  }\r\n\r\n  if (state.redirect_to_404) {\r\n    return (<Redirect to=\"/404\" />)\r\n  }\r\n\r\n  if (state.is_contest_running) {\r\n    if (user) {\r\n      return (\r\n        <Modal width=\"550px\" isOpen={true} close={props.close}>\r\n          <div style={{fontSize: '16px', margin: 'auto', marginTop: '15px', padding: '15px'}}>\r\n          ამოუხსნელი ამოცანის კოდის ნახვა აკრძალულია <span style={{color: 'var(--color_red)'}}>!</span>\r\n          </div>\r\n        </Modal>\r\n      )\r\n    }\r\n\r\n    return (\r\n      <Modal isOpen={true} close={props.close}>\r\n        <div style={{fontSize: '16px', margin: 'auto', marginTop: '15px', padding: '15px'}}>\r\n          კოდის სანახავად უნდა <A to={`/login`}>შეხვიდეთ</A>\r\n        </div>\r\n      </Modal>\r\n    )\r\n  }\r\n\r\n  if (state.is_loading) {\r\n    return (\r\n      <Modal isOpen={true} close={props.close}>\r\n        <div style={{margin: 'auto'}}><LoadingSvg /></div>\r\n      </Modal>\r\n    )\r\n  }\r\n  else {\r\n    return (\r\n      <Modal width=\"550px\" title={state.submission.verdict_ge} isOpen={true} close={props.close}>\r\n\r\n        <CodeEditor readOnly isPreview width=\"500px\" height=\"400px\" code={{value: state.submission.code, editorName: state.submission.language, theme: 'twilight'}}\r\n          preview={\r\n            <div>\r\n              <div style={{display: 'flex', justifyContent: 'space-between', alignItems: 'center', fontSize: '14px', padding: '5px'}}>\r\n                <span style={{display: 'flex', alignItems: 'center'}}><MdDateRange size=\"16\" />{Convert_date_to_string(state.submission.datetime)}</span>\r\n                <div style={{display: 'flex', alignItems: 'center'}}>\r\n                  <BButton onClick={onCopyLink}><MdLink color=\"var(--color_c2)\" size=\"18\" /></BButton>\r\n                  <A to={`/submission/${id}`}>სრულად</A>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          }\r\n        />\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SubmissionPreviewDlg\r\n","import React, { useState, useEffect } from 'react'\r\nimport styled, { css } from 'styled-components'\r\nimport { theme } from 'Themes'\r\nimport { MdArrowDownward, MdArrowDropUp, MdArrowDropDown } from 'react-icons/md'\r\n\r\nconst SContainer = styled.button `\r\n  font-family: ${theme.font};\r\n  font-size: 14px;\r\n  border: none;\r\n  outline: none;\r\n  position: relative;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  border-radius: 5px;\r\n  width: 250px;\r\n  height: 24px;\r\n  background-color: var(--color_b2);\r\n  color: var(--color_c2);\r\n\r\n  ${props => props.input && css`\r\n    /* color: #333; */\r\n    flex-grow: 1;\r\n    width: 100%;\r\n    padding: 10px 15px;\r\n    margin-bottom: 5px;\r\n    font-size: 16px;\r\n    \r\n    border-radius: 5px;\r\n    border: 4px solid var(--color_inputBackground);\r\n    background-color: var(--color_inputBackground);\r\n    outline: none;\r\n    margin-top: 4px;\r\n    height: 50px;\r\n    width: 175px;\r\n  `}\r\n`\r\n\r\nconst SDropDown = styled.div `\r\n  font-family: ${theme.font};\r\n  font-size: 14px;\r\n  position: absolute;\r\n  top: 30px;\r\n  left: 0;\r\n  width: 100%;\r\n  padding-top: 5px;\r\n  padding-bottom: 5px;\r\n  border-radius: 5px;\r\n  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.4);\r\n  background-color: var(--color_b2);\r\n  overflow: hidden;\r\n  z-index: 1;\r\n\r\n  ${props => props.input && css`\r\n    top: 50px;\r\n    max-height: 200px;\r\n    overflow: auto;\r\n    background-color: var(--color_inputBackground);\r\n`}\r\n \r\n`\r\n\r\nconst SItem = styled.div `\r\n  text-align: left;\r\n  padding: 5px;\r\n\r\n  &:hover {\r\n    /* background-color: var(--color_inputFocusBackground); */\r\n  }\r\n\r\n  ${props => props.input && css`\r\n    height: 40px;\r\n    display: flex;\r\n    align-items: center;\r\n    font-size: 16px;\r\n  `}\r\n`\r\n\r\nconst ComboBox = props => {\r\n\r\n  const [state, setState] = useState({\r\n    current_item: {name: props.currentItem ? props.currentItem : ''},\r\n    is_open: false,\r\n  })\r\n\r\n  useEffect(() => {\r\n    setState({...state, current_item: {name: props.currentItem ? props.currentItem : ''},})\r\n  }, [props.currentItem])\r\n\r\n  const on_click = e => {\r\n    e.preventDefault()\r\n    if (e.target === e.currentTarget)\r\n    setState({\r\n      ...state,\r\n      is_open: !state.is_open,\r\n    })\r\n  }\r\n\r\n  const on_blur = e => {\r\n    setState({\r\n      ...state,\r\n      is_open: false,\r\n    })\r\n  }\r\n\r\n  const on_item_selected = item => e => {\r\n    e.preventDefault()\r\n    setState({\r\n      ...state,\r\n      current_item: {...state.current_item, name: item.name},\r\n      is_open: false,\r\n    })\r\n\r\n    props.itemSelected(item)\r\n  }\r\n\r\n  return (\r\n    <SContainer input={props.input} onClick={on_click} onBlur={on_blur}>\r\n      {state.current_item.name}\r\n      {state.is_open ? <MdArrowDropUp size=\"18\" /> : <MdArrowDropDown size=\"18\" />}\r\n      {state.is_open && \r\n      <SDropDown input={props.input}>\r\n        {props.items.map((item, index) => \r\n          <SItem input={props.input} key={index} onClick={on_item_selected(item)}>{item.name}</SItem>\r\n        )}\r\n\r\n      </SDropDown>\r\n      }\r\n    </SContainer>\r\n  )\r\n}\r\n\r\nexport default ComboBox","import React, { useState, useContext } from 'react'\r\nimport { GlobalContext } from 'contexts/GlobalContext'\r\n\r\nconst Img = props => {\r\n\r\n\tconst [isOpen, setOpen] = useState(false)\r\n\tconst { setOpenedImage } = useContext(GlobalContext)\r\n\r\n\tconst openImage = e => {\r\n\t\te.preventDefault()\r\n\t\tsetOpenedImage(props.src)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div onClick={openImage} style={{ cursor: 'pointer' }}>\r\n\t\t\t<img style={{userSelect: 'none'}} {...props} />\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Img","import React, { useContext } from 'react'\r\nimport styled, { css } from 'styled-components'\r\nimport { GlobalContext } from 'contexts/GlobalContext'\r\nimport { theme } from 'Themes'\r\nimport Img from './Img'\r\nimport { Prism as SyntaxHighlighter } from 'react-syntax-highlighter';\r\nimport { atomDark } from 'react-syntax-highlighter/dist/esm/styles/prism';\r\n\r\nconst VideoDiv = styled.div `\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin: auto;\r\n`\r\n\r\nconst Iframe = styled.iframe `\r\n  max-width: 100%;\r\n`\r\n\r\nconst Imgs = styled(Img) `\r\n  max-width: 600px;\r\n  object-fit: scale-down;\r\n  @media only screen and (max-width: ${theme.mobileSize}) {\r\n    max-width: 100%;\r\n  }\r\n\r\n  ${props => props.small && css `\r\n    width: 100%;\r\n    border-radius: 4px;\r\n  `}\r\n`\r\n\r\nconst ImagesDiv = styled.div `\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin: auto;\r\n`\r\n\r\nconst B = styled.span `\r\n  color: ${props => props.darkmode ? 'var(--color_highlight)' : 'var(--color_c2)'};\r\n  font-weight: ${props => props.darkmode ? 'normal' : 'bold'};\r\n`\r\n\r\nconst A = styled.a `\r\n  text-decoration: none;\r\n  font-style: italic;\r\n  color: ${props => props.reverseLinkColor ? 'rgba(255, 255, 255, 0.7)' : 'var(--color_link)'};\r\n`\r\n\r\nconst Aa = styled.a `\r\n  text-decoration: none;\r\n  font-style: italic;\r\n  color: ${props => props.reverseLinkColor ? 'rgba(255, 255, 255, 0.7)' : 'var(--color_link)'};\r\n\r\n  &:hover {\r\n    text-decoration: underline;\r\n  }\r\n`\r\n\r\nconst JParser = props => {\r\n  const { global } = useContext(GlobalContext);\r\n\r\n\r\n  function validURL(str) {\r\n    let pattern = new RegExp('^(https?:\\\\/\\\\/)?'+\r\n      '((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|'+\r\n      '((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))'+\r\n      '(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*'+\r\n      '(\\\\?[;&a-z\\\\d%_.~+=-]*)?'+\r\n      '(\\\\#[-a-z\\\\d_]*)?$','i');\r\n    return !!pattern.test(str);\r\n  } \r\n\r\n\r\n  return (\r\n    <div style={{whiteSpace: 'pre-wrap', tabSize: '4'}}>\r\n      {props.children.split('`').map((s, index) => !index%2 ? \r\n        s // s.split(' ').map((subS, index) => <>{validURL(subS)  ? <A reverseLinkColor={props.reverseLinkColor} href={!subS.match(/^[a-zA-Z]+:\\/\\//) ? 'http://' + subS : subS} target='_blank'>{subS}</A> : subS}{index < s.split(' ').length - 1 ? ' ' :''}</> )\r\n      : \r\n        <span key={index}>\r\n          {\r\n          s[0] === '~'   ? <ImagesDiv><Imgs src={s.substring(1)} small={props.small} /></ImagesDiv>\r\n          : s[0] === 'b' ? <B darkmode={global.mode === 'dark'}>{s.substring(1)}</B>\r\n          : s[0] === 't' ? <h2 style={{margin: 0, padding: 0}}>{s.substring(1)}</h2>\r\n          : s[0] === 'i' ? <i>{s.substring(1)}</i>\r\n          : s[0] === 'v' ? <VideoDiv><Iframe width=\"560\" height=\"315\" src={`https://www.youtube.com/embed/${s.substring(1)}`} frameBorder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowFullScreen></Iframe></VideoDiv>\r\n          : s[0] === 'l' ? <Aa target=\"_blank\" href={s.substring(1).split('§')[0]}>{s.substring(1).split('§')[1]}</Aa>\r\n          : s[0] === 'c' ? <SyntaxHighlighter language={s.substring(1).split('§')[0]} style={atomDark}>{s.substring(1).split('§')[1]}</SyntaxHighlighter>\r\n          // : validURL(s)  ? <a href={s}>{s}</a> \r\n          : s\r\n          }\r\n        </span>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default JParser","import React, { useState, useEffect, useContext, useRef } from 'react'\r\nimport Container from 'controls/Container'\r\nimport styled, { css } from 'styled-components'\r\nimport WithMathJax from 'components/WithMathJax'\r\nimport JN from 'JN'\r\nimport { theme } from 'Themes'\r\nimport Button from 'controls/Button'\r\nimport Button_Float from 'controls/Button_Float'\r\nimport CodeEditor from 'components/CodeEditor'\r\nimport { MdMemory, MdAccessTime, MdFullscreen, MdFullscreenExit, MdEdit, MdDelete, MdCheck, MdEqualizer } from 'react-icons/md'\r\nimport A from 'controls/A'\r\nimport LoadingSvg from 'components/LoadingSvg'\r\nimport SplitterLayout from 'react-splitter-layout'\r\nimport 'react-splitter-layout/lib/index.css'\r\nimport SubmissionPreviewDlg from '../submissions/SubmissionPreviewDlg'\r\nimport { Get_Number, ScrollTo } from 'Global_Functions'\r\nimport { UserContext } from 'contexts/UserContext'\r\nimport ComboBox from 'controls/ComboBox'\r\nimport { Link, Redirect } from 'react-router-dom'\r\nimport { Convert_date_to_string, defaultCodes, convertToRoman } from 'Global_Functions'\r\nimport CountDown from 'controls/CountDown'\r\nimport { MessageBoxContext } from 'contexts/MessageBoxContext'\r\nimport ContainerFooter from 'controls/ContainersFooter'\r\nimport { FaCheck, FaStar, FaRegStar, FaHeart, FaRegHeart } from 'react-icons/fa'\r\nimport JParser from 'components/JParser'\r\nimport Helmet from 'react-helmet'\r\nimport { GlobalContext } from 'contexts/GlobalContext'\r\nimport B from 'controls/B'\r\n\r\nconst ContestProblemsContainer = styled.div`\r\n  display: flex;\r\n  margin-right: auto;\r\n  margin-top: 7px;\r\n  flex-wrap: wrap;\r\n\r\n`\r\n\r\nconst ContestProblemsItem = styled(Link)`\r\n  margin-left: 8px;\r\n  margin-bottom: 8px;\r\n  border-radius: 5px;\r\n  text-decoration: none;\r\n  color: var(--color_c2);\r\n  background-color: var(--color_b2);\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 36px;\r\n  height: 36px;\r\n  font-size: 16px;\r\n  font-family: ${theme.fontCaps};\r\n  border: 1px solid var(--color_b22);\r\n\r\n  ${props => props.long && css`width: 170px;`};\r\n  ${props => props.success && css`border-color: var(--color_green); color: var(--color_green);`};\r\n  ${props => props.error && css`border-color: var(--color_red); color: var(--color_red);`};\r\n  /* ${props => props.current && css`pointer-events: none; border: 3px solid var(--color_primary);`}; */\r\n  cursor: pointer;\r\n  * {\r\n    cursor: pointer;\r\n  }\r\n\r\n  &:hover {\r\n    transition: color ease 250ms, border ease 250ms;\r\n    border: 3px solid var(--color_primary);\r\n  }\r\n`\r\n\r\nconst BtnFullScreen = styled.button`\r\n  color: var(--color_c2);\r\n  display: flex;\r\n  background: none;\r\n  border: none;\r\n  outline: none;\r\n  cursor: pointer;\r\n\r\n  @media only screen and (max-width: ${theme.mobileSize}) {\r\n    display: none;\r\n  }\r\n`\r\n\r\nconst HoverScaledSpan = styled.span`\r\n  display: flex;\r\n  align-items: center;\r\n  &:hover > svg {\r\n    transition: transform ease 250ms;\r\n    transform: scale(1.4);\r\n  }\r\n`\r\n\r\nconst TopActions = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n  margin-top: -20px;\r\n  z-index: 2;\r\n`\r\n\r\nconst MustLogin = styled.span`\r\n  color: var(--color_c2);\r\n  font-size: 14px;\r\n`\r\n\r\nconst TRight = styled.div` \r\n    @media (max-width: ${theme.mobileSize}) {\r\n    & {\r\n      display: none;\r\n    }\r\n  }\r\n`\r\n\r\nconst Limits = styled.div`\r\n  color: var(--color_c2);\r\n  text-align: center;\r\n  font-size: 14px;\r\n  margin: auto;\r\n  margin-bottom: 25px;\r\n`\r\n\r\nconst UploaderUser = styled.span`\r\n  font-family: ${theme.font};\r\n  color: var(--color_c2);\r\n`\r\n\r\nconst Tag = styled.div`\r\n  display: inline-flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  color: var(--color_c2);\r\n  background-color: var(--color_b1);\r\n  border: 3px solid var(--color_b22);\r\n  padding-left: 15px;\r\n  padding-right: 15px;\r\n  margin-right: 8px;\r\n  margin-bottom: 8px;\r\n  height: 36px;\r\n  border-radius: 5px;\r\n\r\n  &:hover {\r\n    transition: border-color ease 250ms;\r\n    border-color: var(--color_primary);\r\n  }\r\n`\r\n\r\nconst ContestContainer = styled.div`\r\n\r\n \r\n  border: none;\r\n  outline: none;\r\n  \r\n  display: inline-flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n\r\n  margin-bottom: 25px;\r\n\r\n  \r\n\r\n  A {\r\n    cursor: pointer;\r\n    text-decoration: none;\r\n    font-size: 16px;\r\n    border: none;\r\n    outline: none;\r\n    height: 46px;\r\n    color: var(--color_c2);\r\n    background-color: var(--color_b1);\r\n    padding: 10px;\r\n    padding-left: 25px;\r\n    padding-right: 15px;\r\n    border-radius: 555px;\r\n  }\r\n\r\n  div {\r\n    display: inline-block;\r\n    font-family: ${theme.fontCaps};\r\n    color: var(--color_c2);\r\n  }\r\n\r\n  span {\r\n    /* color: #333333; */\r\n    margin-right: 8px;\r\n    font-family: ${theme.font};\r\n  }\r\n`\r\n\r\nconst Splitter_Container = styled.div`\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: #f5f5f5;\r\n`\r\n\r\nconst Statement = styled.div`\r\n  margin-top: 2em;\r\n  margin-bottom: 4em;\r\n  text-align: justify;\r\n  line-height: 1.6;\r\n  font-size: 14px; \r\n  color: var(--color_c2);\r\n   @media (max-width: ${theme.mobileSize}) {\r\n    & {\r\n      text-align: left;\r\n    }\r\n  }\r\n`\r\n\r\nconst P = styled.div`\r\n  text-align: left;\r\n  /* line-height: 1.6; */\r\n  margin-bottom: 3em;\r\n  font-size: 14px;\r\n  color: var(--color_c2);\r\n  text-align: justify;\r\n  & > label {\r\n    display: block;\r\n    font-family: ${theme.fontCaps};\r\n    color: var(--color_c22);\r\n    /* font-weight: 600; */\r\n    font-size: 16px;\r\n    \r\n    /* letter-spacing: 1.1px; */\r\n  }\r\n\r\n  h3 {\r\n    margin-bottom: 3px;\r\n    color: var(--color_c2);\r\n    /* font-family: ${theme.fontCaps}; */\r\n  }\r\n\r\n  ${props => props.darkMode && css`\r\n    h3 {\r\n      font-weight: normal;\r\n      color: var(--color_highlight);\r\n      color: var(--color_c1);\r\n    }\r\n  `};\r\n\r\n  @media (max-width: ${theme.mobileSize}) {\r\n    & {\r\n      text-align: left;\r\n    }\r\n  }\r\n`\r\n\r\nconst Loading = styled.div`\r\n  text-align: center;\r\n`\r\n\r\nconst SamplesContainer = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  flex-direction: column;\r\n  line-height: normal;\r\n`\r\n\r\nconst SamplesDiv = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 15px;\r\n  /* border: 2px solid #e9ecf6; */\r\n  /* background-color: var(--color_b1); */\r\n  border: 1px solid var(--color_b1);\r\n  border-radius: 8px;\r\n  margin: 10px;\r\n  margin-left: 0;\r\n\r\n  label {\r\n    font-size: 14px;\r\n    color: var(--color_c2);\r\n  }\r\n`\r\nconst SampleDiv = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-right: 50px;\r\n  margin-bottom: 1.5em;\r\n\r\n  label {\r\n    padding-bottom: .3em;\r\n  }\r\n\r\n  span {\r\n    font-family: monospace;\r\n    white-space: pre-wrap;\r\n  }\r\n\r\n  &:last-child {\r\n    margin-bottom: 0;\r\n  }\r\n`\r\n\r\nconst Footer = styled.div`\r\n  margin-top: 25px;\r\n`\r\n\r\nconst Success = styled.span`\r\n\r\n  ${props => props.code === 0 && css`\r\n    color: var(--color_green);\r\n  `}\r\n\r\n  ${props => props.code === 1 && css`\r\n    color: var(--color_red);\r\n  `}\r\n`\r\n\r\nconst Table = styled.table`\r\n\r\n  -webkit-touch-callout: none; /* iOS Safari */\r\n    -webkit-user-select: none; /* Safari */\r\n     -khtml-user-select: none; /* Konqueror HTML */\r\n       -moz-user-select: none; /* Old versions of Firefox */\r\n        -ms-user-select: none; /* Internet Explorer/Edge */\r\n            user-select: none; /* Non-prefixed version, currently\r\n                                  supported by Chrome, Opera and Firefox */\r\n\r\n\r\n  margin: auto;\r\n  margin-top: 30px;\r\n  width: 700px;\r\n  /* min-width: 700px; */\r\n  /* max-height: 200px; */\r\n  /* overflow: auto; */\r\n  border-collapse: collapse;\r\n  font-size: 14px;\r\n\r\n\r\n  margin-bottom: 30px;\r\n\r\n  /* border: 1px solid transparent; */\r\n  border-radius: 8px;\r\n  border-top-right-radius: 0;\r\n  border-bottom-right-radius: 0;\r\n  box-shadow: 0 6px 16px 0 rgba(0,0,0,.2);\r\n  /* background-color: var(--color_b11); */\r\n  color: var(--color_c2);\r\n  /* background-color: var(--color_b11); */\r\n  overflow: hidden;\r\n\r\n  * {\r\n    cursor: pointer;\r\n  }\r\n\r\n  tbody {\r\n    display: block;\r\n    overflow: auto;\r\n    height: 500px;\r\n  }\r\n\r\n  tr {\r\n    width: 100%;\r\n    height: 50px;\r\n\r\n    &:first-child {\r\n      color: var(--color_headerText);\r\n      background-color: var(--color_headerBackground);\r\n    }\r\n  }\r\n\r\n  tr:hover {\r\n    /* background-color: #f1f1f1; */\r\n  }\r\n\r\n  th {\r\n    color: red;\r\n    font-size: 14px;\r\n    font-weight: normal;\r\n    border: none;\r\n    color: var(--color_headerText);\r\n    /* border-bottom: 1px solid var(--color_c3); */\r\n    padding: 5px;\r\n    height: 16px;\r\n    /* background-color: var(--color_b1); */\r\n\r\n    &:nth-child(2) {\r\n      text-align: left;\r\n      padding-left: 15px;\r\n    }\r\n\r\n    padding-left: 15px;\r\n    padding-right: 15px;\r\n    &:first-child {\r\n      padding-left: 15px;\r\n    }\r\n  }\r\n\r\n  td {\r\n    text-align: center;\r\n    padding: 7px;\r\n    /* color: gray; */\r\n    font-size: 14px;\r\n    \r\n    padding-left: 15px;\r\n    padding-right: 15px;\r\n    white-space: nowrap;\r\n\r\n    &:nth-child(2) {\r\n      color: var(--color_c2);\r\n      /* font-size: 15px; */\r\n      padding-left: 15px;\r\n      text-align: left;\r\n      \r\n\r\n      width: 99%;\r\n      white-space: nowrap;\r\n    }\r\n  }\r\n`\r\n\r\nconst FullProblem = (props) => {\r\n  const { global } = useContext(GlobalContext);\r\n  const { match, history } = props;\r\n\r\n  const { user } = useContext(UserContext);\r\n  const { toast, jMb } = useContext(MessageBoxContext);\r\n\r\n  const [state, setState] = useState({\r\n    problem: { categories: [], samples: [] },\r\n    isLoading: true,\r\n    is_error: false,\r\n    uploadingFileName: '',\r\n    code: { value: defaultCodes['C++'], name: 'C++ 17', language: 'C++', version: '17', editorName: 'c_cpp', theme: 'monokai', },\r\n    isUploading: false,\r\n    is_fullscreen: false,\r\n    open_submission: false,\r\n  });\r\n\r\n  //თუ კონტესტზეა, კონტესტის წამოღება\r\n  const [contest, setContest] = useState({});\r\n\r\n\r\n  const [submitions, setSubmitions] = useState([])\r\n\r\n  const refSubmissions = useRef(null)\r\n\r\n  const on_combo_itemSelected = item => {\r\n    let newState = { ...state, code: { ...state.code, name: item.name, language: item.language, version: item.version, editorName: item.editorName } }\r\n\r\n    if (state.code.value === '' || state.code.value === defaultCodes[state.code.language])\r\n      newState = { ...newState, code: { ...newState.code, value: defaultCodes[newState.code.language] } }\r\n\r\n    setState(newState)\r\n  }\r\n\r\n  useEffect(() => {\r\n\r\n    if (!state.isLoading) {\r\n      setState({ ...state, isLoading: true, });\r\n    }\r\n\r\n    JN.get(user, `problem/${match.params.id}`, {},\r\n      (data) => {\r\n        setState({ ...state, problem: { ...data, statement: data.statement }, isLoading: false, })\r\n\r\n        if (data.contest) {\r\n          JN.get(user, `contest/${data.contest.id}`, {},\r\n            (cd) => {\r\n              setContest({ ...cd, id: data.contest.id });\r\n            }\r\n          )\r\n        }\r\n      },\r\n      () => {\r\n        setState({ ...state, isLoading: false, is_error: true, })\r\n      })\r\n\r\n    //განატარებების წამოღება\r\n    if (user) {\r\n      JN.get(user, `problem/${match.params.id}/submissions`, {},\r\n        (data) => {\r\n          setSubmitions(data.submissions)\r\n        },\r\n        (error) => {\r\n          toast(error, 'error')\r\n        })\r\n    }\r\n\r\n    window.scroll(0, 0);\r\n\r\n  }, [match.url])\r\n\r\n  const loaded = () => {\r\n\r\n    setState({\r\n      ...state,\r\n      isLoading: false,\r\n    })\r\n  }\r\n\r\n  const OnCodeChanged = (code) => {\r\n    setState({\r\n      ...state,\r\n      code: { ...state.code, value: code },\r\n    })\r\n  }\r\n\r\n  const onUploadCode = () => {\r\n\r\n    setState({\r\n      ...state,\r\n      isUploading: true,\r\n    })\r\n\r\n    ScrollTo(refSubmissions, 50)\r\n\r\n    JN.post(user, `submission`, {\r\n      language: state.code.language,\r\n      version: state.code.version,\r\n      problem_id: state.problem.id,\r\n      code: state.code.value,\r\n    },\r\n      (data) => {\r\n        ScrollTo(refSubmissions, 100)\r\n\r\n        let verdict = data.verdict\r\n        if (verdict) {\r\n          toast(verdict === 'accepted' ? 'ამოცანა გატარდა' : verdict, verdict === 'accepted' ? 'success' : 'error')\r\n        }\r\n\r\n        setSubmitions([data, ...submitions])\r\n        setState({ ...state, isUploading: false, })\r\n\r\n        //თუ მიმდინარე კონტესტშია. ვერდიქტის განახლება\r\n        if (contest.id) {\r\n          verdict = 1;\r\n          setContest({ ...contest, problems: contest.problems.map(p => p.id != match.params.id ? p : verdict === 1 ? { ...p, verdict: 1 } : p.verdict === 1 ? p : { ...p, verdict: verdict }) });\r\n        }\r\n      },\r\n      (error) => {\r\n        //თუ მიმდინარე კონტესტშია. ვერდიქტის განახლება\r\n        if (contest.id) {\r\n          setContest({ ...contest, problems: contest.problems.map(p => p.id != match.params.id ? p : p.verdict !== 1 ? { ...p, verdict: 2 } : p) });\r\n        }\r\n\r\n        ScrollTo(refSubmissions, 100);\r\n        if (error.status === 401) {\r\n          toast('არ მონაწილეობთ კონტესტში', 'error');\r\n          setState({ ...state, isUploading: false });\r\n          return;\r\n        }\r\n\r\n        let status = error.data.error_code\r\n\r\n        if (status === 2) {\r\n          toast('კოდი ცარიელია', 'error')\r\n        }\r\n        else if (status === 3) {\r\n          toast('ბოლო ატვირთვიდან არ გასულა 3 წამი', 'error')\r\n        }\r\n        else if (status === 4) {\r\n          toast('კოდი უკვე ანატვირთია', 'error')\r\n        }\r\n\r\n        //2 - ცარიელი კოდია\r\n        //3 - ბოლო ატვირთვიდან არ გასულა 5 წამი\r\n        //4 - კოდი უკვე ანატვირთია\r\n\r\n        setState({ ...state, isUploading: false });\r\n      })\r\n  }\r\n\r\n  const on_submition_clicked = id => e => {\r\n    setState({\r\n      ...state,\r\n      open_submission: true,\r\n      opened_submission_id: id,\r\n    })\r\n  }\r\n\r\n  const loadingColor = theme.primary\r\n\r\n  const on_toggle_fullscreen = e => {\r\n    e.preventDefault()\r\n    setState({\r\n      ...state,\r\n      is_fullscreen: !state.is_fullscreen,\r\n    })\r\n  }\r\n\r\n  const on_problem_delete = () => {\r\n\r\n    setState({\r\n      ...state,\r\n      isDeleting: true,\r\n    })\r\n\r\n    JN.delete(user, `admin/problem/${state.problem.id}`, {},\r\n      () => {\r\n        setState({\r\n          ...state,\r\n          isDeleting: false\r\n        })\r\n        history.push('/problems/1')\r\n      },\r\n      () => {\r\n        setState({\r\n          ...state,\r\n          isDeleting: false\r\n        })\r\n      })\r\n  }\r\n\r\n  const on_submissionsPreviewDlg_close = () => {\r\n    setState({\r\n      ...state,\r\n      open_submission: false,\r\n    })\r\n  }\r\n\r\n  const onLanguageChanged = language => {\r\n\r\n    setState({\r\n      ...state,\r\n      code: { ...state.code, language: language },\r\n    })\r\n  }\r\n\r\n  const on_contestEnded = () => {\r\n    toast('კონტესტი დასრულდა')\r\n    setState({ ...state, problem: { ...state.problem, contest: null, } })\r\n  }\r\n\r\n  const on_copy = text => e => {\r\n\r\n    if (typeof (navigator.clipboard) === 'undefined') {\r\n\r\n      let textArea = document.createElement(\"textarea\");\r\n      textArea.value = text;\r\n      textArea.style.position = \"fixed\";\r\n      document.body.appendChild(textArea);\r\n      textArea.focus();\r\n      textArea.select();\r\n\r\n      try {\r\n        let successful = document.execCommand('copy');\r\n        let msg = successful ? 'დაკოპირდა: ' : 'ვერ დაკოპირდა: ';\r\n        toast(msg + text)\r\n      } catch (error) {\r\n\r\n        toast('ვერ დაკოპირდა: ', 'error');\r\n      }\r\n\r\n      document.body.removeChild(textArea)\r\n      return\r\n    }\r\n    navigator.clipboard.writeText(text).then(function () {\r\n      toast('დაკოპირდა: ' + text)\r\n    }, function (err) {\r\n      toast(err, 'error')\r\n    });\r\n  }\r\n\r\n  const onToggleFavourite = e => {\r\n    e.preventDefault();\r\n    if (state.problem.noted) {\r\n      JN.delete(user, `user/noted_problems`, { problem_id: state.problem.id });\r\n      setState({ ...state, problem: { ...state.problem, noted: false } });\r\n    }\r\n    else {\r\n      JN.post(user, `user/noted_problems`, { problem_id: state.problem.id }, null, (error) => {\r\n        if (error.status === 403) {\r\n          setState({ ...state, problem: { ...state.problem, noted: false } });\r\n          toast('მეტ ამოცანას ვერ ჩაინიშნავთ!', 'error');\r\n        }\r\n      });\r\n      setState({ ...state, problem: { ...state.problem, noted: true } });\r\n    }\r\n  }\r\n\r\n  const [isLikeUpdating, setIsLikeUpdating] = useState(false);\r\n  const onToggleHeart = () => {\r\n    if (!user || isLikeUpdating) {\r\n      return;\r\n    }\r\n\r\n    setIsLikeUpdating(true);\r\n    if (state.problem.liked) {\r\n      setState({ ...state, problem: { ...state.problem, liked: false, likes: state.problem.likes - 1 } });\r\n      JN.delete(user, `problem/${state.problem.id}/like`, {}, () => setIsLikeUpdating(false), () => {\r\n        setIsLikeUpdating(false);\r\n        setState({ ...state, problem: { ...state.problem, liked: true, likes: state.problem.likes + 1 } });\r\n      });\r\n    }\r\n    else {\r\n      setState({ ...state, problem: { ...state.problem, liked: true, likes: state.problem.likes + 1 } });\r\n      JN.post(user, `problem/${state.problem.id}/like`, {}, () => setIsLikeUpdating(false), () => {\r\n        setIsLikeUpdating(false);\r\n        setState({ ...state, problem: { ...state.problem, liked: false, likes: state.problem.likes - 1 } });\r\n      });\r\n    }\r\n  }\r\n\r\n  const leftDiv =\r\n    <>\r\n      {state.open_submission &&\r\n        <SubmissionPreviewDlg id={state.opened_submission_id} close={on_submissionsPreviewDlg_close} />\r\n      }\r\n      <Loading>\r\n        {state.isLoading ?\r\n          <svg width=\"57\" height=\"57\" viewBox=\"0 0 57 57\" xmlns=\"http://www.w3.org/2000/svg\" stroke=\"#fff\"><g fill=\"none\" fill-rule=\"evenodd\"><g transform=\"translate(1 1)\" stroke={loadingColor} strokeWidth=\"2\"><circle fill={loadingColor} cx=\"5\" cy=\"50\" r=\"5\"><animate attributeName=\"cy\" begin=\"0s\" dur=\"2.2s\" values=\"50;5;50;50\" calcMode=\"linear\" repeatCount=\"indefinite\" /><animate attributeName=\"cx\" begin=\"0s\" dur=\"2.2s\" values=\"5;27;49;5\" calcMode=\"linear\" repeatCount=\"indefinite\" /></circle><circle fill={loadingColor} cx=\"27\" cy=\"5\" r=\"5\"><animate attributeName=\"cy\" begin=\"0s\" dur=\"2.2s\" from=\"5\" to=\"5\" values=\"5;50;50;5\" calcMode=\"linear\" repeatCount=\"indefinite\" /><animate attributeName=\"cx\" begin=\"0s\" dur=\"2.2s\" from=\"27\" to=\"27\" values=\"27;49;5;27\" calcMode=\"linear\" repeatCount=\"indefinite\" /></circle><circle fill={loadingColor} cx=\"49\" cy=\"50\" r=\"5\"><animate attributeName=\"cy\" begin=\"0s\" dur=\"2.2s\" values=\"50;50;5;50\" calcMode=\"linear\" repeatCount=\"indefinite\" /><animate attributeName=\"cx\" from=\"49\" to=\"49\" begin=\"0s\" dur=\"2.2s\" values=\"49;5;27;49\" calcMode=\"linear\" repeatCount=\"indefinite\" /></circle></g></g></svg> : \"\"\r\n        }\r\n      </Loading>\r\n\r\n      <TopActions>\r\n        {contest.id &&\r\n          <ContestProblemsContainer>\r\n            <ContestProblemsItem long=\"true\" to={`/contest/${contest.id}`}><div><CountDown size=\"14px\" color=\"var(--color_c2)\" from={state.problem.contest.end_time} timeout={on_contestEnded} /></div></ContestProblemsItem>\r\n            {contest.problems.map((problem, index) =>\r\n              <ContestProblemsItem key={problem.id} current={problem.id == match.params.id ? 1 : 0} success={problem.verdict === 1 ? 1 : 0} error={problem.verdict === 2 ? 1 : 0} to={`/problem/${problem.id}`}>{convertToRoman(index + 1)}</ContestProblemsItem>\r\n            )}\r\n            <ContestProblemsItem to={`/contest/${contest.id}/standing`}><MdEqualizer color=\"var(--color_green)\" size=\"18\" /></ContestProblemsItem>\r\n          </ContestProblemsContainer>\r\n        }\r\n\r\n        {user && <span onClick={onToggleFavourite} style={{ marginRight: 10, cursor: 'pointer', display: 'inline-flex' }}>\r\n          <HoverScaledSpan>\r\n            {state.problem.noted ?\r\n              <FaStar color=\"var(--color_orange)\" size=\"18\" />\r\n              : <FaRegStar color=\"var(--color_c2)\" size=\"18\" />\r\n            }\r\n          </HoverScaledSpan>\r\n        </span>}\r\n\r\n        <div style={{ marginLeft: 10, marginRight: 15, display: 'flex', alignItems: 'center', cursor: 'pointer' }} onClick={onToggleHeart}>\r\n          <HoverScaledSpan>{state.problem.liked ?\r\n            <FaHeart color=\"var(--color_primary)\" size=\"18\" />\r\n            : <FaRegHeart color=\"var(--color_c2)\" size=\"18\" />\r\n          }<span style={{ marginLeft: 5 }}>{state.problem.likes}</span>\r\n          </HoverScaledSpan>\r\n        </div>\r\n\r\n        <A hover=\"true\" to={`/submissions/${state.problem.id}`}>\r\n          <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\r\n            <span style={{ display: 'flex', marginRight: '3px' }}><MdCheck size=\"18\" /></span>{state.problem.accepted}\r\n          </div>\r\n        </A>\r\n      </TopActions>\r\n      <Limits>\r\n        <div>\r\n          <label><B>დროის ზღვარი:</B> </label>\r\n          {state.problem.time_limit} წმ\r\n      </div>\r\n        <div>\r\n          <label><B>მეხსიერების ზღვარი:</B> </label>\r\n          {state.problem.memory_limit} მბ\r\n      </div>\r\n      </Limits>\r\n\r\n      <Statement>\r\n        {state.problem.statement && <JParser>{state.problem.statement}</JParser>}\r\n      </Statement>\r\n\r\n      {state.problem.input_description &&\r\n        <P darkMode={global.mode === 'dark'}>\r\n          <h3>შემავალი მონაცემები</h3>\r\n          {state.problem.input_description && <JParser>{state.problem.input_description}</JParser>}\r\n        </P>\r\n      }\r\n      {state.problem.output_description &&\r\n        <P darkMode={global.mode === 'dark'}>\r\n          <h3>გამომავალი მონაცემები</h3>\r\n          {state.problem.output_description && <JParser>{state.problem.output_description}</JParser>}\r\n        </P>\r\n      }\r\n      {state.problem.samples.length > 0 &&\r\n        <P darkMode={global.mode === 'dark'}>\r\n          <h3>ნიმუშები</h3>\r\n          <SamplesContainer>\r\n            {state.problem.samples.map((sample, index) =>\r\n              <SamplesDiv key={index}>\r\n                <SampleDiv onClick={on_copy(sample.input)}>\r\n                  <label>შემავალი:</label>\r\n                  <span>{sample.input}</span>\r\n                </SampleDiv>\r\n                <SampleDiv onClick={on_copy(sample.output)}>\r\n                  <label>გამომავალი:</label>\r\n                  <span>{sample.output}</span>\r\n                </SampleDiv>\r\n              </SamplesDiv>\r\n            )\r\n            }\r\n          </SamplesContainer>\r\n        </P>\r\n      }\r\n      {state.problem.problem_comment &&\r\n        <P darkMode={global.mode === 'dark'}>\r\n          <h3>შენიშვნა</h3>\r\n          {state.problem.problem_comment && <JParser>{state.problem.problem_comment}</JParser>}\r\n        </P>\r\n      }\r\n      {state.problem.note &&\r\n        <P darkMode={global.mode === 'dark'}>\r\n          <h3>შენიშვნა (ავტორებისათვის)</h3>\r\n          {state.problem.note && <JParser>{state.problem.note}</JParser>}\r\n        </P>\r\n      }\r\n\r\n      {state.problem.tags && state.problem.tags.length > 0 &&\r\n        <P darkMode={global.mode === 'dark'}>\r\n          <h3 style={{ marginBottom: '8px' }}>კატეგორიები</h3>\r\n          {state.problem.tags.map((tag, index) =>\r\n            <A hover=\"true\" key={tag.id} to={`/problems/1/${tag.id}`}>\r\n              <Tag>\r\n                {tag.title}\r\n                {/* {index < state.problem.tags.length - 1 ? ',' : ''} */}\r\n                {/* &nbsp; */}\r\n              </Tag>\r\n            </A>\r\n          )}\r\n        </P>\r\n      }\r\n\r\n\r\n      {!state.is_fullscreen && user && user.permission !== \"user\" &&\r\n        <>\r\n          <Button_Float count=\"2\" to={`/editproblem/${state.problem.id}`}><MdEdit color=\"var(--color_orange)\" size=\"22\" /></Button_Float>\r\n          {!state.isDeleting && <Button_Float onClick={(e) => { e.preventDefault(); jMb('ნამდვილად გსურთ ამოცანის წაშლა?', () => on_problem_delete()); }}><MdDelete color=\"var(--color_red)\" size=\"22\" /></Button_Float>}\r\n        </>\r\n      }\r\n    </>\r\n\r\n  const rightDiv =\r\n    <>\r\n      {user ?\r\n        <>\r\n          <CodeEditor languageChanged={onLanguageChanged} borderRadius={state.is_fullscreen ? \"0\" : \"\"} width={state.is_fullscreen ? \"1500px\" : \"500px\"} height={state.is_fullscreen ? \"430px\" : \"400px\"} code={state.code} onChange={OnCodeChanged}\r\n            rightItems={\r\n              <div style={{ marginRight: '5px', width: '170px', justifyContent: 'space-between', alignItems: 'center', fontSize: '14px', display: 'flex' }}>\r\n                <ComboBox\r\n                  currentItem={state.code.name}\r\n                  items={[\r\n                    {\r\n                      name: 'C++ 17',\r\n                      language: 'C++',\r\n                      version: '17',\r\n                      editorName: 'c_cpp',\r\n                    },\r\n                    {\r\n                      name: 'C++ 14',\r\n                      language: 'C++',\r\n                      version: '14',\r\n                      editorName: 'c_cpp',\r\n                    },\r\n                    {\r\n                      name: 'C++ 11',\r\n                      language: 'C++',\r\n                      version: '11',\r\n                      editorName: 'c_cpp',\r\n                    }, ,\r\n                    {\r\n                      name: 'C',\r\n                      language: 'C',\r\n                      version: '',\r\n                      editorName: 'c_cpp',\r\n                    },\r\n                    {\r\n                      name: 'C#',\r\n                      language: 'C#',\r\n                      version: '',\r\n                      editorName: 'csharp',\r\n                    },\r\n                    {\r\n                      name: 'Pascal',\r\n                      language: 'Pascal',\r\n                      version: '',\r\n                      editorName: 'pascal',\r\n                    },\r\n                    {\r\n                      name: 'Python 3',\r\n                      language: 'Python',\r\n                      version: '3',\r\n                      editorName: 'python',\r\n                    },\r\n                    {\r\n                      name: 'Python 2',\r\n                      language: 'Python',\r\n                      version: '2',\r\n                      editorName: 'python',\r\n                    },\r\n                    {\r\n                      name: 'Java 11',\r\n                      language: 'Java',\r\n                      version: '11',\r\n                      editorName: 'java',\r\n                    },\r\n                    {\r\n                      name: 'JavaScript',\r\n                      language: 'JavaScript',\r\n                      version: '',\r\n                      editorName: 'javascript',\r\n                    },\r\n                    {\r\n                      name: 'Node.js',\r\n                      language: 'Node.js',\r\n                      version: '',\r\n                      editorName: 'javascript',\r\n                    }\r\n                  ]}\r\n                  itemSelected={on_combo_itemSelected}\r\n                />\r\n                <BtnFullScreen onClick={on_toggle_fullscreen}>{state.is_fullscreen ? <MdFullscreenExit size=\"16\" /> : <MdFullscreen size=\"16\" />}</BtnFullScreen>\r\n              </div>\r\n            }\r\n          />\r\n          {/* <div style={{display: 'flex', marginRight: '5px'}}><MdMemory size=\"16\" />&nbsp;{state.problem.time_limit} მბ</div>\r\n    <div style={{display: 'flex'}}><MdAccessTime  size=\"16\" />&nbsp;{state.problem.memory_limit} წმ</div> */}\r\n          <Footer>\r\n            <Button disabled={state.code.value === \"\" || state.isUploading} onClick={onUploadCode}>\r\n              ამოცანის გატარება\r\n      </Button>\r\n          </Footer>\r\n\r\n          <div ref={refSubmissions}></div>\r\n          {(submitions.length > 0 || state.isUploading) &&\r\n            <Table>\r\n              <thead></thead>\r\n              <tbody>\r\n                <tr>\r\n                  <th>№</th>\r\n                  <th>სტატუსი</th>\r\n                  <th>თარიღი</th>\r\n                  <th>ენა</th>\r\n                  <th>\r\n                    <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\r\n                      <MdMemory size=\"16\" />&nbsp;კბ\r\n            </div>\r\n                  </th>\r\n                  <th>\r\n                    <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\r\n                      <MdAccessTime size=\"16\" />&nbsp;მწ\r\n            </div>\r\n                  </th>\r\n\r\n                </tr>\r\n                {state.isUploading &&\r\n                  <tr>\r\n                    <td></td>\r\n                    <td>\r\n                      <svg width=\"80\" height=\"15\" viewBox=\"0 0 120 30\" xmlns=\"http://www.w3.org/2000/svg\" fill={theme.primary}><circle cx=\"15\" cy=\"15\" r=\"15\"><animate attributeName=\"r\" from=\"15\" to=\"15\" begin=\"0s\" dur=\"0.8s\" values=\"15;9;15\" calcMode=\"linear\" repeatCount=\"indefinite\" /><animate attributeName=\"fillOpacity\" from=\"1\" to=\"1\" begin=\"0s\" dur=\"0.8s\" values=\"1;.5;1\" calcMode=\"linear\" repeatCount=\"indefinite\" /></circle><circle cx=\"60\" cy=\"15\" r=\"9\" fillOpacity=\"0.3\"><animate attributeName=\"r\" from=\"9\" to=\"9\" begin=\"0s\" dur=\"0.8s\" values=\"9;15;9\" calcMode=\"linear\" repeatCount=\"indefinite\" /><animate attributeName=\"fillOpacity\" from=\"0.5\" to=\"0.5\" begin=\"0s\" dur=\"0.8s\" values=\".5;1;.5\" calcMode=\"linear\" repeatCount=\"indefinite\" /></circle><circle cx=\"105\" cy=\"15\" r=\"15\"><animate attributeName=\"r\" from=\"15\" to=\"15\" begin=\"0s\" dur=\"0.8s\" values=\"15;9;15\" calcMode=\"linear\" repeatCount=\"indefinite\" /><animate attributeName=\"fillOpacity\" from=\"1\" to=\"1\" begin=\"0s\" dur=\"0.8s\" values=\"1;.5;1\" calcMode=\"linear\" repeatCount=\"indefinite\" /></circle></svg>\r\n                    </td>\r\n                    <td></td>\r\n                    <td></td>\r\n                  </tr>\r\n                }\r\n                {submitions.map((submition, index) =>\r\n                  <tr key={index} onClick={on_submition_clicked(submition.id)}>\r\n                    <td>{Get_Number(submitions.length - index)}</td>\r\n                    <td><Success code={submition.verdict_code}>{submition.verdict_ge}</Success></td>\r\n                    <td>{Convert_date_to_string(submition.datetime)}</td>\r\n                    <td>{submition.language}</td>\r\n                    <td>{submition.memory}</td>\r\n                    <td>{submition.time}</td>\r\n                  </tr>\r\n                )\r\n                }\r\n              </tbody>\r\n            </Table>\r\n          }\r\n        </>\r\n        :\r\n        <MustLogin>\r\n          ამოცანის გასატარებლად უნდა <A to={`/login/${state.problem.id}`}>შეხვიდეთ</A>\r\n        </MustLogin>\r\n      }\r\n\r\n      <div style={{ textAlign: 'left', marginTop: '50px', display: 'flex', flexDirection: 'column' }}>\r\n        <span>\r\n          <UploaderUser><B>ავტორ{state.problem.coauthors && state.problem.coauthors.length > 0 ? \"ებ\" : \"\"}ი:</B> </UploaderUser><A to={`/profile/${state.problem.username}`}>{state.problem.username}</A>\r\n          {state.problem.coauthors && state.problem.coauthors.length > 0 &&\r\n            <>\r\n              , {state.problem.coauthors.map((ca, i) =>\r\n                <span key={ca.id}>\r\n                  <A to={`/profile/${ca.username}`}>\r\n                    {ca.username}\r\n                  </A>\r\n                  {i !== state.problem.coauthors.length - 1 ? \", \" : \"\"}\r\n                </span>\r\n              )}\r\n            </>\r\n          }\r\n        </span>\r\n        {state.problem.source && <span><span style={{ marginRight: '15px' }}><B>წყარო:</B></span>{state.problem.source}</span>}\r\n      </div>\r\n    </>\r\n\r\n  if (state.is_error) {\r\n    return (\r\n      <Redirect to=\"/404\" />\r\n    )\r\n  }\r\n\r\n  if (state.isLoading) {\r\n    return (\r\n      <>\r\n\r\n      </>\r\n      // <Container title=\" \" minHeight=\"100vh\" width=\"100%\" maxWidth=\"1000px\">\r\n\r\n      // </Container>\r\n    )\r\n  }\r\n\r\n  if (state.is_fullscreen) {\r\n    return (\r\n      <>\r\n        <Helmet>\r\n          <meta charSet=\"utf-8\" />\r\n          <title>{`${match.params.id}. ${state.problem.title}`}</title>\r\n          <meta name=\"description\" content=\"AiaSoft\" />\r\n          <meta property=\"og:url\" content={`${match.params.id}. ${state.problem.title}`} />\r\n          <meta property=\"og:type\" content=\"article\" />\r\n          <meta property=\"og:title\" content={state.problem.title} />\r\n          <meta property=\"og:description\" content={state.problem.description} />\r\n          <meta property=\"og:image\" content=\"\" />\r\n        </Helmet>\r\n        <Splitter_Container>\r\n          <SplitterLayout primaryMinSize={200} secondaryMinSize={390}>\r\n            <div style={{ backgroundColor: '#f5f5f5', minHeight: '100vh' }}>\r\n              <WithMathJax loaded={loaded}>\r\n                <Container white borderRadius=\"0\" bg=\"#f5f5f5\" title={`${match.params.id}. ${state.problem.title}`} width=\"100%\">\r\n                  {leftDiv}\r\n                </Container>\r\n              </WithMathJax>\r\n            </div>\r\n\r\n            <div style={{ overflow: 'hidden', paddingBottom: '25px', minHeight: '105vh', backgroundColor: 'var(--color_b2)', width: '100%', marginTop: '-16px' }}>\r\n              {rightDiv}\r\n            </div>\r\n          </SplitterLayout>\r\n        </Splitter_Container>\r\n      </>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <WithMathJax loaded={loaded}>\r\n      <Helmet>\r\n        <meta charSet=\"utf-8\" />\r\n        <title>{match.params.id}. {state.problem.title}</title>\r\n        <meta name=\"description\" content=\"AiaSoft\" />\r\n        <meta property=\"og:url\" content={window.location.href} />\r\n        <meta property=\"og:type\" content=\"article\" />\r\n        <meta property=\"og:title\" content={`${match.params.id}. ${state.problem.title}`} />\r\n        <meta property=\"og:description\" content={state.problem.description} />\r\n        <meta property=\"og:image\" content=\"https://img-cdn.hipertextual.com/files/2020/01/hipertextual-es-figura-baby-yoda-mas-real-que-podras-comprar-2020062519.jpeg?strip=all&lossy=1&quality=70&resize=740%2C490&ssl=1\" />\r\n      </Helmet>\r\n      <Container\r\n        bg=\"#f5f5f5\"\r\n        title={`${match.params.id}. ${state.problem.title}`}\r\n        width=\"100%\"\r\n        maxWidth=\"1000px\"\r\n      >\r\n\r\n\r\n        {leftDiv}\r\n        {rightDiv}\r\n      </Container>\r\n\r\n    </WithMathJax>\r\n  )\r\n}\r\n\r\nexport default FullProblem\r\n","import React, { useState, useEffect, useRef, useContext } from 'react'\r\nimport styled from 'styled-components'\r\nimport { theme } from 'Themes'\r\nimport JN from 'JN'\r\nimport { MdFormatBold, MdFormatItalic, MdPhoto, MdTitle } from 'react-icons/md'\r\nimport { FaYoutube, FaParagraph, FaCode, FaLink } from 'react-icons/fa'\r\nimport { UserContext } from 'contexts/UserContext'\r\nimport LoadingSvg from 'components/LoadingSvg'\r\nimport B from './B'\r\nimport Modal from 'components/Modal'\r\nimport CodeEditor from 'components/CodeEditor'\r\nimport Button from './Button'\r\nimport ComboBox from './ComboBox'\r\nimport Input from './Input'\r\nimport { MessageBoxContext } from 'contexts/MessageBoxContext'\r\n\r\nconst Controls = styled.div`\r\n  display: flex;\r\n  margin-bottom: 10px;\r\n  margin-right: 10px;\r\n  padding-bottom: 5px;\r\n  margin-top: -5px;\r\n  border-bottom: 1px solid var(--color_b2);\r\n`\r\n\r\nconst Label = styled.label`\r\n  display: flex;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  border: none;\r\n  outline: none;\r\n  background: none;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 36px;\r\n`\r\n\r\nconst Btn = styled.button`\r\n  font-family: ${theme.font};\r\n  cursor: pointer;\r\n  border: none;\r\n  outline: none;\r\n  background: none;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  &:first-child {\r\n    padding-bottom: 2px;\r\n  }\r\n\r\n  * {\r\n    pointer-events: none;\r\n  }\r\n`\r\n\r\nconst StyledDiv = styled.div`\r\n  flex-grow: 1;\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin: 0px;\r\n  margin-top: 15px;\r\n  margin-bottom: 15px;\r\n  padding-top: ${props => props.title ? '15px' : '0'};\r\n  box-sizing: border-box;\r\n  margin-right: ${props => props.marginRight ? props.marginRight : \"0\"};\r\n  &:last-child {\r\n    margin-right: 4px;\r\n  }\r\n`\r\n\r\nconst Content = styled.div`\r\n  background-color: var(--color_inputBackground);\r\n  border-radius: 5px;\r\n  border: 2px solid var(--color_b1);\r\n  border-color:  var(--color_inputBackground);\r\n  outline: none;\r\n  transition: box-shadow ease 250ms;\r\n  padding: 10px 13px;\r\n  padding-bottom: 0;\r\n  padding-right: 0;\r\n\r\n  &:focus-within {\r\n    transition: border-color ease 250ms, background-color ease 250ms;\r\n    border-color:  var(--color_inputFocusBorder);\r\n    background-color: var(--color_inputFocusBackground);\r\n    box-shadow: 0 0 7px rgba(255, 255, 255, 0.2);\r\n  }\r\n`\r\n\r\nconst StyledTitle = styled.div`\r\n  color: var(--color_inputText);\r\n  display: flex;\r\n  justify-content: space-between;\r\n  font-family: ${theme.font};\r\n  text-align: left;\r\n  font-size: 14px;\r\n  margin-bottom: 5px;\r\n`\r\n\r\nconst StyledTextarea = styled.textarea`\r\n  color: var(--color_inputText);\r\n  resize: vertical;\r\n  flex-grow: 1;\r\n  width: 100%;\r\n  height: ${props => props.height ? props.height : \"70px\"};\r\n  font-family: ${props => props.monospace ? 'monospace' : theme.font};\r\n  font-size: 16px;\r\n  padding-right: 10px;\r\n  margin-bottom: -6px;\r\n  outline: none;\r\n  border: none;\r\n  background: none;\r\n`\r\n\r\nconst StyledHelperText = styled.span`\r\n  color: gray;\r\n  text-align: left;\r\n  font-family: ${theme.font};\r\n  font-size: 12px;\r\n`\r\nconst ErrorText = styled.span`\r\n  color: red;\r\n  display: ${props => props.isError ? 'block' : 'none'};\r\n  margin-bottom: 2px;\r\n`\r\n\r\nconst TextArea = (props) => {\r\n  const { user } = useContext(UserContext);\r\n  const { toast } = useContext(MessageBoxContext)\r\n  const refTextarea = useRef(null);\r\n  const [isImageUploading, setIsImageUploading] = useState(false);\r\n  const [selectionPos, setSelectionPos] = useState({ start: -1, end: -1 });\r\n\r\n  const onChanged = (e) => {\r\n    if (typeof (props.onChange) === 'function') {\r\n      props.onChange(e)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (selectionPos.start !== -1) {\r\n      refTextarea.current.selectionStart = selectionPos.start + 2;\r\n      refTextarea.current.selectionEnd = selectionPos.end + 2;\r\n      setSelectionPos({ start: -1, end: -1 });\r\n    }\r\n  }, [props.value]);\r\n\r\n  const insertJData = c => {\r\n    let value = props.value;\r\n    if (refTextarea.current.selectionStart === refTextarea.current.selectionEnd) {\r\n      while (refTextarea.current.selectionStart > 0 && value[refTextarea.current.selectionStart] !== ' ' && value[refTextarea.current.selectionStart - 1] !== '\\n' && value[refTextarea.current.selectionStart - 1] !== ',' && value[refTextarea.current.selectionStart - 1] !== '.') {\r\n        refTextarea.current.selectionStart -= 1;\r\n      }\r\n\r\n      while (refTextarea.current.selectionEnd < value.length && value[refTextarea.current.selectionEnd] !== ' ' && value[refTextarea.current.selectionEnd] !== '\\n' && value[refTextarea.current.selectionEnd] !== ',' && value[refTextarea.current.selectionEnd] !== '.') {\r\n        refTextarea.current.selectionEnd += 1;\r\n      }\r\n    }\r\n\r\n    while (refTextarea.current.selectionStart < refTextarea.current.selectionEnd) {\r\n      if (value[refTextarea.current.selectionStart] !== ' ')\r\n        break;\r\n\r\n      refTextarea.current.selectionStart += 1;\r\n    }\r\n\r\n    let start = refTextarea.current.selectionStart;\r\n    while (start < refTextarea.current.selectionEnd) {\r\n      if (value[refTextarea.current.selectionEnd - 1] !== ' ')\r\n        break;\r\n\r\n      refTextarea.current.selectionEnd -= 1;\r\n    }\r\n\r\n    let end = refTextarea.current.selectionEnd;\r\n\r\n    if (start >= end)\r\n      return;\r\n\r\n\r\n    if (start === end)\r\n      return;\r\n\r\n    let first = value.substring(0, start);\r\n    let middle = value.substring(start, end);\r\n    let last = value.substring(end);\r\n\r\n\r\n    if (!value.length)\r\n      return;\r\n\r\n    setSelectionPos({ start: start, end: end });\r\n    onChanged({ target: { name: props.name, value: first + '`' + c + middle + '`' + last } });\r\n  }\r\n\r\n  const insertChar = c => {\r\n    let first = props.value.substring(0, refTextarea.current.selectionStart);\r\n    let last = props.value.substring(refTextarea.current.selectionEnd);\r\n    onChanged({ target: { name: props.name, value: first + c + last } });\r\n    setSelectionPos({ start: refTextarea.current.selectionStart - 1, end: refTextarea.current.selectionStart - 1 });\r\n  }\r\n\r\n  const onControlsClicked = e => {\r\n    e.preventDefault();\r\n    insertJData(e.target.name);\r\n  }\r\n\r\n  const onMouseDown = e => {\r\n    e.preventDefault();\r\n  }\r\n\r\n  const onImageUpload = e => {\r\n    e.preventDefault();\r\n\r\n  }\r\n\r\n  const OnFilePicked = (e) => {\r\n\r\n    const file = e.target.files.item(0)\r\n    if (!file)\r\n      return;\r\n\r\n    setIsImageUploading(true);\r\n\r\n    let reader = new FileReader();\r\n    reader.readAsText(file, \"UTF-8\");\r\n\r\n    reader.onload = (event) => {\r\n\r\n      var formData = new FormData();\r\n      formData.append(\"image\", file);\r\n\r\n      JN.post(user, 'admin/photo', formData,\r\n        (data) => {\r\n          let first = props.value.substring(0, refTextarea.current.selectionStart);\r\n          let last = props.value.substring(refTextarea.current.selectionEnd);\r\n          onChanged({ target: { name: props.name, value: first + (props.value.length ? '\\n' : '') + '`~' + data.public_url + '`' + last } });\r\n          setIsImageUploading(false);\r\n        },\r\n        (error) => {\r\n          console.log(error);\r\n          setIsImageUploading(false);\r\n        });\r\n    }\r\n\r\n    reader.onerror = function (evt) {\r\n      console.log(\"error reading file\");\r\n    }\r\n\r\n  }\r\n\r\n  const onParagraphClicked = e => {\r\n    e.preventDefault();\r\n    insertChar('\\t');\r\n  }\r\n\r\n  const onNumberClicked = e => {\r\n    e.preventDefault();\r\n    insertChar('№');\r\n  }\r\n\r\n  const onDotClicked = e => {\r\n    e.preventDefault();\r\n    insertChar('●');\r\n  }\r\n\r\n  const onCodeClicked = e => {\r\n    e.preventDefault()\r\n    setDlgCodeOpen(true)\r\n  }\r\n\r\n  const [dCode, setDCode] = useState({ value: '', name: 'C++ 17', language: 'C++', version: '17', editorName: 'c_cpp', theme: 'monokai' })\r\n  const [code, setCode] = useState(dCode)\r\n\r\n  const OnCodeChanged = (c) => {\r\n    setCode({ ...code, value: c })\r\n  }\r\n\r\n  //ენის შეცვლა\r\n  const onLanguageChanged = (e) => {\r\n    setCode({ ...code, language: e.nativeEvent.target[e.nativeEvent.target.selectedIndex].text })\r\n  }\r\n\r\n\r\n  const on_combo_itemSelected = item => {\r\n    let newCode = { ...code, name: item.name, language: item.language, version: item.version, editorName: item.editorName }\r\n\r\n   \r\n    setCode(newCode)\r\n  }\r\n\r\n\r\n  const [isDlgCodeOpen, setDlgCodeOpen] = useState(false)\r\n  const onCloseDlgCode = () => {\r\n    setDlgCodeOpen(false)\r\n  }\r\n\r\n  const onCodeAccepted = e => {\r\n    e.preventDefault()\r\n    setCode(dCode)\r\n\r\n    let language = code.editorName\r\n    if (language === \"c_cpp\") {\r\n      language = \"cpp\"\r\n    }\r\n    insertChar('`c' + language + `§${code.value}` + '`')\r\n    onCloseDlgCode()\r\n  }\r\n\r\n  //ვებ-მისამართის მიბმა სიტყვაზე\r\n  const [text, setText] = useState('')\r\n  const [webAddress, setWebAddress] = useState('')\r\n  const [isDlgLinkOpen, setDlgLinkOpen] = useState(false)\r\n\r\n  useEffect(() => {\r\n    setText('')\r\n    setWebAddress('')\r\n  }, [])\r\n\r\n  const onCloseDlgLink = () => {\r\n    setDlgLinkOpen(false)\r\n  }\r\n\r\n  const onLinkAccepted = e => {\r\n    e.preventDefault()\r\n\r\n    if (text.trim() === '' || webAddress.trim() === '') {\r\n      toast('შეავსეთ ორივე ველი!', 'error')\r\n      return\r\n    }\r\n\r\n    insertChar('`l' + webAddress.trim() + `§${text.trim()}` + '`')\r\n    onCloseDlgLink()\r\n  }\r\n\r\n  const onLinkClicked = e => {\r\n    e.preventDefault()\r\n    setDlgLinkOpen(true)\r\n  }\r\n\r\n  return (\r\n    <StyledDiv title={props.title} marginRight={props.marginRight}>\r\n      {props.title &&\r\n        <StyledTitle>\r\n          <B>{props.title}</B>\r\n          {props.actions}\r\n        </StyledTitle>}\r\n\r\n      <Content>\r\n        {props.showControls &&\r\n          <Controls>\r\n            <Btn tabIndex=\"-1\" onMouseDown={onMouseDown} onClick={onNumberClicked}><span style={{ color: 'var(--color_c2)', fontSize: '16px', paddingTop: '0px', fontWeight: '600' }}>№</span></Btn>\r\n            <Btn name=\"t\" tabIndex=\"-1\" onMouseDown={onMouseDown} onClick={onControlsClicked}><MdTitle color=\"var(--color_c2)\" size=\"22\" /></Btn>\r\n            <Btn tabIndex=\"-1\" onMouseDown={onMouseDown} onClick={onCodeClicked}><FaCode color=\"var(--color_c2)\" size=\"18\" /></Btn>\r\n            <Btn tabIndex=\"-1\" onMouseDown={onMouseDown} onClick={onLinkClicked}><FaLink color=\"var(--color_c2)\" size=\"18\" /></Btn>\r\n            <Btn tabIndex=\"-1\" onMouseDown={onMouseDown} onClick={onDotClicked}><span style={{ color: 'var(--color_c2)', fontSize: '18px', paddingTop: '0px', fontWeight: '600' }}>●</span></Btn>\r\n            <Btn tabIndex=\"-1\" onMouseDown={onMouseDown} onClick={onParagraphClicked}><span style={{ paddingTop: '-5px' }}><FaParagraph color=\"var(--color_c2)\" size=\"15\" /></span></Btn>\r\n            <Btn name=\"b\" tabIndex=\"-1\" onMouseDown={onMouseDown} onClick={onControlsClicked}><MdFormatBold color=\"var(--color_c2)\" size=\"22\" /></Btn>\r\n            <Btn name=\"i\" tabIndex=\"-1\" onMouseDown={onMouseDown} onClick={onControlsClicked}><MdFormatItalic color=\"var(--color_c2)\" size=\"22\" /></Btn>\r\n            <Label htmlFor={`image${props.name}`}>\r\n              <input disabled={isImageUploading} id={`image${props.name}`} style={{ display: 'none' }} type=\"file\" onChange={OnFilePicked} />\r\n              {!isImageUploading ? <MdPhoto color=\"var(--color_c2)\" size=\"20\" /> : <LoadingSvg size=\"18\" />}\r\n            </Label>\r\n            <Btn name=\"v\" tabIndex=\"-1\" onMouseDown={onMouseDown} onClick={onControlsClicked}><FaYoutube color=\"var(--color_red)\" size=\"22\" /></Btn>\r\n          </Controls>}\r\n\r\n        <StyledTextarea\r\n          ref={refTextarea}\r\n          autoFocus={props.focus}\r\n          id={props.id}\r\n          name={props.name}\r\n          isError={props.isError}\r\n          placeholder={props.ph}\r\n          value={props.value}\r\n          onChange={onChanged}\r\n          type={props.type}\r\n          required={props.required}\r\n          height={props.height}\r\n          monospace={props.monospace}\r\n          {...props}\r\n        />\r\n      </Content>\r\n\r\n      <StyledHelperText>\r\n        <ErrorText isError={props.isError}>*{props.errorText}</ErrorText>\r\n        {props.helper}\r\n      </StyledHelperText>\r\n\r\n\r\n      {/* კოდის შესაყვანი დიალოგი */}\r\n      <Modal width=\"600px\" title=\"კოდი\" isOpen={isDlgCodeOpen} close={onCloseDlgCode}>\r\n        <div>\r\n          <CodeEditor focus languageChanged={onLanguageChanged} width={\"550px\"} height={\"400px\"} code={code} onChange={OnCodeChanged}\r\n            rightItems={\r\n              <div style={{ marginRight: '5px', width: '170px', justifyContent: 'space-between', alignItems: 'center', fontSize: '14px', display: 'flex' }}>\r\n                <ComboBox\r\n                  currentItem={code.name}\r\n                  items={[\r\n                    {\r\n                      name: 'C++ 17',\r\n                      language: 'C++',\r\n                      version: '17',\r\n                      editorName: 'c_cpp',\r\n                    },\r\n                    {\r\n                      name: 'C++ 14',\r\n                      language: 'C++',\r\n                      version: '14',\r\n                      editorName: 'c_cpp',\r\n                    },\r\n                    {\r\n                      name: 'C++ 11',\r\n                      language: 'C++',\r\n                      version: '11',\r\n                      editorName: 'c_cpp',\r\n                    }, ,\r\n                    {\r\n                      name: 'C',\r\n                      language: 'C',\r\n                      version: '',\r\n                      editorName: 'c_cpp',\r\n                    },\r\n                    {\r\n                      name: 'C#',\r\n                      language: 'C#',\r\n                      version: '',\r\n                      editorName: 'csharp',\r\n                    },\r\n                    {\r\n                      name: 'Pascal',\r\n                      language: 'Pascal',\r\n                      version: '',\r\n                      editorName: 'pascal',\r\n                    },\r\n                    {\r\n                      name: 'Python 3',\r\n                      language: 'Python',\r\n                      version: '3',\r\n                      editorName: 'python',\r\n                    },\r\n                    {\r\n                      name: 'Python 2',\r\n                      language: 'Python',\r\n                      version: '2',\r\n                      editorName: 'python',\r\n                    },\r\n                    {\r\n                      name: 'Java 11',\r\n                      language: 'Java',\r\n                      version: '11',\r\n                      editorName: 'java',\r\n                    },\r\n                    {\r\n                      name: 'JavaScript',\r\n                      language: 'JavaScript',\r\n                      version: '',\r\n                      editorName: 'javascript',\r\n                    },\r\n                    {\r\n                      name: 'Node.js',\r\n                      language: 'Node.js',\r\n                      version: '',\r\n                      editorName: 'javascript',\r\n                    }\r\n                  ]}\r\n                  itemSelected={on_combo_itemSelected}\r\n                />\r\n              </div>\r\n            }\r\n          />\r\n          <Button style={{ marginTop: 30 }} onClick={onCodeAccepted}>დამატება</Button>\r\n        </div>\r\n\r\n      </Modal>\r\n    \r\n\r\n\r\n      {/* ლინკის დიალოგი */}\r\n      <Modal width=\"600px\" title=\"სიტყვაზე ვებ-მისამართის მიბმა\" isOpen={isDlgLinkOpen} close={onCloseDlgLink}>\r\n        <form onSubmit={onLinkAccepted}>\r\n          <Input title=\"ტექსტი\" focus value={text} onChange={(e) => setText(e.target.value)} />\r\n          <Input title=\"ვებ-მისამართი\" value={webAddress} onChange={(e) => setWebAddress(e.target.value)}/>\r\n          <Button style={{ marginTop: 30 }}>ჩასმა</Button>\r\n        </form>\r\n\r\n      </Modal>\r\n    </StyledDiv>\r\n  )\r\n}\r\n\r\nexport default TextArea","import React, { useState, useEffect, useContext } from 'react'\r\nimport Modal from '../../../components/Modal'\r\nimport Input from '../../../controls/Input'\r\nimport Button from '../../../controls/Button'\r\nimport ContainerFooter from '../../../controls/ContainersFooter'\r\nimport JN from 'JN'\r\nimport { UserContext } from 'contexts/UserContext'\r\nimport { MessageBoxContext } from 'contexts/MessageBoxContext'\r\n\r\nconst CategoryEditDlg = props => {\r\n\r\n  const { user }  = useContext(UserContext)\r\n  const { toast } = useContext(MessageBoxContext)\r\n\r\n  const [state, setState] = useState({\r\n    category: {title: \"\"},\r\n    isLoading: false,\r\n  })\r\n\r\n  useEffect(() => {\r\n    const category = props.category ? props.category : {id: -1, title: \"\"}\r\n    setState({\r\n      ...state,\r\n      category: category,\r\n    })\r\n  }, [props.category]);\r\n\r\n  const onChange = (e) => {\r\n    setState({\r\n      ...state,\r\n      category: {...state.category, [e.target.name]: e.target.value},\r\n    })\r\n  };\r\n\r\n  const setOpen = (isOpen) => {\r\n    if (state.isLoading) {\r\n      return\r\n    }\r\n    props.close(isOpen)\r\n  }\r\n\r\n  const submit = e => {\r\n    e.preventDefault()\r\n    //ახლის დამატება\r\n    if (state.category.id === -1) {\r\n      setState({\r\n        ...state,\r\n        isLoading: true\r\n      })\r\n      JN.post(user, `admin/tags`, {tag_title: state.category.title},\r\n      (data) => {\r\n        if (props.submited) {\r\n          props.submited({...state.category, id: data.tag_id}, true);\r\n        }\r\n        else {\r\n          toast('გატეგორია დაემატა', 'success');\r\n          props.setState({\r\n            ...props.state,\r\n            problem: {...props.state.problem, tags: [...props.state.problem.tags, data.tag_id]},\r\n            tags: [...props.state.tags, {id: data.tag_id, title: state.category.title}],\r\n            isOpen: false,\r\n          });\r\n        }\r\n      },\r\n      (error) => {\r\n        console.log(error)\r\n        setState({\r\n          ...state,\r\n          isLoading: false\r\n        })\r\n      })\r\n    }\r\n    //განახლება\r\n    else {\r\n      setState({\r\n        ...state,\r\n        isLoading: true\r\n      })\r\n      JN.put(user, 'admin/tags', {tag_id: state.category.id, new_title: state.category.title},\r\n      () => {\r\n        if (props.submited) {\r\n          props.submited(state.category, false);\r\n        }\r\n        else {\r\n          toast('გატეგორია განახლდა', 'success');\r\n          setState({\r\n            ...state,\r\n            isLoading: false\r\n          })\r\n          props.setState({\r\n            ...props.state,\r\n            tags: props.state.tags.map((c) => {\r\n              return c.id !== state.category.id ? c : {...c, title: state.category.title}\r\n            }),\r\n            isOpen: false,\r\n          });\r\n        }\r\n      },\r\n      () => {setState({...state, isLoading: false})}\r\n      )\r\n      \r\n    }\r\n  }\r\n\r\n  return (\r\n    <Modal width=\"450px\" title={state.category.id === -1 ? \"კატეგორიის დამატება\" : \"კატეგორიის რედაქტირება\"} isOpen={props.isOpen} close={setOpen}>\r\n      <form onSubmit={submit}>\r\n        <Input required focus title=\"დასახელება\" name=\"title\" value={state.category.title} onChange={onChange}/>\r\n        <ContainerFooter>\r\n          <Button disabled={state.isLoading} backgroundColor=\"primary\">შენახვა{state.isLoading && '..'}</Button>\r\n        </ContainerFooter>\r\n      </form>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default CategoryEditDlg\r\n","import React, { useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport { theme } from 'Themes'\r\nimport { MdCloudUpload } from 'react-icons/md'\r\n\r\nconst Upload = styled.label `\r\n  position: relative;\r\n  padding: 10px;\r\n  border: 1px dotted ${theme.primary};\r\n  border-radius: 5px;\r\n  width: 100%;\r\n  height: ${props => props.height ? props.height : \"150px\"};\r\n  margin-top: 5px;\r\n  font-size: ${props => props.fontSize ? props.fontSize : \"20px\"};\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  color: ${theme.primary};\r\n  &, * {\r\n    cursor: pointer;\r\n  }\r\n  & > label {\r\n    position: absolute;\r\n    left: 0%;\r\n    right: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    text-align: center;\r\n  }\r\n  svg {\r\n    margin-right: 1em;\r\n  }\r\n`\r\n\r\nconst UploadButton = (props) => {\r\n  const [state, setState] = useState({\r\n    fileName: '',\r\n  })\r\n\r\n  const OnFilePicked = (e) => {\r\n    \r\n    const file = e.target.files.item(0)\r\n    if (!file)\r\n      return\r\n    \r\n    props.OnFilePicked(props.name, e)\r\n\r\n    setState({\r\n      ...state,\r\n      fileName: file.name\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Upload htmlFor={props.name} fontSize={props.fontSize} height={props.height}>\r\n      <input id={props.name} style={{display: 'none'}} type=\"file\" onChange={OnFilePicked} />\r\n      <MdCloudUpload size=\"26\" color={theme.primary} />\r\n      {props.fileName !== '' ? props.fileName : 'აირჩიეთ ან დააგდეთ ფაილი'}\r\n    </Upload>\r\n  )\r\n}\r\n\r\nexport default UploadButton","import React, { useState, useEffect, useContext } from 'react'\r\nimport Modal from 'components/Modal'\r\nimport { theme } from 'Themes'\r\nimport styled from 'styled-components'\r\nimport Button from 'controls/Button'\r\nimport { MdVisibility, MdVisibilityOff, MdSentimentSatisfied, MdCloudUpload } from 'react-icons/md'\r\nimport JN from 'JN'\r\nimport UploadButton from 'controls/UploadButton'\r\nimport Flex from 'controls/Flex'\r\nimport { UserContext } from 'contexts/UserContext'\r\nimport { MessageBoxContext } from 'contexts/MessageBoxContext'\r\nimport TextArea from 'controls/TextArea'\r\n\r\nconst Sample = styled.div `\r\n  display: flex;\r\n  grid-template-columns: auto auto 36px;\r\n  grid-gap: 25px;\r\n  width: 100%;\r\n  margin-top: 7px;\r\n  margin-bottom: 7px;\r\n`\r\nconst SampleContent = styled.div `\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  padding: 4px;\r\n  font-size: 14px;\r\n  &:nth-child(1) {\r\n    padding-right: 20px;\r\n  }\r\n\r\n  textarea {\r\n    height: 150px;    \r\n  }\r\n`\r\nconst SampleNav = styled.div `\r\n  margin-top: 20px;\r\n  display: flex;\r\n  justify-content: space-around;\r\n  button {\r\n    display: block;\r\n  }\r\n`\r\n\r\nconst Action_Button = styled.button `\r\n  font-family: inherit;\r\n  font-size: 14px;\r\n  display: flex;\r\n  margin-right: 5px;\r\n  border: none;\r\n  outline: none;\r\n  background: none;\r\n  border-radius: 5px;\r\n  padding: .7em 1em;\r\n  justify-content: center;\r\n  align-items: center;\r\n  color: var(--color_c2);\r\n  cursor: pointer;\r\n\r\n  * {\r\n    cursor: pointer;\r\n  }\r\n\r\n  label {\r\n    margin-left: 5px;\r\n  }\r\n\r\n  &:hover &:enabled {\r\n    transition: background-color ease 250ms;\r\n    background-color: white;\r\n  }\r\n`\r\n\r\nconst SampleEditDlg = props => {\r\n  const [state, setState] = useState({\r\n    is_loading: false,\r\n    token: localStorage.getItem('access_token'),\r\n  })\r\n\r\n  const { user }  = useContext(UserContext)\r\n  const { toast } = useContext(MessageBoxContext)\r\n\r\n  const [sample, setSample] = useState({\r\n    is_visible: 0,\r\n    input: '',\r\n    output: '',\r\n    is_input_file: false,\r\n    is_output_file: false,\r\n    input_file_name: '',\r\n    output_file_name: '',\r\n  })\r\n\r\n  //თუ რედაქტირებაა სერვერიდან წამოღება\r\n  useEffect(() => {\r\n\r\n    if (props.sample_id !== -1) {\r\n      JN.get(user, `admin/sample`, {sample_id: props.sample_id, is_admin: 1},\r\n      (data) => {\r\n        setSample(data)\r\n      },\r\n      (error) => {\r\n        console.log(error)\r\n      })\r\n    }\r\n  }, [])\r\n\r\n  const on_textArea_change = e => {\r\n    e.preventDefault()\r\n    setSample({\r\n      ...sample,\r\n      [e.target.name]: e.target.value,\r\n    })\r\n  }\r\n\r\n  const on_visibility_toggled = e => {\r\n    e.preventDefault()\r\n    setSample({\r\n      ...sample,\r\n      is_visible: 1 - sample.is_visible,\r\n    })\r\n  }\r\n\r\n  const on_submit = e => {\r\n    e.preventDefault()\r\n  \r\n    setState({\r\n      ...state,\r\n      is_loading: true,\r\n    })\r\n\r\n    //ნიმუშის რედაქტირება\r\n    if (props.sample_id !== -1) {\r\n      JN.put(user, `admin/sample`, {\r\n        sample_id: props.sample_id,\r\n        problem_id: props.problem_id,\r\n        input: sample.input,\r\n        output: sample.output,\r\n        is_visible: sample.is_visible,\r\n      },\r\n      () => {\r\n        toast('ნიმუში განახლდა', 'success')\r\n        props.close()\r\n      },\r\n      (error) => {\r\n        console.log(error)\r\n        setState({\r\n          ...state,\r\n          is_loading: false,\r\n        })\r\n      })\r\n      return\r\n    }\r\n\r\n    //ნიმუშის დამატება\r\n    JN.post(user, `admin/sample`, {\r\n      problem_id: props.problem_id,\r\n      input: sample.input,\r\n      output: sample.output,\r\n      is_visible: sample.is_visible,\r\n    },\r\n    (data) => {\r\n      toast('ნიმუში დაემატა', 'success')\r\n      props.sampleAdded({id: data.id, is_visible: sample.is_visible})\r\n    },\r\n    (error) => {\r\n      console.log(error)\r\n      setState({\r\n        ...state,\r\n        is_loading: false,\r\n      })\r\n    })\r\n  }\r\n\r\n  const close = () => {\r\n    if (state.is_loading) {\r\n      return\r\n    }\r\n\r\n    props.close()\r\n  }\r\n\r\n  const on_input_type_changed = e => {\r\n    \r\n    if (e.target.name === \"is_input_file\") {\r\n      setSample({\r\n        ...sample,\r\n        is_input_file: e.target.checked,\r\n        input: '',\r\n        input_file_name: '',\r\n      })\r\n    }\r\n    else {\r\n      setSample({\r\n        ...sample,\r\n        is_output_file: e.target.checked,\r\n        output: '',\r\n        output_file_name: '',\r\n      })\r\n    }\r\n  }\r\n\r\n  //ნიმუშების ფაილის ატვირთვა\r\n  const on_file_picked = (name, e) => {\r\n    e.preventDefault()\r\n    \r\n    const result = name === \"upload_input\" ? \"input\" : \"output\"\r\n\r\n    const file = e.target.files.item(0)\r\n\r\n    let reader = new FileReader();\r\n    reader.readAsText(file, \"UTF-8\");\r\n\r\n    reader.onload = (event) => {\r\n      if (name === \"upload_input\") {\r\n        setSample({\r\n          ...sample,\r\n          input: event.target.result,\r\n          input_file_name: file.name,\r\n        })\r\n      }\r\n      else {\r\n        setSample({\r\n          ...sample,\r\n          output: event.target.result,\r\n          output_file_name: file.name,\r\n        })\r\n      }\r\n    }\r\n\r\n    reader.onerror = function (evt) {\r\n      console.log(\"error reading file\")\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Modal width=\"780px\" title={props.sample_id !== -1 ? \"ნიმუშის რედაქტირება\" : \"ნიმუშის დამატება\"} isOpen={true} close={close}>\r\n      <form onSubmit={on_submit}>\r\n        <Sample>\r\n        <SampleContent>\r\n          <Flex justifyContent=\"space-between\">\r\n            შემავალი\r\n            <div style={{display: 'flex', justifyContent: 'center', alignItems: 'center'}}>\r\n              <input id={`in_input`} name=\"is_input_file\" onChange={on_input_type_changed} type=\"checkbox\" checked={sample.is_input_file} />\r\n              <label htmlFor={`in_input`}>ფაილიდან</label>\r\n            </div>\r\n          </Flex>\r\n          {sample.is_input_file\r\n            ? \r\n            <UploadButton name=\"upload_input\" height=\"150px\" fileName={sample.input_file_name} fontSize=\"18px\" OnFilePicked={on_file_picked} />\r\n            :\r\n            <TextArea monospace focus name=\"input\" value={sample.input} onChange={on_textArea_change} required />\r\n          }\r\n        </SampleContent>\r\n        <SampleContent>\r\n        <Flex justifyContent=\"space-between\">\r\n          გამომავალი\r\n          <div style={{display: 'flex', justifyContent: 'center', alignItems: 'center'}}>\r\n            <input id={`out_input`} name=\"is_output_file\" onChange={on_input_type_changed} type=\"checkbox\" checked={sample.is_output_file} />\r\n            <label htmlFor={`out_input`}>ფაილიდან</label>\r\n          </div>\r\n          </Flex>\r\n          {sample.is_output_file\r\n            ? \r\n            <UploadButton name=\"upload_output\" height=\"150px\" fileName={sample.output_file_name} fontSize=\"18px\" OnFilePicked={on_file_picked} />\r\n            :\r\n            <TextArea monospace name=\"output\" value={sample.output} onChange={on_textArea_change} />\r\n          }\r\n        </SampleContent>\r\n        <SampleNav>\r\n         \r\n        </SampleNav>\r\n      </Sample>\r\n      <Action_Button disabled={sample.is_large} onClick={on_visibility_toggled}>\r\n        {sample.is_visible\r\n        ? <MdVisibility color=\"var(--color_primary)\" size=\"20\"/>\r\n        : <MdVisibilityOff color=\"var(--color_primary)\" size=\"20\"/>\r\n        }\r\n        <label>ნიმუშად გამოჩენა</label>\r\n      </Action_Button>\r\n      <Button disabled={state.is_loading || sample.is_large}>\r\n        {state.is_loading ? \"იტვირთება..\" : props.sample_id !== -1 ? \"შენახვა\" : \"დამატება\"}\r\n      </Button>\r\n      </form>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default SampleEditDlg","import React, { useState, useContext, useEffect } from 'react'\r\nimport styled, { css } from 'styled-components'\r\nimport SampleEditDlg from './SampleEditDlg'\r\nimport { theme } from 'Themes'\r\nimport { MdDelete, MdAdd } from 'react-icons/md'\r\nimport JN from 'JN'\r\nimport LoadingSvg from 'components/LoadingSvg'\r\nimport { Get_Number } from 'Global_Functions'\r\nimport { MessageBoxContext } from 'contexts/MessageBoxContext'\r\nimport { UserContext } from 'contexts/UserContext'\r\nimport Button from 'controls/Button'\r\nimport Checkbox from 'controls/Checkbox'\r\n\r\nconst Container = styled.div `\r\n  margin: auto;\r\n  margin-top: 10px;\r\n  width: 400px;\r\n\r\n  -webkit-touch-callout: none; /* iOS Safari */\r\n    -webkit-user-select: none; /* Safari */\r\n     -khtml-user-select: none; /* Konqueror HTML */\r\n       -moz-user-select: none; /* Old versions of Firefox */\r\n        -ms-user-select: none; /* Internet Explorer/Edge */\r\n            user-select: none; /* Non-prefixed version, currently\r\n                                  supported by Chrome, Opera and Firefox */\r\n\r\n \r\n`\r\n\r\nconst Header = styled.div `\r\n  display: flex;\r\n\r\n  text-align: left;\r\n  margin: auto;\r\n  margin-top: 1em;\r\n  margin-bottom: 8px;\r\n  border-bottom: none;\r\n  width: 100%;\r\n  overflow: hidden;\r\n  border-top-left-radius: 8px;\r\n  border-top-right-radius: 8px;\r\n`\r\n\r\nconst SButton = styled.button ` \r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border: none;\r\n  background: none;\r\n  width: 100%;\r\n  cursor: pointer;\r\n  color: white;\r\n  padding: .8em 1em;\r\n  font-size: 14px;\r\n  font-family: ${theme.fontCaps};\r\n`\r\n\r\nconst SamplesContainer = styled.div `\r\n  display: flex;\r\n  text-align: left;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  max-height: 430px;\r\n  overflow: auto;\r\n  margin-bottom: 20px;\r\n  border: 1px solid var(--color_b22);\r\n  border-radius: 8px;\r\n`\r\n\r\nconst SampleCard = styled.div `\r\n  font-size: 14px;\r\n  display: flex;\r\n  padding: 3px;\r\n  padding-left: 10px;\r\n  align-items: center;\r\n  background-color: transparent;\r\n \r\n  border-bottom: 1px solid var(--color_b22);\r\n\r\n  &, * {\r\n    cursor: pointer;\r\n  }\r\n\r\n  &:last-child {\r\n    border-bottom: none;\r\n  }\r\n\r\n  label {\r\n    flex-grow: 1;\r\n    margin-left: .5em;\r\n  }\r\n\r\n  &:hover {\r\n    transition: background-color ease 250ms;\r\n    background-color: var(--color_b11);\r\n\r\n    button {\r\n      transition: opacity ease 250ms;\r\n      opacity: 1;\r\n    }\r\n  }\r\n`\r\nconst StyledButton = styled.button `\r\n  border: none;\r\n  outline: none;\r\n  background: none;\r\n  cursor: pointer;\r\n  opacity: 0;\r\n  border-radius: 50%;\r\n  width: 36px;\r\n  height: 36px;\r\n  margin-left: 3px;\r\n\r\n  ${props => props.visible && css `\r\n    transition: opacity ease 200ms;\r\n    opacity: 1;\r\n    width: 14;\r\n    margin-left: -7px;\r\n  `};\r\n\r\n  &:disabled {\r\n    opacity: 0;\r\n    cursor: default;\r\n  }\r\n`\r\n\r\nconst SamplesPage = props => {\r\n  const [state, setState] = useState({\r\n    samples: [],\r\n    is_sampleEditDlg_open: false,\r\n    editing_sample_id: -1,\r\n    is_loading: false,\r\n    token: localStorage.getItem('access_token'),\r\n  })\r\n\r\n  const { toast } = useContext(MessageBoxContext)\r\n  const { user  } = useContext(UserContext)\r\n\r\n  useEffect(() => {\r\n    setState({\r\n      ...state,\r\n      is_loading: true\r\n    })\r\n\r\n    //ნიმუშების წამოღება სერვერიდან\r\n    JN.get(user, `admin/problem/${props.id}/samples`, {\r\n      is_admin: 1\r\n    },\r\n    (data) => {\r\n      setState({\r\n        ...state,\r\n        samples: data.samples,\r\n        is_loading: false,\r\n      })\r\n    },\r\n    (error) => {\r\n      console.log(error)\r\n      setState({\r\n        ...state,\r\n        is_loading: false\r\n      })\r\n    })\r\n  }, [])\r\n\r\n  const on_sampleEditDlg_close = () => {\r\n    setState({\r\n      ...state,\r\n      is_sampleEditDlg_open: false,\r\n    })\r\n  }\r\n\r\n  const on_add_sample = e => {\r\n    setState({\r\n      ...state,\r\n      is_sampleEditDlg_open: true,\r\n      editing_sample_id: -1,\r\n    })\r\n  }\r\n\r\n  const on_sample_added = sample => {\r\n    setState({\r\n      ...state,\r\n      samples: [ ...state.samples, sample],\r\n      is_sampleEditDlg_open: false,\r\n    })\r\n  }\r\n\r\n  const on_sample_edit = id => e => {\r\n    e.preventDefault()\r\n    setState({\r\n      ...state,\r\n      is_sampleEditDlg_open: true,\r\n      editing_sample_id: id,\r\n    })\r\n  }\r\n\r\n  const on_sample_remove = id => e => {\r\n    e.preventDefault()\r\n    if (!window.confirm('ნამდვილად გსურთ წაშლა?!')) {\r\n      return\r\n    }\r\n\r\n     //წაშლა\r\n     JN.delete(user, `admin/sample`, {sample_id: id},\r\n     (data) => {\r\n      toast('ნიმუში წაიშალა', 'success')\r\n      setState({\r\n       ...state,\r\n       samples: state.samples.filter((sample) => sample.id !== id)\r\n      })\r\n     },\r\n     (error) => {\r\n      console.log(error)\r\n     })\r\n  }\r\n\r\n  const [listDeletingSamples, setListDeletingSamples] = useState([]);\r\n  const [isAllSamplesChecked, setIsAllSamplesChecked] = useState(false);\r\n  const [isDeletingAllSamples, setDeletingAllSamples] = useState(false);\r\n\r\n  const onSampleCheckToggled = sample => {\r\n\r\n    //წაშლა\r\n    if (listDeletingSamples.includes(sample.id)) {\r\n      let list = listDeletingSamples.filter(id => id !== sample.id);\r\n      setListDeletingSamples(list);\r\n      if (!list.length) {\r\n        setIsAllSamplesChecked(false);\r\n      }\r\n    }\r\n    //ჩამატება\r\n    else {\r\n      let list = [...listDeletingSamples, sample.id];\r\n      setListDeletingSamples(list);\r\n      if (list.length === state.samples.length) {\r\n        setIsAllSamplesChecked(true);\r\n      }\r\n    }\r\n  }\r\n\r\n  const onToggleAllSamplesChecked = () => {\r\n    let checked = !isAllSamplesChecked;\r\n\r\n    if (checked) {\r\n      let list = []\r\n      state.samples.map(sample => list.push(sample.id));\r\n      setListDeletingSamples(list);\r\n    }\r\n    else {\r\n      setListDeletingSamples([]);\r\n    }\r\n\r\n\r\n    setIsAllSamplesChecked(checked);\r\n  }\r\n\r\n  \r\n  const on_samples_remove = e => {\r\n    e.preventDefault();\r\n\r\n    if (!window.confirm(`გსურთ ${listDeletingSamples.length} ნიმუშის წაშლა?`)) {\r\n      return;\r\n    }\r\n\r\n    //მონიშნული ნიმუშების წაშლა\r\n    setDeletingAllSamples(true);\r\n    JN.delete(user, `/admin/problem/${props.id}/samples`, {samples_list: listDeletingSamples},\r\n      () => {\r\n        setState({...state, samples: state.samples.filter(sample => !listDeletingSamples.includes(sample.id))});\r\n        setListDeletingSamples([]);\r\n        setIsAllSamplesChecked(false);\r\n        setDeletingAllSamples(false);\r\n      },\r\n      () => {\r\n        setDeletingAllSamples(false);\r\n        toast('ვერ მოხერხდა წაშლა', 'error');\r\n      });\r\n  }\r\n\r\n  return (  \r\n    <Container>\r\n      {state.is_loading ? \r\n      <div style={{marginTop: '10px'}}>\r\n        <LoadingSvg />\r\n      </div>\r\n      :<>\r\n      <Header>\r\n        <div style={{opacity: state.samples.length > 1 ? 1 : 0, marginLeft: 11, display: 'flex', flexDirection: 'column'}}>\r\n          <div>\r\n            \r\n          </div>\r\n          {isDeletingAllSamples ? \r\n            <StyledButton visible style={{pointerEvents: 'none'}}>\r\n              <LoadingSvg  size=\"18\" />\r\n            </StyledButton>\r\n            :\r\n            <StyledButton disabled={!listDeletingSamples.length} visible onClick={on_samples_remove}>\r\n              <MdDelete color=\"var(--color_red)\" size=\"20\" />\r\n            </StyledButton>\r\n          } \r\n          <Checkbox onCheckedChanged={onToggleAllSamplesChecked} checked={isAllSamplesChecked} />\r\n        </div>\r\n        <div style={{marginLeft: 70, marginTop: 5}}>\r\n        <Button onClick={on_add_sample}>\r\n          <MdAdd size=\"22\" /> ნიმუშის დამატება\r\n        </Button>\r\n        </div>\r\n      </Header>\r\n      <SamplesContainer>\r\n        {state.samples.map((sample, index) =>\r\n        <SampleCard key={sample.id}>\r\n          {state.samples.length > 1 && <Checkbox checked={listDeletingSamples.includes(sample.id)} onCheckedChanged={() => onSampleCheckToggled(sample)} />}\r\n          <label onClick={on_sample_edit(sample.id)}>ნიმუში {Get_Number(index + 1)}</label>\r\n          {/* <StyledButton onClick={on_sample_edit(sample.id)}>\r\n            <MdEdit color={theme.orange} size=\"20\" />\r\n          </StyledButton> */}\r\n          <StyledButton onClick={on_sample_remove(sample.id)}>\r\n            <MdDelete color=\"var(--color_red)\" size=\"20\" />\r\n          </StyledButton>\r\n        </SampleCard>\r\n        )}\r\n      </SamplesContainer>\r\n      </>}\r\n      {state.is_sampleEditDlg_open &&\r\n        <SampleEditDlg sample_id={state.editing_sample_id} problem_id={props.id} sampleAdded={on_sample_added} close={on_sampleEditDlg_close} />\r\n      }\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default SamplesPage","import React, { useState, useEffect, useContext } from 'react'\r\nimport CodeEditor from 'components/CodeEditor'\r\nimport ComboBox from 'controls/ComboBox'\r\nimport ContainerFooter from 'controls/ContainersFooter'\r\nimport Button from 'controls/Button'\r\nimport JN from 'JN'\r\nimport { UserContext } from 'contexts/UserContext'\r\nimport { Code_Editor_Names } from 'Global_Functions'\r\nimport styled from 'styled-components'\r\nimport { theme } from 'Themes'\r\nimport LoadingSvg from 'components/LoadingSvg'\r\nimport Modal from 'components/Modal'\r\nimport { MdHelp } from 'react-icons/md'\r\nimport { MessageBoxContext } from 'contexts/MessageBoxContext'\r\n\r\nconst Radio_Container = styled.div `\r\n\r\n  -webkit-touch-callout: none; /* iOS Safari */\r\n      -webkit-user-select: none; /* Safari */\r\n      -khtml-user-select: none; /* Konqueror HTML */\r\n        -moz-user-select: none; /* Old versions of Firefox */\r\n          -ms-user-select: none; /* Internet Explorer/Edge */\r\n              user-select: none; /* Non-prefixed version, currently\r\n                                    supported by Chrome, Opera and Firefox */\r\n\r\n  display: flex;\r\n  align-items: center;\r\n  margin: auto;\r\n  padding-left: 15px;\r\n  height: 50px;\r\n  font-size: 14px;\r\n\r\n  border: 1px solid var(--color_b22);\r\n  border-radius: 8px;\r\n  background-color: var(--color_b1);\r\n\r\n  width: 500px;\r\n\r\n  & > label {\r\n    margin-right: 15px;\r\n  }\r\n`\r\n\r\nconst Radio = styled.div `\r\n  display: flex;\r\n  align-content: center;\r\n  margin-right: 8px;\r\n  color: var(--color_c1);\r\n  cursor: pointer;\r\n  * {\r\n    cursor: pointer;\r\n  }\r\n\r\n  input:disabled + label {\r\n    color: var(--color_c2);\r\n  }\r\n`\r\n\r\nconst Loading = styled.div `\r\n  background-color: var(--color_primary);\r\n  /* width: 500px; */\r\n  height: 36px;\r\n  margin: auto;\r\n  margin-top: -1px;\r\n  font-size: 14px;\r\n  margin-bottom: 25px;\r\n\r\n  color: var(--color_tl1);\r\n  padding: 4px;\r\n  padding-left: 10px;\r\n  padding-right: 10px;\r\n  /* border: 1px solid #b8b8b8; */\r\n  border-top: none;\r\n  border-bottom-left-radius: 5px;\r\n  border-bottom-right-radius: 5px;\r\n`\r\n\r\nconst Checker_Add = props => {\r\n  const { user }  = useContext(UserContext)\r\n  const { toast } = useContext(MessageBoxContext)\r\n\r\n  const [state, setState] = useState({\r\n    is_new: true,\r\n    code: {value: '', name: 'C++', language: 'C++', version: '17', editorName: 'c_cpp', theme: 'monokai',},\r\n    successText: '',\r\n    errorText: '',\r\n    is_uploading: false,\r\n    is_checker_changing: false,\r\n    is_notes_visible: false,\r\n  })\r\n\r\n  const [currentChecker, setCurrentChecker] = useState('')\r\n  const [checkers, setCheckers] = useState([])\r\n\r\n  const m_mapLanguages = {\r\n    'C++': {\r\n      name: 'C++',\r\n      language: 'C++',\r\n      version: '17',\r\n      editorName: 'c_cpp',\r\n    },\r\n    'Python': {\r\n      name: 'Python',\r\n      language: 'Python',\r\n      version: '3',\r\n      editorName: 'python',\r\n    },\r\n    'Java': {\r\n      name: 'Java',\r\n      language: 'Java',\r\n      version: '11',\r\n      editorName: 'java',\r\n    }\r\n  }\r\n\r\n\r\n  useEffect(() => {\r\n\r\n    JN.get(user, `admin/checker`, {problem_id: props.problemId},\r\n    (data) => {\r\n      const current = data.current_checker\r\n\r\n      setState({\r\n        ...state,\r\n      })\r\n      \r\n      setCurrentChecker(current ? current : '')\r\n\r\n      setCheckers(data.available_checkers)\r\n\r\n      on_combo_itemSelected(m_mapLanguages[current])\r\n    })\r\n\r\n  }, [])\r\n\r\n\r\n  const on_code_changed = code => {\r\n    setState({\r\n      ...state,\r\n      code: {...state.code, value: code},\r\n    })\r\n  }\r\n\r\n  const on_language_changed = language => {\r\n    setState({\r\n      ...state,\r\n      code: {...state.code, language: language},\r\n    })\r\n  }\r\n\r\n  const on_combo_itemSelected = item => {\r\n\r\n    if (!item) {\r\n      item = m_mapLanguages['C++']\r\n    }\r\n\r\n\r\n    JN.get(user, `admin/checker`, {problem_id: props.problemId, language: item.language},\r\n    (data) => {\r\n      setState({\r\n        ...state,\r\n        code: {...state.code, name: item.name, language: item.language, version: item.version, editorName: item.editorName, value: data.code}\r\n      })\r\n    },\r\n    () => {\r\n      setState({\r\n        ...state,\r\n        code: {...state.code, name: item.name, language: item.language, version: item.version, editorName: item.editorName, value: ''}\r\n      })\r\n    })\r\n  }\r\n\r\n  const on_submit = e => {\r\n\r\n    setState({\r\n      ...state,\r\n      is_uploading: true,\r\n    })\r\n\r\n    if (!checkers.length) {\r\n\r\n      JN.post(user, `admin/checker`, {\r\n        language: state.code.language,\r\n        problem_id: props.problemId,\r\n        code: state.code.value,\r\n      },\r\n      () => {\r\n        toast('წარმატებით შეინახა', 'success')\r\n        setState({\r\n          ...state,\r\n          is_uploading: false,\r\n          is_new: false,\r\n        })\r\n        setCheckers([...checkers, state.code.language])\r\n      },\r\n      (error) => {\r\n        if (error.status == 400) {\r\n          toast('კოდი არასწორია', 'error')\r\n        }\r\n    \r\n        setState({\r\n          ...state,\r\n          is_uploading: false,\r\n        })\r\n      })\r\n    }\r\n    else {\r\n      JN.put(user, `admin/checker`, {\r\n        language: state.code.language,\r\n        problem_id: props.problemId,\r\n        code: state.code.value,\r\n      },\r\n      () => {\r\n        toast('განახლდა', 'success')\r\n        setState({\r\n          ...state,\r\n          is_uploading: false,\r\n          is_new: false,\r\n        })\r\n\r\n        setCheckers([...checkers, state.code.language])\r\n      },\r\n      (error) => {\r\n        if (error.status == 400) {\r\n          toast('კოდი არასწორია', 'error')\r\n        }\r\n    \r\n        setState({\r\n          ...state,\r\n          is_uploading: false,\r\n        })\r\n      })\r\n    }\r\n  }\r\n\r\n  const on_currentChecker_changed = e => {\r\n\r\n    // e.preventDefault()\r\n\r\n    const current = currentChecker\r\n    setState({\r\n      ...state,\r\n      is_checker_changing: true,\r\n    })\r\n\r\n    setCurrentChecker(e.target.id === 'None' ? '' : e.target.id)\r\n\r\n    JN.put(user, `admin/enable_checker`, {\r\n      language: e.target.id,\r\n      problem_id: props.problemId,\r\n      enabled: e.target.id !== 'None',\r\n    },\r\n    () => {\r\n      toast('წარმატებით განახლდა', 'success')\r\n      setState({\r\n        ...state,\r\n        errorText: '',\r\n        successText: '',\r\n        is_checker_changing: false,\r\n      })\r\n    },\r\n    (error) => {\r\n      toast(error.data.message, 'error')\r\n      setState({\r\n        ...state,\r\n        errorText: '',\r\n        is_checker_changing: false,\r\n      })\r\n\r\n      setCurrentChecker(current)\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div style={{marginTop: '8px', display: 'flex', justifyContent: 'center', flexDirection: 'column'}}>\r\n\r\n      <Radio_Container onChange={on_currentChecker_changed}>\r\n     \r\n        <div style={{marginRight: '8px', cursor: 'pointer'}} onClick={() => setState({...state, is_notes_visible: true,})}><MdHelp size=\"18\" color=\"var(--color_c2)\" /></div>\r\n       \r\n        <label>მოქმედი:</label>\r\n        <Radio>\r\n          <input checked={currentChecker === \"\"} id=\"None\" name=\"current\" type=\"radio\" />\r\n          <label htmlFor=\"None\">არცერთი</label>\r\n        </Radio>\r\n        <Radio>\r\n          <input disabled={!checkers.includes('C++')} checked={currentChecker === \"C++\"} id=\"C++\" name=\"current\" type=\"radio\" />\r\n          <label htmlFor=\"C++\">C++</label>\r\n        </Radio>\r\n        <Radio>\r\n          <input disabled={!checkers.includes('Python')} checked={currentChecker === \"Python\"} id=\"Python\" name=\"current\" type=\"radio\" />\r\n          <label htmlFor=\"Python\">Python</label>\r\n        </Radio>\r\n        <Radio>\r\n          <input disabled={!checkers.includes('Java')} checked={currentChecker === \"Java\"} id=\"Java\" name=\"current\" type=\"radio\" />\r\n          <label htmlFor=\"Java\">Java</label>\r\n        </Radio>\r\n      </Radio_Container>\r\n\r\n      {(state.is_checker_changing || state.errorText || state.successText) && \r\n        <Loading loading={state.is_checker_changing} error={state.errorText !== ''}>\r\n          {state.is_checker_changing ? 'ინახება..' : state.errorText !== '' ? state.errorText : state.successText}\r\n        </Loading>\r\n      }\r\n\r\n      {(!state.is_checker_changing && state.errorText === '' && state.successText === '') &&\r\n        <div style={{marginTop: '25px'}}></div>\r\n      }\r\n\r\n      <CodeEditor focus languageChanged={on_language_changed} width=\"500px\" height=\"400px\" code={state.code} onChange={on_code_changed} \r\n        rightItems={\r\n        <div style={{marginRight: '5px', width: '170px', justifyContent: 'space-between', alignItems: 'center', fontSize: '14px', display: 'flex'}}>\r\n          <ComboBox\r\n            currentItem={state.code.name}\r\n            items={[\r\n              {\r\n                name: 'C++',\r\n                language: 'C++',\r\n                version: '17',\r\n                editorName: 'c_cpp',\r\n              },\r\n              {\r\n                name: 'Python',\r\n                language: 'Python',\r\n                version: '3',\r\n                editorName: 'python',\r\n              },\r\n              {\r\n                name: 'Java',\r\n                language: 'Java',\r\n                version: '11',\r\n                editorName: 'java',\r\n              }\r\n            ]}\r\n            itemSelected={on_combo_itemSelected}\r\n          />\r\n        </div>\r\n        }\r\n      />\r\n      <ContainerFooter>\r\n        <Button onClick={on_submit} disabled={!state.code.value || state.is_uploading}>{!checkers.length ? \"დამატება\" : \"შენახვა\"}{state.is_uploading}{state.is_uploading ? \"..\" : \"\"}</Button>\r\n      </ContainerFooter>\r\n\r\n\r\n      {state.is_notes_visible && \r\n        <Modal width=\"550px\" title={`ინსტრუქცია`} isOpen={state.is_notes_visible} close={() => setState({...state, is_notes_visible: false,})}>\r\n          <span style={{textAlign: 'left'}}>\r\n            ორ ხაზზე შემოვა ფაილის მისამართები.<br />\r\n            პირველ ფაილში მოთავსებულია კონკრეტული ტესტის შესატანი ინფორმაცია, ხოლო მეორე ფაილში - ამავე ტესტზე მონაწილის მიერ გამოტანილი პასუხი.\r\n            <br />თქვენი მიზანია დაწეროთ შემმოწმებელი კოდი, რომელიც დაადგენს მოცემული შეტანილი ინფორმაციას რამდენად სწორად უპასუხა მონაწილემ.\r\n            <br />თუ ჩათვლით რომ მონაწილემ სწორად დაბეჭდა პასუხი, მაშინ თქვენი შემმოწმებელის დასრულების კოდი უნდა იყოს 1 (python-ში -> exit(1), c++-ში -> exit(1), java-ში -> System.exit(1) ), ხოლო წინააღმდეგ შემთხვევაში დასრულების კოდი უნდა იყოს 0 (python-ში -> exit(0), c++-ში -> exit(0), java-ში -> System.exit(1) )\r\n          </span>\r\n        </Modal>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Checker_Add","import React, { useState, useContext, useEffect, useRef } from 'react'\r\nimport Input from 'controls/Input'\r\nimport styled from 'styled-components'\r\nimport JN from 'JN'\r\nimport { theme } from 'Themes'\r\nimport { UserContext } from 'contexts/UserContext'\r\nimport B from 'controls/B'\r\nimport { MdDelete } from 'react-icons/md'\r\nimport LoadingSvg from 'components/LoadingSvg'\r\nimport A from 'controls/A'\r\nimport { MessageBoxContext } from 'contexts/MessageBoxContext'\r\n\r\nconst DivTags = styled.div`\r\n  display: flex;\r\n  text-align: left;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  max-height: 430px;\r\n  overflow: auto;\r\n  margin-bottom: 20px;\r\n  margin-top: 5px;\r\n  border: 1px solid var(--color_b22);\r\n  border-radius: 8px;\r\n  border-top-right-radius: 0;\r\n  border-bottom-right-radius: 0;\r\n`\r\n\r\nconst DivTag = styled.div`\r\n  font-size: 14px;\r\n  display: flex;\r\n  padding: 3px;\r\n  padding-left: 10px;\r\n  align-items: center;\r\n  background-color: transparent;\r\n  border-bottom: 1px solid var(--color_b22);\r\n\r\n  &, * {\r\n    cursor: pointer;\r\n  }\r\n\r\n  &:last-child {\r\n    /* border-bottom: none; */\r\n  }\r\n\r\n  label {\r\n    flex-grow: 1;\r\n    margin-left: .5em;\r\n  }\r\n\r\n  &:hover {\r\n    transition: background-color ease 250ms;\r\n    background-color: var(--color_b11);\r\n\r\n    button {\r\n      transition: opacity ease 250ms;\r\n      opacity: 1;\r\n    }\r\n  }\r\n`\r\nconst StyledButton = styled.button`\r\n  border: none;\r\n  outline: none;\r\n  background: none;\r\n  cursor: pointer;\r\n  opacity: 0;\r\n  border-radius: 50%;\r\n  width: 36px;\r\n  height: 36px;\r\n  margin-left: 3px;\r\n\r\n  /* &:hover {\r\n    transition: background-color ease 250ms;\r\n    background-color: white;\r\n  } */\r\n`\r\n\r\nconst FilterContainer = styled.div`\r\n  position: absolute;\r\n  top: 95px;\r\n  background-color: var(--color_b2);\r\n  box-shadow: 0 3px 8px rgba(0, 0, 0, 0.2);\r\n  border-radius: 5px;\r\n  overflow: auto;\r\n  max-height: 250px;\r\n  width: ${props => props.width ? props.width : '100%'};\r\n  z-index: 1;\r\n`\r\n\r\nconst FilterItem = styled.button`\r\n  display: block;\r\n\twidth: 100%;\r\n  text-align: left;\r\n  height: 45px;\r\n  text-decoration: none;\r\n  color: var(--color_c2);\r\n  font-family: ${theme.font};\r\n\tborder: none;\r\n\toutline: none;\r\n\tbackground: none;\r\n  \r\n  padding-left: 10px;\r\n  padding-right: 10px;\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  outline: none;\r\n\tcursor: pointer;\r\n\r\n  button {\r\n    margin-left: auto;\r\n  }\r\n\r\n  &:hover, &:focus {\r\n    color: var(--color_link);\r\n  }\r\n\r\n  &:first-child {\r\n    margin-top: 10px;\r\n  }\r\n`\r\n\r\nconst CoAutors = props => {\r\n\tconst { user } = useContext(UserContext);\r\n\tconst { toast, jMb } = useContext(MessageBoxContext);\r\n\r\n\tconst [deletingCoauthorId, setDeletingCoauthorId] = useState(-1)\r\n\tconst [listCoauthors, setListCoauthors] = useState([])\r\n\r\n\tuseEffect(() => {\r\n\t\tsetListCoauthors(props.listCoauthors)\r\n\t}, [])\r\n\r\n\r\n\r\n\t//თანაავტორის დამატება\r\n\tconst onAddCoauthor = coauthor => {\r\n\r\n\t\tJN.post(user, `problem/coauthor`, { problem_id: props.problemId, coauthor_id: coauthor.id },\r\n\t\t\t() => {\r\n\t\t\t\tlet list = [...listCoauthors, coauthor]\r\n\t\t\t\tsetListCoauthors(list)\r\n\t\t\t\tsetFilteredItems([])\r\n\t\t\t\tsetFilter('')\r\n\t\t\t\tprops.updateCoauthors(list)\r\n\t\t\t},\r\n\t\t\terror => {\r\n\t\t\t\ttoast(error.data.message, 'error')\r\n\t\t\t})\r\n\t}\r\n\r\n\t//თანაავტ2ს წაშლა\r\n\tconst removeCoauthor = user_id => {\r\n\t\tJN.delete(user, `problem/coauthor`, { problem_id: props.problemId, coauthor_id: user_id },\r\n\t\t() => {\r\n\t\t\tlet list = listCoauthors.filter(a => a.id !== user_id)\r\n\t\t\tsetListCoauthors(list)\r\n\t\t\tprops.updateCoauthors(list)\r\n\t\t},)\r\n\t}\r\n\r\n\tconst [filter, setFilter] = useState('');\r\n\tconst [filteredItems, setFilteredItems] = useState([]);\r\n\tconst refFilteredProblems = [useRef(null), useRef(null), useRef(null), useRef(null), useRef(null)];\r\n\r\n\tconst onFilterChanged = e => {\r\n\t\tlet filterText = e.target.value\r\n\r\n\t\tif (filterText.length > 50)\r\n\t\t\treturn\r\n\r\n\t\tsetFilter(filterText)\r\n\t\tif (filterText === '') {\r\n\t\t\tsetFilteredItems([])\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tJN.get(user, `user/search`, { username: filterText },\r\n\t\t\t(data) => {\r\n\t\t\t\tsetFilteredItems(data.users.slice(0, 5));\r\n\t\t\t},\r\n\t\t\t() => setFilteredItems([]))\r\n\t}\r\n\r\n\tconst onHideFilter = (e) => {\r\n\t\tif (e.currentTarget.contains(e.relatedTarget))\r\n\t\t\treturn\r\n\r\n\t\tsetFilteredItems([])\r\n\r\n\t\tif (filter !== '') {\r\n\t\t\tsetFilter('')\r\n\t\t}\r\n\t}\r\n\r\n\tconst onKeyDown = e => {\r\n\t\tif (!filteredItems.length)\r\n\t\t\treturn\r\n\r\n\t\tlet ARROW_UP = 38;\r\n\t\tlet ARROW_DOWN = 40;\r\n\t\tif (e.keyCode !== ARROW_UP && e.keyCode !== ARROW_DOWN)\r\n\t\t\treturn;\r\n\r\n\t\te.preventDefault();\r\n\r\n\t\tlet up = e.keyCode === ARROW_UP;\r\n\r\n\t\tlet activeElement = document.activeElement;\r\n\t\tlet nextIndex = 0;\r\n\r\n\t\tlet i = refFilteredProblems.findIndex(ref => ref.current === activeElement);\r\n\r\n\t\tif (i === -1 || i === 0) {\r\n\t\t\tnextIndex = up ? filteredItems.length - 1 : i + 1;\r\n\t\t}\r\n\t\telse if (i === filteredItems.length - 1) {\r\n\t\t\tnextIndex = up ? i - 1 : 0;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tnextIndex = up ? i - 1 : i + 1;\r\n\t\t}\r\n\r\n\t\tif (refFilteredProblems[nextIndex] && refFilteredProblems[nextIndex].current) {\r\n\t\t\tconsole.log(refFilteredProblems[nextIndex].current)\r\n\t\t\trefFilteredProblems[nextIndex].current.focus()\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div style={{ height: 500 }}>\r\n\t\t\t{/* {props.problemId} */}\r\n\r\n\t\t\t<div onBlur={onHideFilter} style={{ display: 'flex', justifyContent: 'flex-end', marginLeft: 'auto' }}>\r\n\t\t\t\t<Input focus title=\"თანაავტორის დამატება\" onKeyDown={onKeyDown} fontSize=\"14px\" onChange={onFilterChanged} value={filter} placeholder=\"შეიყვანეთ მომხმარებლის სახელი, სახელი ან გვარი\">\r\n\t\t\t\t\t{filter !== '' &&\r\n\t\t\t\t\t\t<FilterContainer onKeyDown={onKeyDown}>\r\n\t\t\t\t\t\t\t{!filteredItems.length ?\r\n\t\t\t\t\t\t\t\t<div>\r\n\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t{filteredItems.map((user, index) =>\r\n\t\t\t\t\t\t\t\t\t\t<FilterItem onClick={() => onAddCoauthor(user)} ref={refFilteredProblems[index]} key={user.id}>\r\n\t\t\t\t\t\t\t\t\t\t\t<span style={{ overflow: 'hidden', textOverflow: 'ellipsis', display: 'block' }}><B colorInherit>{user.username}</B></span>\r\n\t\t\t\t\t\t\t\t\t\t\t<div>{user.name} {user.surname}</div>\r\n\t\t\t\t\t\t\t\t\t\t</FilterItem>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</FilterContainer>\r\n\t\t\t\t\t}\r\n\t\t\t\t</Input>\r\n\t\t\t</div>\r\n\r\n\r\n\r\n\r\n\t\t\t{listCoauthors.length > 0 && \r\n\t\t\t<><B style={{ display: 'block', textAlign: 'left', marginTop: 30 }}>თანაავტორები</B>\r\n\t\t\t<DivTags>\r\n\r\n\t\t\t\t{listCoauthors.map(author =>\r\n\t\t\t\t\t<span key={author.id}>\r\n\t\t\t\t\t\t<DivTag>\r\n\t\t\t\t\t\t\t{deletingCoauthorId === author.id ?\r\n\t\t\t\t\t\t\t\t<LoadingSvg dots />\r\n\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t<label><A hover=\"true\" to={`/profile/${author.username}`}>{author.username}</A></label>}\r\n\r\n\r\n\t\t\t\t\t\t\t<StyledButton type=\"button\" onClick={() => jMb('ნამდვილად გსურთ თანაავტორის წაშლა?', () => removeCoauthor(author.id))}>\r\n\t\t\t\t\t\t\t\t{deletingCoauthorId !== author.id && <MdDelete color=\"var(--color_red)\" size=\"20\" />}\r\n\t\t\t\t\t\t\t</StyledButton>\r\n\t\t\t\t\t\t</DivTag>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t)}\r\n\r\n\t\t\t</DivTags>\r\n\t\t\t</>}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default CoAutors","import React, { useState, useEffect, useContext, useRef } from 'react'\r\nimport Container from 'controls/Container'\r\nimport JN from 'JN'\r\nimport Input from 'controls/Input';\r\nimport Button from 'controls/Button';\r\nimport ContainerFooter from 'controls/ContainersFooter';\r\nimport styled from 'styled-components'\r\nimport TextArea from 'controls/TextArea';\r\nimport { theme } from 'Themes'\r\nimport CategoryEditDlg from './tags/CategoryEditDlg';\r\nimport { MdAdd, MdEdit, MdDelete, MdCheckBox, MdCheckBoxOutlineBlank, MdRemoveRedEye, MdCheck } from 'react-icons/md';\r\nimport SamplesPage from './samples/SamplesPage';\r\nimport { Redirect } from 'react-router-dom'\r\nimport { UserContext } from 'contexts/UserContext'\r\nimport Button_Float from 'controls/Button_Float';\r\nimport Checkbox from 'controls/Checkbox'\r\nimport Checker_Add from './Checker_Add';\r\nimport { MessageBoxContext } from 'contexts/MessageBoxContext'\r\nimport Grid from 'controls/Grid';\r\nimport { ScrollTo } from 'Global_Functions'\r\nimport LoadingSvg from 'components/LoadingSvg';\r\nimport CoAutors from './CoAuthors';\r\n\r\nconst RButton = styled.button `\r\n  border: none;\r\n  background: none;\r\n  font-size: 14px;\r\n  font-family: ${theme.font};\r\n  color: var(--color_c3);\r\n  text-decoration: underline;\r\n  cursor: pointer;\r\n  height: 28px;\r\n`\r\n\r\nconst Header = styled.div `\r\n  text-align: left;\r\n  margin: auto;\r\n  margin-top: 2em;\r\n  margin-bottom: 8px;\r\n  border-bottom: none;\r\n  width: 100%;\r\n  overflow: hidden;\r\n  border-top-left-radius: 8px;\r\n  border-top-right-radius: 8px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n`\r\n\r\nconst DivTags = styled.div `\r\n  display: flex;\r\n  text-align: left;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  height: 430px;\r\n  overflow: auto;\r\n  margin-bottom: 20px;\r\n  border: 1px solid var(--color_b22);\r\n  border-radius: 8px;\r\n  border-top-right-radius: 0;\r\n  border-bottom-right-radius: 0;\r\n`\r\n\r\nconst DivTag = styled.div `\r\n  font-size: 14px;\r\n  display: flex;\r\n  padding: 3px;\r\n  padding-left: 10px;\r\n  align-items: center;\r\n  background-color: transparent;\r\n  border-bottom: 1px solid var(--color_b22);\r\n\r\n  &, * {\r\n    cursor: pointer;\r\n  }\r\n\r\n  &:last-child {\r\n    /* border-bottom: none; */\r\n  }\r\n\r\n  label {\r\n    flex-grow: 1;\r\n    margin-left: .5em;\r\n  }\r\n\r\n  &:hover {\r\n    transition: background-color ease 250ms;\r\n    background-color: var(--color_b11);\r\n\r\n    button {\r\n      transition: opacity ease 250ms;\r\n      opacity: 1;\r\n    }\r\n  }\r\n`\r\nconst StyledButton = styled.button `\r\n  border: none;\r\n  outline: none;\r\n  background: none;\r\n  cursor: pointer;\r\n  opacity: 0;\r\n  border-radius: 50%;\r\n  width: 36px;\r\n  height: 36px;\r\n  margin-left: 3px;\r\n\r\n  /* &:hover {\r\n    transition: background-color ease 250ms;\r\n    background-color: white;\r\n  } */\r\n`\r\n\r\n\r\n\r\n\r\n\r\nconst StyledForm = styled.div `\r\n  /* animation: .3s ease-in-out both fade-in; */\r\n  @keyframes fade-in {\r\n    0% {\r\n      opacity: 0;\r\n      /* transform: scale(0); */\r\n    }\r\n    \r\n    100% {\r\n      opacity: 1;\r\n      /* transform: scale(1); */\r\n    }\r\n  }\r\n`\r\n\r\nconst Tab_Container = styled.div `\r\n  display: flex;\r\n`\r\n\r\nconst Tab_Action = styled.button `\r\n    -webkit-touch-callout: none; /* iOS Safari */\r\n    -webkit-user-select: none; /* Safari */\r\n     -khtml-user-select: none; /* Konqueror HTML */\r\n       -moz-user-select: none; /* Old versions of Firefox */\r\n        -ms-user-select: none; /* Internet Explorer/Edge */\r\n            user-select: none; /* Non-prefixed version, currently\r\n                                  supported by Chrome, Opera and Firefox */\r\n\r\n  cursor: pointer;\r\n  border: none;\r\n  outline: none;\r\n  text-decoration: none;\r\n  font-size: 14px;\r\n  font-family: ${theme.fontCaps};\r\n  border: 1px solid var(--color_inputBackground);\r\n  padding: .8em 1.5em;\r\n  outline: none;\r\n  height: 50px;\r\n  border-top-left-radius: 5px;\r\n  border-radius: 5px;\r\n  margin-right: 5px;\r\n  margin-bottom: 50px;\r\n  color: var(--color_c2);\r\n  background-color: transparent;\r\n  cursor: pointer;\r\n\r\n  &:disabled {\r\n    background: none;\r\n    color: var(--color_c3);\r\n    border: 1px solid transparent;\r\n  }\r\n`\r\n\r\nconst AddProblem = (props) => {\r\n  const { match, history } = props\r\n  const refScrollTo  = useRef(null)\r\n  const refStatement = useRef(null)\r\n  const { user }  = useContext(UserContext)\r\n  const { toast } = useContext(MessageBoxContext)\r\n\r\n  const [tab, setTab] = useState(1)\r\n  \r\n  const [state, setState] = useState({\r\n    problem: {\r\n      title: '',\r\n      time_limit: '1',\r\n      memory_limit: '256',\r\n      input_format : 'std',\r\n      output_format: 'std',\r\n      statement: '',\r\n      input_description: '',\r\n      output_description: '',\r\n      samples: [],\r\n      problem_comment: '',\r\n      note: '',\r\n      tags: [],\r\n      is_visible: false,\r\n      source: '',\r\n    },\r\n    // tags: [{id: 1, title: 'DFS'}, {id: 2, title: 'BFS'}, {id: 3, title: 'სიღრმეში ძებნა'}, {id: 4, title: 'ალგებრა'}, {id: 5, title: 'DFS'}, {id: 7, title: 'BFS'}, {id: 8, title: 'სიღრმეში ძებნა'}, {id: 9, title: 'ალგებრა'}, {id: 10, title: 'DFS'}, {id: 12, title: 'BFS'}, {id: 13, title: 'სიღრმეში ძებნა'}, {id: 14, title: 'ალგებრა'}],\r\n    tags: [],\r\n    isLoading: false,\r\n    deleting_tag_id: -1,\r\n    isOpen: false,\r\n    editingCategory: null,\r\n  });\r\n\r\n   //სევერზე გაგზავნა\r\n   const updateProblem = (redirect_to_fullProblem = false) => {\r\n    //ამოცანის დამატება\r\n    if (state.problem.id === undefined) {\r\n          \r\n      setState({\r\n        ...state,\r\n        isLoading: true\r\n      })\r\n\r\n      JN.post(user, `admin/problem`, {...state.problem, problem_tags: state.problem.tags},\r\n      (data) => {\r\n        toast('ამოცანა დაემატა', 'success')\r\n\r\n        setState({\r\n          ...state,\r\n          isLoading: false,\r\n          problem: {\r\n            ...state.problem,\r\n            id: data.problem_id,\r\n            username: user.username,\r\n            coauthors: []\r\n          }\r\n        })\r\n        setTab(2)\r\n      },\r\n      () => {\r\n        setState({...state, isLoading: false})\r\n      })\r\n    }\r\n\r\n    //ამოცენის რედაქტირება\r\n    else {\r\n      setState({\r\n        ...state,\r\n        isLoading: true\r\n      })\r\n\r\n      JN.put(user, `admin/problem`, {...state.problem, problem_tags: state.problem.tags},\r\n      () => {\r\n        if (redirect_to_fullProblem) {\r\n          history.push(`/problem/${state.problem.id}`);\r\n          return;\r\n        }\r\n        toast('ამოცანა განახლდა', 'success')\r\n\r\n        setState({\r\n          ...state,\r\n          isLoading: false\r\n        })\r\n      },\r\n      () => {\r\n        setState({\r\n          ...state,\r\n          isLoading: false\r\n        })\r\n      })\r\n    }\r\n   }\r\n\r\n   const submit = e => {\r\n     if (e)\r\n      e.preventDefault()\r\n\r\n    updateProblem();\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!user) {\r\n      return\r\n    }\r\n\r\n    ScrollTo(refScrollTo)\r\n  \r\n    //კატეგორიების წამოღება\r\n    let list //#??? ამის გარეშე რედაქტირებისას კატეგორიების სიას არაახლებს\r\n    JN.get(user, 'tags', {},\r\n    (data) => {\r\n      setState({\r\n        ...state,\r\n        tags: data,\r\n        isLoading: false,\r\n      })\r\n      list = data \r\n    },\r\n    () => {\r\n      setState({\r\n        ...state,\r\n        isLoading: false,\r\n      })\r\n    })\r\n\r\n    //ამოცანის წამოღება რედაქტირების დროს\r\n    if (match.params.id !== undefined) {\r\n      document.title = `ამოცანის რედაქტირება`;\r\n      JN.get(user, `admin/problem/${match.params.id}`, {},\r\n      (data) => {\r\n        let fList = []\r\n        for (let i=0; i<data.tags.length; i++) {\r\n          fList.push(data.tags[i].id)\r\n        }\r\n        setState({\r\n          ...state,\r\n          problem: {\r\n            ...data,\r\n            note: data.note ? data.note : '',\r\n            source: data.source ? data.source : '',\r\n            tags: fList\r\n          },\r\n          tags: list\r\n        })\r\n      })\r\n    }\r\n    else {\r\n      document.title = `ამოცანის დამატება`;\r\n    }\r\n  }, [])\r\n\r\n  //state-ის ცვლილება\r\n  const change = (e) => {\r\n    setState({\r\n      ...state,\r\n      problem: {\r\n        ...state.problem,\r\n        [e.target.name]: e.target.value\r\n      }\r\n    })\r\n  }\r\n  \r\n  //კატეგორიების მონიშვნა\r\n  const onTagToggled = id => e => {\r\n    e.preventDefault()\r\n    //კატეგორიის დამატება\r\n    if (!state.problem.tags.includes(id)) {\r\n      setState({\r\n        ...state,\r\n        problem: {\r\n          ...state.problem,\r\n          tags: [...state.problem.tags, id]\r\n        }\r\n      })\r\n    }\r\n    //კატეგორიის წაშლა\r\n    else {\r\n      setState({\r\n        ...state,\r\n        problem: {\r\n          ...state.problem,\r\n          tags: state.problem.tags.filter((tagId) => tagId !== id)\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  const on_close_tagsEditDlg = () => {\r\n    setState({\r\n      ...state,\r\n      isOpen: false,\r\n    })\r\n  }\r\n\r\n  const on_open_tagsEditDlg = (e) => {\r\n    e.preventDefault()\r\n    setState({\r\n      ...state,\r\n      editingCategory: null,\r\n      isOpen: true,\r\n    })\r\n  }\r\n\r\n  const on_tag_edit = index => e => {\r\n    e.preventDefault()\r\n    e.stopPropagation()\r\n    setState({\r\n      ...state,\r\n      editingCategory: state.tags[index],\r\n      isOpen: true\r\n    })\r\n  }\r\n\r\n  //კატეგორიის წაშლა\r\n  const on_tag_delete = id => e => {\r\n    e.preventDefault()\r\n    e.stopPropagation()\r\n\r\n    if (!window.confirm('ნამდვილად გსურთ წაშლა?!')) {\r\n      return\r\n    }\r\n\r\n    setState({\r\n      ...state,\r\n      deleting_tag_id: id,\r\n    })\r\n\r\n    JN.delete(user, `admin/tags`, {tag_id: id},\r\n    () => {\r\n      toast('კატეგორია წაიშალა', 'success')\r\n      setState({\r\n        ...state,\r\n        problem: {\r\n          ...state.problem,\r\n          tags: state.problem.tags.filter((tagId) => tagId !== id),\r\n        },\r\n        tags: state.tags.filter((tag, i) => tag.id !== id),\r\n        deleting_tag_id: -1\r\n      })\r\n    },\r\n    () => {\r\n      setState({\r\n        ...state,\r\n        deleting_tag_id: -1\r\n      })\r\n    })\r\n  }\r\n\r\n\r\n  const on_visible_changed = () => {\r\n    setState({\r\n      ...state,\r\n      problem: {\r\n        ...state.problem,\r\n        is_visible: !state.problem.is_visible,\r\n      }\r\n    })\r\n  }\r\n\r\n  const loadingColor = theme.primary\r\n\r\n\r\n  const [search, setSearch] = useState('')\r\n  const onSearchChanged = e => {\r\n    setSearch(e.target.value)\r\n  }\r\n\r\n  const [isRejudging, setIsRejudging] = useState(false);\r\n  const onResubmissionAllSubmissions = (e) => {\r\n    e.preventDefault();\r\n    if (!window.confirm('გსურთ ამ ამოცანაზე ყველა მომხმარებლის მიერ გატარებულების თავიდან გატარება?')) {\r\n      return\r\n    }\r\n\r\n    setIsRejudging(true);\r\n    JN.post(user, 'rejudge', {problem_id: state.problem.id},\r\n    () => {\r\n      toast('წარმატებით დასრულდა', 'success');\r\n      setIsRejudging(false);\r\n    },\r\n    (error) => {\r\n      console.log(error);\r\n      toast('შეცდომა', 'error');\r\n      setIsRejudging(false);\r\n    });\r\n  }\r\n\r\n  let currentTab = <>\r\n    {state.isOpen && <CategoryEditDlg\r\n      state={state}\r\n      setState={setState}\r\n      category={state.editingCategory}\r\n      isOpen={state.isOpen}\r\n      close={on_close_tagsEditDlg}\r\n    />}\r\n    <StyledForm style={{display: 'flex', flexDirection: 'column'}}>\r\n      <Input    title=\"დასახელება\" focus required name=\"title\"  value={state.problem.title} onChange={change} />\r\n  \r\n      <TextArea showControls title=\"პირობა\" height=\"250px\" name=\"statement\" value={state.problem.statement} onChange={change} required/>\r\n      <TextArea showControls title=\"შემავალი მონაცემები\" height=\"150px\" name=\"input_description\" value={state.problem.input_description} onChange={change} />\r\n      <TextArea showControls title=\"გამომავალი მონაცემები\" height=\"150px\" name=\"output_description\" value={state.problem.output_description} onChange={change} />\r\n      <TextArea showControls title=\"შენიშვნა\" name=\"problem_comment\" height=\"150px\" value={state.problem.problem_comment} onChange={change} />\r\n      <TextArea showControls title=\"შენიშვნა (ავტორებისათვის)\" height=\"150px\" name=\"note\" value={state.problem.note} onChange={change} />\r\n      <Input    showControls title=\"წყარო\" name=\"source\" value={state.problem.source} onChange={change} />\r\n\r\n      <Header>\r\n        <Button type=\"button\" onClick={on_open_tagsEditDlg}>\r\n          <MdAdd size=\"22\" /> კატეგორიის დამატება\r\n        </Button>\r\n        <Input fontSize=\"14px\" value={search} onChange={onSearchChanged} placeholder=\"ძებნა..\" width=\"250px\" />\r\n      </Header>\r\n      <DivTags>\r\n        {state.tags && <>\r\n        {state.tags.map((tag, index) =>\r\n          <span key={tag.id}>\r\n          {tag.title.includes(search) &&\r\n            <DivTag onClick={onTagToggled(tag.id)}>\r\n              {state.deleting_tag_id === tag.id ? \r\n                <svg width=\"56\" height=\"18\" viewBox=\"0 0 120 30\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"#fff\"> <circle fill={loadingColor} cx=\"15\" cy=\"15\" r=\"15\"> <animate attributeName=\"r\" from=\"15\" to=\"15\" begin=\"0s\" dur=\"0.8s\" values=\"15;9;15\" calcMode=\"linear\" repeatCount=\"indefinite\" /> <animate attributeName=\"fill-opacity\" from=\"1\" to=\"1\" begin=\"0s\" dur=\"0.8s\" values=\"1;.5;1\" calcMode=\"linear\" repeatCount=\"indefinite\" /> </circle> <circle fill={loadingColor} cx=\"60\" cy=\"15\" r=\"9\" fillOpacity=\"0.3\"> <animate attributeName=\"r\" from=\"9\" to=\"9\" begin=\"0s\" dur=\"0.8s\" values=\"9;15;9\" calcMode=\"linear\" repeatCount=\"indefinite\" /> <animate attributeName=\"fill-opacity\" from=\"0.5\" to=\"0.5\" begin=\"0s\" dur=\"0.8s\" values=\".5;1;.5\" calcMode=\"linear\" repeatCount=\"indefinite\" /> </circle> <circle fill={loadingColor} cx=\"105\" cy=\"15\" r=\"15\"> <animate attributeName=\"r\" from=\"15\" to=\"15\" begin=\"0s\" dur=\"0.8s\" values=\"15;9;15\" calcMode=\"linear\" repeatCount=\"indefinite\" /> <animate attributeName=\"fill-opacity\" from=\"1\" to=\"1\" begin=\"0s\" dur=\"0.8s\" values=\"1;.5;1\" calcMode=\"linear\" repeatCount=\"indefinite\" /> </circle> </svg>\r\n              :\r\n              state.problem.tags.includes(tag.id) ? <MdCheck size=\"20\" color=\"var(--color_primary)\" /> : <MdCheckBoxOutlineBlank size=\"20\" color=\"var(--color_c3)\" />}\r\n              {state.deleting_tag_id !== tag.id && <label>{tag.title}</label>}\r\n              <StyledButton type=\"button\" onClick={on_tag_edit(index)}>\r\n                {state.deleting_tag_id !== tag.id && <MdEdit color=\"var(--color_orange)\" size=\"20\" />}\r\n              </StyledButton>\r\n              <StyledButton type=\"button\" onClick={on_tag_delete(tag.id)}>\r\n                {state.deleting_tag_id !== tag.id && <MdDelete color=\"var(--color_red)\" size=\"20\" />}\r\n              </StyledButton>\r\n            </DivTag>}\r\n          </span>\r\n        )}\r\n        </>}\r\n      </DivTags>\r\n\r\n      <Grid columns=\"2\" gap=\"15px\">\r\n        <Input required list=\"time_limit\" name=\"time_limit\" title=\"დროის ზღვარი (წმ)\" value={state.problem.time_limit} onChange={change} />\r\n          <datalist id=\"time_limit\">\r\n            <option value=\"7\" />\r\n            <option value=\"5\" />\r\n            <option value=\"4\" />\r\n            <option value=\"3\" />\r\n            <option value=\"2\" />\r\n            <option value=\"1\" />\r\n          </datalist>\r\n        <Input required autocomplete=\"off\" list=\"memory_limit\" name=\"memory_limit\" title=\"მეხსიერების ზღვარი (მბ)\" value={state.problem.memory_limit} onChange={change} />\r\n        <datalist id=\"memory_limit\">\r\n          <option value=\"512\" />\r\n          <option value=\"256\" />\r\n          <option value=\"128\" />\r\n          <option value=\"64\" />\r\n          <option value=\"32\" />\r\n          <option value=\"16\" />\r\n        </datalist>\r\n      </Grid>\r\n\r\n      {/* <div>\r\n        <input id=\"chck\" checked={state.problem.input_format !== \"std\"} onChange={onCheckChanged} type=\"checkbox\" />\r\n        <label htmlFor=\"chck\">ფაილიდან შეტანა</label>\r\n      </div>\r\n      {state.problem.input_format !== \"std\" && \r\n        <Flex>\r\n          <Input required name=\"input_format\" title=\"შემავალი ფაილის სახელი\" value={state.problem.input_format} onChange={change} required={state.problem.input_format !== \"std\"} />\r\n          <Input required name=\"output_format\" title=\"გამომავალი ფაილის სახელი\" value={state.problem.output_format} onChange={change} required={state.problem.output_format !== \"std\"} />\r\n        </Flex>\r\n      } */}\r\n\r\n      \r\n\r\n      <ContainerFooter>\r\n\r\n      <div style={{width: '100%', marginTop: '-25px', marginBottom: 25, display: 'flex', justifyContent: 'space-between'}}>\r\n\r\n        {user && user.username === 'system' && state.problem.id ?\r\n          <div style={{display: 'flex', alignItems: 'center'}}>\r\n            <RButton disabled={isRejudging} onClick={onResubmissionAllSubmissions}>განატარებების თავიდან შემოწმება</RButton>\r\n            {isRejudging && <LoadingSvg style={{marginLeft: 15}} dots />}\r\n          </div>\r\n        : <div></div>}\r\n\r\n        <Checkbox title=\"ამოცანებში გამოჩენა\" checked={state.problem.is_visible} onCheckedChanged={on_visible_changed} />\r\n      </div>\r\n\r\n        <Button onClick={submit} type=\"submit\" backgroundColor=\"primary\" disabled={state.isLoading}>\r\n          {state.isLoading ? \"იგზავნება..\" : state.problem.id ? \"შენახვა\" : \"დამატება\"}\r\n        </Button>\r\n      </ContainerFooter>\r\n    </StyledForm>\r\n  </>\r\n\r\n  if (tab === 2) {\r\n    currentTab = <SamplesPage id={state.problem.id} />\r\n  }\r\n  else if (tab === 3) {\r\n    currentTab = <Checker_Add problemId={state.problem.id} />\r\n  }\r\n  else if (tab === 4) {\r\n    currentTab = <CoAutors updateCoauthors={(list) => setState({...state, problem: {...state.problem, coauthors: list}})} listCoauthors={state.problem.coauthors} problemId={state.problem.id} />\r\n  }\r\n\r\n  const on_tab_changed = t => e => {\r\n    e.preventDefault()\r\n    setTab(t)\r\n  }\r\n\r\n  const Tab_Current = {backgroundColor: 'var(--color_inputBackground)', color: 'color(--color_c2)'}\r\n\r\n  if (!user || user.permission === \"user\") {\r\n    return (\r\n      <Redirect to=\"/404\" />\r\n    )\r\n  }\r\n\r\n  const viewFullProblemClicked = e => {\r\n    e.preventDefault();\r\n    updateProblem(true);\r\n  }\r\n\r\n  return (\r\n    <>\r\n    <div ref={refScrollTo} style={{height: '1px', marginBottom: '25px'}}></div>\r\n    <Container title={match.params.id !== undefined ? 'ამოცანის რედაქტირება' : 'ამოცანის დამატება'} width=\"800px\">\r\n      {state.problem.id && \r\n        <Button_Float onClick={viewFullProblemClicked} count=\"1\" to={`/problem/${state.problem.id}`}>\r\n          <MdRemoveRedEye color=\"var(--color_primary)\" size=\"22\" />\r\n        </Button_Float>\r\n      }\r\n      <Tab_Container>\r\n        <Tab_Action style={tab === 1 ? Tab_Current : {}} onClick={on_tab_changed(1)}>ამოცანა</Tab_Action>\r\n        <Tab_Action style={tab === 2 ? Tab_Current : {}} disabled={!state.problem.id} onClick={on_tab_changed(2)}>ნიმუშები</Tab_Action>\r\n        <Tab_Action style={tab === 3 ? Tab_Current : {}} disabled={!state.problem.id} onClick={on_tab_changed(3)}>შემმოწმებელი</Tab_Action>\r\n        <Tab_Action style={tab === 4 ? Tab_Current : {}} disabled={!state.problem.id || state.problem.username !== user.username} onClick={on_tab_changed(4)}>თანაავტორები</Tab_Action>\r\n      </Tab_Container>\r\n      <div style={{marginTop: '8px'}}>\r\n        {currentTab}\r\n      </div>\r\n    </Container>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default AddProblem\r\n","import React from 'react'\r\nimport { theme } from 'Themes'\r\nimport p404 from 'images/p404.svg'\r\nimport styled from 'styled-components'\r\nimport A from 'controls/A'\r\nimport { FaBook, FaStar, FaTrophy, FaBrain } from 'react-icons/fa'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst SA = styled(Link) `\r\n  text-decoration: none;\r\n  color: ${props => props.color};\r\n`\r\n\r\nconst CartContainer = styled.div `\r\n  display: grid;\r\n  grid-template-columns: repeat(4, auto);\r\n  grid-column-gap: 12px;\r\n  grid-row-gap: 12px;\r\n  width: 650px;\r\n  margin: auto;\r\n`\r\n\r\nconst Cart = styled.div `\r\n  border-radius: 8px;\r\n  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.4);\r\n  /* background-color: #f7f7f7; */\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding: 2em 3em;\r\n\r\n  transition: box-shadow ease 250ms;\r\n  &:hover {\r\n    box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.4);\r\n  }\r\n\r\n  &:active {\r\n    box-shadow: inset 1px 1px 3px rgba(0, 0, 0, 0.4);\r\n  }\r\n`\r\n\r\n\r\nconst Container_Main = styled.div `\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  background-color: white;\r\n`\r\n\r\nconst Content = styled.div `\r\n  padding: 25px;\r\n  width: 100%;\r\n`\r\n\r\nconst page_404 = props => {\r\n\r\n  return (\r\n    <Container_Main>\r\n\r\n      <CartContainer>\r\n        \r\n        <SA to=\"/problems\" color={theme.primary}>\r\n          <Cart>\r\n            <FaBrain size=\"42\" />\r\n            <span style={{marginTop: '10px'}}>ამოცანები</span>\r\n          </Cart>\r\n        </SA>\r\n\r\n        <SA to=\"/contests\" color={theme.red}>\r\n          <Cart>\r\n            <FaTrophy size=\"42\" />\r\n            <span style={{marginTop: '10px'}}>კონტესტები</span>\r\n          </Cart>\r\n        </SA>\r\n\r\n        <SA to={`/rating`} color={theme.orange}>\r\n          <Cart>\r\n            <FaStar size=\"42\" />\r\n            <span style={{marginTop: '10px'}}>რეიტინგი</span>\r\n          </Cart>\r\n        </SA>\r\n\r\n        <SA to=\"/tutorials\" color={theme.green}>\r\n          <Cart>\r\n            <FaBook size=\"42\" />\r\n            <span style={{marginTop: '10px'}}>გაკვეთილები</span>\r\n          </Cart>\r\n        </SA>\r\n\r\n        \r\n      </CartContainer>\r\n      <Content>\r\n        <img style={{margin: 'auto'}} src={p404} height=\"400px\" />\r\n      </Content>\r\n      \r\n    </Container_Main>\r\n  )\r\n}\r\n\r\nexport default page_404","import React, {useState, useEffect} from 'react'\r\nimport styled from 'styled-components'\r\nimport { theme } from 'Themes'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst Button_Avatar = styled(Link) `\r\n  font-family: ${theme.fontCaps};\r\n  font-size: 26px;\r\n  color: white;\r\n  background-color: ${theme.primary};\r\n  text-decoration: none;\r\n  border-radius: 50%;\r\n  width: 64px;\r\n  height: 64px;\r\n  display: inline-flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n`\r\n\r\nconst Avatar = props => {\r\n\r\n  const {name, surname} = props\r\n\r\n  const [state, setState] = useState({\r\n    color: null,\r\n  })\r\n\r\n  useEffect(() => {\r\n\r\n  }, [])\r\n\r\n  if (!name || !surname) {\r\n    return (\r\n      <div>\r\n\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Button_Avatar to={props.to ? props.to : '#'}>\r\n        {name[0]}{surname[0]}\r\n      </Button_Avatar>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Avatar","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { theme } from 'Themes'\r\n\r\nconst MContainer = styled.div `\r\n  -webkit-touch-callout: none; /* iOS Safari */\r\n    -webkit-user-select: none; /* Safari */\r\n     -khtml-user-select: none; /* Konqueror HTML */\r\n       -moz-user-select: none; /* Old versions of Firefox */\r\n        -ms-user-select: none; /* Internet Explorer/Edge */\r\n            user-select: none; /* Non-prefixed version, currently\r\n                                  supported by Chrome, Opera and Firefox */\r\n\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  font-size: 14px;\r\n  width: ${props => props.width ? props.width : '100%'};\r\n\r\n\r\n  cursor: pointer;\r\n  * {\r\n    cursor: pointer;\r\n  }\r\n`\r\n\r\nconst TContainer = styled.div `\r\n  display: flex;\r\n  align-items: center;\r\n  background-color: ${props => props.toggled ? 'var(--color_primary)' : '#a9a9a9'};\r\n  border-radius: 999px;\r\n  height: 22px;\r\n  width: 45px;\r\n  margin-left : 5px;\r\n  margin-right: 5px;\r\n`\r\n\r\nconst TButton = styled.div `\r\n  width: 18px;\r\n  height: 18px;\r\n  border-radius: 50%;\r\n  background-color: white;\r\n  margin-left: ${props => props.toggled ? '25px' : '2px'};\r\n  transition: margin-left ease 250ms,\r\n              background-color ease 250ms;\r\n`\r\n\r\n\r\n\r\nconst Toggle = props => {\r\n  \r\n  \r\n \r\n\r\n  const on_toggle_toggled = e => {\r\n    e.preventDefault()\r\n    props.setToggled()\r\n  }\r\n\r\n  return (\r\n    <MContainer width={props.width} onClick={on_toggle_toggled}>\r\n      {props.right ? props.title : ''}\r\n      <TContainer {...props}>\r\n        <TButton {...props} >\r\n\r\n        </TButton>\r\n      </TContainer>\r\n      {!props.right ? props.title : ''}\r\n    </MContainer>\r\n  )\r\n}\r\n\r\nexport default Toggle","import React, { useState, useContext } from 'react'\r\nimport Modal from 'components/Modal'\r\nimport Input from 'controls/Input'\r\nimport ContainerFooter from 'controls/ContainersFooter'\r\nimport Button from 'controls/Button'\r\nimport JN from 'JN'\r\nimport { UserContext } from 'contexts/UserContext'\r\n\r\nconst PasswordEditDlg = props => {\r\n\r\n  const { user } = useContext(UserContext)\r\n\r\n  const [state, setState] = useState({\r\n    password_old: '',\r\n    password_new: '',\r\n    is_error_oldPassword: false,\r\n    is_updating: false,\r\n  })\r\n\r\n  const on_close = () => {\r\n    if (!state.is_updating) {\r\n      props.close()\r\n    }\r\n  }\r\n\r\n  const on_change = e => {\r\n    setState({\r\n      ...state,\r\n      [e.target.name]: e.target.value,\r\n    })\r\n  }\r\n\r\n  const on_submit = e => {\r\n    e.preventDefault()\r\n\r\n    setState({\r\n      ...state,\r\n      is_updating: true,\r\n    })\r\n\r\n    JN.put(user, `profile/password`, {old_password: state.password_old, new_password: state.password_new},\r\n    () => {\r\n      props.close()\r\n    },\r\n    (error) => {\r\n      setState({\r\n        ...state,\r\n        is_error_oldPassword: error.status === 401,\r\n        is_updating: false,\r\n      })\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Modal title=\"პაროლის შეცვლა\" isOpen={props.isOpen} close={on_close}>\r\n      <form onSubmit={on_submit}>\r\n        <Input required password focus title=\"ძველი პაროლი\" name=\"password_old\" value={state.password_old} onChange={on_change} isError={state.is_error_oldPassword} errorText=\"პაროლი არასწორია\" />\r\n        <Input required password title=\"ახალი პაროლი\" name=\"password_new\" value={state.password_new} onChange={on_change} />\r\n\r\n        <ContainerFooter>\r\n          <Button disabled={state.is_updating}>{state.is_updating ? 'შეცვლა..' : 'შეცვლა'}</Button>\r\n        </ContainerFooter>\r\n      </form>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default PasswordEditDlg","import React, { useState, useEffect, useContext } from 'react'\r\nimport Input from 'controls/Input'\r\nimport Button from 'controls/Button'\r\nimport Grid from 'controls/Grid'\r\nimport ContainerFooter from 'controls/ContainersFooter'\r\nimport { theme } from 'Themes'\r\nimport Chart from 'react-apexcharts'\r\nimport { UserContext } from 'contexts/UserContext'\r\nimport { GlobalContext } from 'contexts/GlobalContext'\r\nimport Toggle from 'controls/Toggle'\r\nimport styled from 'styled-components'\r\nimport JN from 'JN'\r\nimport A from 'controls/A'\r\nimport PasswordEditDlg from './dialogs/passwordEditDlg'\r\nimport { FaComment, FaCircle } from 'react-icons/fa'\r\n\r\nconst SForm = styled.form`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 25px;\r\n  padding-top: 25px;\r\n  box-shadow: 0 6px 16px 0 rgba(0,0,0,.2);\r\n  margin: auto;\r\n  background-color: var(--color_b2);\r\n  border-radius: 8px;\r\n`\r\n\r\nconst FooterDiv = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n\r\n  @media (max-width: ${theme.mobileSize}) {\r\n    & {\r\n      flex-direction: column;\r\n    }\r\n  }\r\n`\r\n\r\nconst ChatButton = styled.button`\r\n  font-family: ${theme.font};\r\n  display: flex;\r\n  align-items: center;\r\n  border: none;\r\n  outline: none;\r\n  background: none;\r\n  cursor: pointer;\r\n  color: var(--color_c3);\r\n\r\n  &:hover {\r\n    transition: color ease 250ms;\r\n    color: var(--color_c1);\r\n  }\r\n`\r\n\r\nconst Info = props => {\r\n  const { user, userUpdate, refreshGlobalState } = useContext(UserContext);\r\n  const { openChatRoom } = useContext(GlobalContext);\r\n\r\n  const [state, setState] = useState({\r\n    user: props.user,\r\n    is_current_user: !user ? false : user.username === props.user.username,\r\n    is_uploading: false,\r\n    is_passwordEditDlg_open: false,\r\n    is_friend: false,\r\n  });\r\n\r\n  const on_text_changed = e => {\r\n    if (!state.is_current_user) {\r\n      return;\r\n    }\r\n\r\n    setState({\r\n      ...state,\r\n      user: {\r\n        ...state.user,\r\n        [e.target.name]: e.target.value,\r\n      }\r\n    })\r\n  }\r\n\r\n  const on_submit = e => {\r\n    e.preventDefault()\r\n\r\n    setState({\r\n      ...state,\r\n      is_uploading: true,\r\n    })\r\n\r\n    JN.put(user, `profile/${state.user.username}`, {\r\n      name: state.user.name,\r\n      surname: state.user.surname,\r\n      email: state.user.email,\r\n    },\r\n      () => {\r\n        userUpdate({\r\n          name: state.user.name,\r\n          surname: state.user.surname,\r\n          email: state.user.email,\r\n        })\r\n        props.userUpdate(state.user)\r\n        setState({\r\n          ...state,\r\n          is_uploading: false,\r\n        })\r\n      },\r\n      () => {\r\n        setState({\r\n          ...state,\r\n          is_uploading: false,\r\n        })\r\n      })\r\n  }\r\n\r\n  const options = {\r\n    labels: ['გატარებული', 'ჩაჭრილი'],\r\n    legend: {\r\n      show: false,\r\n      // position: 'bottom',\r\n      // fontFamily: theme.font,\r\n      // fontSize: '16px',\r\n    },\r\n    dataLabels: { enabled: true },\r\n    colors: [theme.primary, theme.red],\r\n\r\n    // chart: {\r\n    //   events: {\r\n    //     click: function (event, chartContext, config) {\r\n    //       // console.log(event, chartContext)\r\n    //       console.log(config)\r\n    //       // The last parameter config contains additional information like `seriesIndex` and `dataPointIndex` for cartesian charts\r\n    //     },\r\n    //   }\r\n    // }\r\n\r\n  }\r\n\r\n  const on_toggle_toggled = () => {\r\n\r\n    const newPermission = state.user.permission === 'moderator' ? 'user' : 'moderator'\r\n    setState({\r\n      ...state,\r\n      user: {\r\n        ...state.user,\r\n        permission: newPermission,\r\n      }\r\n    })\r\n\r\n    JN.put(user, `admin/${state.user.username}/permission`, { new_permission: newPermission },\r\n      () => {\r\n        props.userUpdate({\r\n          ...props.user,\r\n          permission: newPermission,\r\n        })\r\n      })\r\n  }\r\n\r\n  const on_passwordEditDlg_close = () => {\r\n    setState({\r\n      ...state,\r\n      is_passwordEditDlg_open: false,\r\n    })\r\n  }\r\n\r\n  const on_changePassword_click = e => {\r\n    e.preventDefault()\r\n    setState({\r\n      ...state,\r\n      is_passwordEditDlg_open: true,\r\n    })\r\n  }\r\n\r\n  const on_friends_toggled = () => {\r\n    let isFriend = state.user.is_friend\r\n    setState({ ...state, user: { ...state.user, is_friend: !isFriend } })\r\n    if (isFriend) {\r\n      JN.delete(user, 'user/friends', { friend_username: props.user.username }, null,\r\n        () => {\r\n          setState({ ...state, user: { ...state.user, is_friend: isFriend } })\r\n        })\r\n    }\r\n    else {\r\n      JN.post(user, 'user/friends', { friend_username: props.user.username }, null,\r\n        () => {\r\n          setState({ ...state, user: { ...state.user, is_friend: isFriend } })\r\n        })\r\n    }\r\n  }\r\n\r\n  //ჩათში ოთახის შექმნა\r\n  const openChat = username => {\r\n\r\n    JN.post(user, 'chat/private_room', { user1: user.username, user2: username },\r\n      (data) => {\r\n        openChatRoom(data.room, username)\r\n      },\r\n      (error) => {\r\n        openChatRoom(error.data.room, username)\r\n      });\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <SForm onSubmit={on_submit}>\r\n\r\n        <div>\r\n          <div style={{ position: 'relative', width: '100%', display: 'flex', justifyContent: 'center' }}>\r\n\r\n            {/* შემოსულია თუ არას აღმნიშვნელი */}\r\n            {state.user.online &&\r\n              <div style={{ position: 'absolute', left: -8, top: 2, pointerEvents: 'none' }}>\r\n                <ChatButton><FaCircle size='12' color=\"var(--color_primary)\" />&nbsp;შემოსულია</ChatButton>\r\n              </div>\r\n            }\r\n\r\n            {/* ჩათი */}\r\n            {user && state.user.username !== user.username &&\r\n              <div style={{ position: 'absolute', right: 0 }}>\r\n                <ChatButton onClick={(e) => { e.preventDefault(); openChat(state.user.username) }}>მიწერა&nbsp;<FaComment size='20' /></ChatButton>\r\n              </div>\r\n            }\r\n\r\n            {/* დიაგრამა */}\r\n            {props.user.attempt > 0 ? <div style={{ textAlign: 'left', margin: 'auto' }}>\r\n              <Chart\r\n                options={options}\r\n                series={[props.user.accepted, props.user.attempt - props.user.accepted]}\r\n                type=\"pie\"\r\n                width=\"200\"\r\n              />\r\n            </div>\r\n              :\r\n              <div style={{ marginTop: 50 }}>\r\n\r\n              </div>\r\n            }\r\n          </div>\r\n\r\n          {/* <Grid columns=\"2\" gap=\"5px\"> */}\r\n          <Input required disabled={!state.is_current_user} name=\"name\" title=\"სახელი\" value={state.user.name} onChange={on_text_changed} />\r\n          <Input required disabled={!state.is_current_user} name=\"surname\" title=\"გვარი\" value={state.user.surname} onChange={on_text_changed} />\r\n          {/* </Grid> */}\r\n          {state.user.email && <Input disabled name=\"email\" title=\"ფოსტა\" value={state.user.email} onChange={on_text_changed} />}\r\n          <ContainerFooter>\r\n            {state.is_current_user &&\r\n              <FooterDiv>\r\n                <Button type=\"button\" flat onClick={on_changePassword_click}>პაროლის შეცვლა</Button>\r\n                <Button type=\"submit\" disabled={state.is_uploading}>{state.is_uploading ? 'შენახვა..' : 'შენახვა'}</Button>\r\n              </FooterDiv>\r\n            }\r\n          </ContainerFooter>\r\n        </div>\r\n        {/* <Grid columns=\"3\" gap=\"5px\">\r\n        <Input bold color={theme.green} disabled={true} name=\"email\" title=\"გატარებული\" value={user.accepted} />\r\n        <Input bold color={theme.red} disabled={true} name=\"email\" title=\"ჩაჭრილი\" value={user.attempt - user.accepted} />\r\n        <Input bold color={theme.gray} disabled={true} name=\"email\" title=\"სულ\" value={user.attempt} />\r\n      </Grid> */}\r\n        {user && user.username !== state.user.username &&\r\n          <div style={{ marginBottom: '25px', width: '100%', display: 'flex', justifyContent: 'space-between' }}>\r\n            {(user.permission === 'admin' && user.username !== state.user.username) ?\r\n              <Toggle\r\n                right\r\n                width=\"135px\"\r\n                title=\"თანაშემწე\"\r\n                toggled={state.user.permission === 'moderator'}\r\n                setToggled={on_toggle_toggled}\r\n              /> : <span></span>}\r\n\r\n            <Toggle\r\n              right\r\n              width=\"130px\"\r\n              title=\"მეგობარი\"\r\n              toggled={state.user.is_friend}\r\n              setToggled={on_friends_toggled}\r\n            />\r\n          </div>\r\n        }\r\n      </SForm>\r\n      {state.is_passwordEditDlg_open && <PasswordEditDlg isOpen={state.is_passwordEditDlg_open} close={on_passwordEditDlg_close} />}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Info","import React, { useState, useEffect, useContext, useRef } from 'react'\r\nimport styled, { css } from 'styled-components'\r\nimport { theme } from 'Themes'\r\nimport JN from 'JN'\r\nimport SubmissionPreviewDlg from 'pages/submissions/SubmissionPreviewDlg';\r\nimport { Get_Number } from 'Global_Functions'\r\nimport LoadingSvg from 'components/LoadingSvg';\r\nimport {Link, NavLink } from 'react-router-dom'\r\nimport { MdKeyboardArrowLeft, MdKeyboardArrowRight, MdAccessTime, MdMemory } from 'react-icons/md';\r\nimport { Get_PaginationArray, Convert_date_to_string } from 'Global_Functions'\r\nimport { MessageBoxContext } from 'contexts/MessageBoxContext'\r\nimport { UserContext } from 'contexts/UserContext'\r\nimport H3 from 'controls/H3';\r\nimport B from 'controls/B';\r\nimport BoldA from 'controls/BoldA';\r\nimport PaginationContainer from 'controls/pagination/PaginationContainer';\r\n\r\nconst Section = styled.section `\r\n  text-align: left;\r\n  margin-top: 50px;\r\n  \r\n  @media (max-width: ${theme.mobileSize}) {\r\n    & {\r\n      margin-top: 50px;\r\n      margin-left: 5px;\r\n      margin-right: 5px;\r\n    }\r\n    h3 {\r\n    margin-left: 5px;\r\n  }\r\n  }\r\n`\r\n\r\nconst MainDiv = styled.section `\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin: auto;\r\n  margin-top: 0;\r\n  border-radius: 8px;\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n  overflow: auto;\r\n  max-height: calc(100vh - 180px);\r\n  overflow: auto;\r\n\r\n  @media (max-width: ${theme.mobileSize}) {\r\n    & {\r\n      margin-left: 5px;\r\n      padding-left: 0px;\r\n      padding-right: 10px;\r\n      max-height: none;\r\n    }\r\n  }\r\n`\r\n\r\nconst Submission = styled.div `\r\n  -webkit-touch-callout: none; /* iOS Safari */\r\n    -webkit-user-select: none; /* Safari */\r\n     -khtml-user-select: none; /* Konqueror HTML */\r\n       -moz-user-select: none; /* Old versions of Firefox */\r\n        -ms-user-select: none; /* Internet Explorer/Edge */\r\n            user-select: none; /* Non-prefixed version, currently\r\n                                  supported by Chrome, Opera and Firefox */\r\n\r\n  box-shadow: 1px 2px 5px rgba(0, 0, 0, 0.2);\r\n  width: 100%;\r\n  background-color: var(--color_b2);\r\n  padding: 12px;\r\n  padding-top: 8px;\r\n  padding-bottom: 10px;\r\n  margin-bottom: 10px;\r\n  &:last-child {\r\n    margin-bottom: 5px;\r\n  }\r\n  border-radius: 5px;\r\n  text-decoration: none;\r\n  color: var(--color_c2);\r\n  \r\n  border: 3px solid transparent;\r\n\r\n  &:hover {\r\n    transition: border ease 250ms;\r\n    border: 3px solid var(--color_primary);\r\n  }\r\n\r\n  cursor: pointer;\r\n  * {\r\n    cursor: pointer;\r\n  }\r\n`\r\n\r\nconst Success = styled.span `\r\n  color: var(--color_c2);\r\n\r\n  ${props => props.code === 0 && css`\r\n    color: var(--color_green);\r\n  `}\r\n\r\n  ${props => props.code === 1 && css`\r\n    color: var(--color_red);\r\n  `}\r\n`\r\n\r\nconst Submissions = props => {\r\n  const { user } = useContext(UserContext)\r\n  const { match } = props\r\n  const { toast } = useContext(MessageBoxContext)\r\n  const refStart = useRef(null);\r\n\r\n  const [state, setState] = useState({\r\n    submissions: [],\r\n    isLoading: true,\r\n    open_submission: false,\r\n    opened_submission_id: -1,\r\n    pagination_pages: {},\r\n  })\r\n\r\n  useEffect(() => {\r\n    setState({\r\n      ...state,\r\n      isLoading: true,\r\n    })\r\n\r\n    JN.get(user, `submissions/${match.params.userName}/${match.params.page ? match.params.page : 1}`, {},\r\n    (data) => {\r\n\r\n      if (refStart.current) {\r\n\r\n        let mobileWidth = theme.mobileSize;\r\n        mobileWidth.slice(0, -2);\r\n\r\n        if (window.innerWidth <= parseInt(mobileWidth)) {\r\n          window.scrollTo(0, refStart.current.offsetTop);\r\n        }\r\n        else {\r\n          refStart.current.scrollTop = 0;\r\n        }\r\n      }\r\n\r\n      setState({\r\n        ...state,\r\n        submissions: data.submissions,\r\n        isLoading: false,\r\n        pagination: {current: match.params.page ? match.params.page : 1, total: data.page_number}\r\n      })\r\n    },\r\n    (error) => {\r\n      toast(error.message, 'error')\r\n      setState({...state, isLoading: false})\r\n    })\r\n  }, [match.url])\r\n\r\n  const on_submition_clicked = id => e => {\r\n    setState({\r\n      ...state,\r\n      open_submission: true,\r\n      opened_submission_id: id,\r\n    })\r\n  }\r\n\r\n  const on_submissionsPreviewDlg_close = () => {\r\n    setState({\r\n      ...state,\r\n      open_submission: false,\r\n    })\r\n  }\r\n\r\n  if (!state.submissions.length) {\r\n    return (\r\n      <div style={{margin: 'auto'}}>\r\n        {/* <LoadingSvg /> */}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n\r\n    <Section>\r\n      <H3>ანატვირთები</H3>\r\n      <MainDiv ref={refStart}>\r\n        {state.submissions.map((submission, index) => \r\n          <Submission key={submission.id} onClick={on_submition_clicked(submission.id)}>\r\n            <div style={{marginBottom: 5, display: 'flex', justifyContent: 'space-between'}}>\r\n              <span>{submission.id} - <BoldA to={`/problem/${submission.problem_id}`}>{submission.problem_id}. {submission.problem_title}</BoldA></span>\r\n              <span style={{color: 'var(--color_c3)', fontSize: 14}}>{submission.language}</span>\r\n            </div>\r\n            <div style={{marginBottom: 5, display: 'flex', justifyContent: 'space-between'}}>\r\n              <Success code={submission.verdict_code}>{submission.verdict_ge}</Success>\r\n              <div style={{display: 'flex', justifyContent: 'center', alignItems: 'center'}}>\r\n                {submission.time} <span style={{color: 'var(--color_c3)', fontSize: 14, marginLeft: 3}}>მწ</span>\r\n              </div>\r\n            </div>\r\n            <div style={{display: 'flex', justifyContent: 'space-between'}}>\r\n              <span style={{color: 'var(--color_c3)', fontSize: 14}}>{Convert_date_to_string(submission.datetime)}</span>\r\n              <div style={{display: 'flex', justifyContent: 'center', alignItems: 'center'}}>\r\n                {submission.memory} <span style={{color: 'var(--color_c3)', fontSize: 14, marginLeft: 3}}>კბ</span>\r\n              </div>\r\n            </div>\r\n          </Submission>\r\n        )}\r\n      </MainDiv>\r\n\r\n      <div style={{paddingLeft: 5, paddingRight: 5, marginTop: 15}}>\r\n        <PaginationContainer noBackground isLoading={state.isLoading} to={`/profile/${match.params.userName}/:page`} pagination={state.pagination} />\r\n      </div>\r\n\r\n    \r\n      \r\n      {state.open_submission && \r\n         <SubmissionPreviewDlg id={state.opened_submission_id} close={on_submissionsPreviewDlg_close} />\r\n       }\r\n    </Section>\r\n  )\r\n}\r\n\r\nexport default Submissions\r\n","import React, { useState } from 'react'\r\nimport Toggle from 'controls/Toggle'\r\nimport styled from 'styled-components'\r\nimport { theme } from 'Themes'\r\nimport Button from 'controls/Button'\r\nimport { MdAdd } from 'react-icons/md'\r\n\r\nconst SButton = styled.button `\r\n  position: relative;\r\n  font-family: ${theme.fontCaps};\r\n  font-size: 14px;\r\n  cursor: pointer;\r\n  padding: .5em 1em;\r\n  padding-left: 10px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border: none;\r\n  outline: none;\r\n  background-color: ${theme.green};\r\n  color: white;\r\n  border-radius: 5px;\r\n\r\n  &::after {\r\n    content: '';\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    background-color: rgba(255, 255, 255, 0.15);\r\n    \r\n    transition: opacity ease 250ms;\r\n    opacity: 0;\r\n  }\r\n\r\n  &:hover {\r\n      /* color: red; */\r\n      &::after {\r\n        opacity: 1;\r\n      }\r\n  }\r\n`\r\n\r\nconst SContainer = styled.div `\r\n  width: 450px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 25px;\r\n  padding-top: 25px;\r\n  /* border: 1px solid ${theme.gray}; */\r\n  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.4);\r\n  margin: auto;\r\n  \r\n  background-color: #ffffff;\r\n  /* box-shadow:  0 0 3px #b8b8b8; */\r\n  border-radius: 8px;\r\n`\r\n\r\nconst SHeader = styled.div `\r\n  display: flex;\r\n  margin-bottom: 10px;\r\n`\r\n\r\nconst SToggle = styled.div `\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding: 8px;\r\n  border: 1px solid transparent;\r\n  border-radius: 5px;\r\n\r\n  &:nth-child(even) {\r\n    background-color: #fafafa;\r\n  }\r\n`\r\n\r\nconst Permissions = props => {\r\n\r\n  return (\r\n    <SContainer>\r\n      <span style={{color: theme.red, fontSize: '14px', marginBottom: '15px'}}>სატესტოა. არაფელი არმუშაობს. თუ დააჭერთ თოგლებს დაიქრეშება :3</span>\r\n      <SHeader>\r\n        <SButton backgroundColor=\"green\"><MdAdd color=\"white\" size=\"22\" /> დამატება</SButton>\r\n      </SHeader>\r\n      <SToggle><Toggle title=\"ამოცანის დამატება\" right /></SToggle>\r\n      <SToggle><Toggle title=\"ამოცანის რედაქტირება\" right /></SToggle>\r\n      <SToggle><Toggle title=\"ამოცანის წაშლა\" right /></SToggle>\r\n      <SToggle><Toggle title=\"ამოცანის გატარება\" right /></SToggle>\r\n      <SToggle><Toggle title=\"ამოცანის დამატება\" right /></SToggle>\r\n      <SToggle><Toggle title=\"ამოცანის რედაქტირება\" right/></SToggle>\r\n      <SToggle><Toggle title=\"ამოცანის წაშლა\" right /></SToggle>\r\n      <SToggle><Toggle title=\"ამოცანის გატარება\" right /></SToggle>\r\n      <SToggle><Toggle title=\"ამოცანის დამატება\" right /></SToggle>\r\n      <SToggle><Toggle title=\"ამოცანის რედაქტირება\" right /></SToggle>\r\n      <SToggle><Toggle title=\"ამოცანის წაშლა\" right /></SToggle>\r\n      <SToggle><Toggle title=\"ამოცანის გატარება\" right /></SToggle>\r\n    </SContainer>\r\n  )\r\n}\r\n\r\nexport default Permissions","import React, { useState, useEffect, useContext } from 'react'\r\nimport { UserContext } from 'contexts/UserContext'\r\nimport { GlobalContext } from 'contexts/GlobalContext'\r\nimport JN from 'JN'\r\nimport styled from 'styled-components'\r\nimport { theme } from 'Themes'\r\nimport { Link } from 'react-router-dom'\r\nimport H3 from 'controls/H3'\r\nimport B from 'controls/B'\r\nimport { FaComment } from 'react-icons/fa'\r\n\r\nconst MainDiv = styled.section `\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin: auto;\r\n  margin-top: 0;\r\n  border-radius: 8px;\r\n  max-height: 607px;\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n  overflow: auto;\r\n\r\n  @media (max-width: ${theme.mobileSize}) {\r\n    & {\r\n      margin-left: 5px;\r\n      padding-left: 0px;\r\n      padding-right: 10px;\r\n      max-height: 472px;\r\n    }\r\n  }\r\n`\r\n\r\nconst Section = styled.section `\r\n  text-align: left;\r\n  h3 {\r\n    margin-left: 5px;\r\n  }\r\n\r\n  @media (max-width: ${theme.mobileSize}) {\r\n    & {\r\n      margin-top: 50px;\r\n      margin-left: 5px;\r\n      margin-right: 5px;\r\n    }\r\n  }\r\n`\r\n\r\nconst Table_A = styled(Link) `\r\n  box-shadow: 1px 2px 5px rgba(0, 0, 0, 0.2);\r\n  background-color: var(--color_b2);\r\n  padding: 25px;\r\n  padding-top: 16px;\r\n  padding-bottom: 16px;\r\n  padding-right: 5px;\r\n  margin-bottom: 10px;\r\n  &:last-child {\r\n    margin-bottom: 5px;\r\n  }\r\n  border-radius: 5px;\r\n  text-decoration: none;\r\n  color: var(--color_c2);\r\n\r\n  display: flex;\r\n  justify-content: space-between;\r\n\r\n  border: 3px solid transparent;\r\n\r\n  &:hover {\r\n    transition: border ease 250ms;\r\n    border: 3px solid var(--color_primary);\r\n  }\r\n`\r\n\r\nconst ChatButton = styled.button `\r\n  border: none;\r\n  outline: none;\r\n  background: none;\r\n  cursor: pointer;\r\n  color: var(--color_c3);\r\n\r\n  &:hover {\r\n    transition: color ease 250ms;\r\n    color: var(--color_c1);\r\n  }\r\n`\r\n\r\nconst TabFriends = props => {\r\n  const { match } = props\r\n  const { user, refreshGlobalState }  = useContext(UserContext)\r\n  const { openChatRoom } = useContext(GlobalContext);\r\n\r\n  const [friends, setFriends] = useState([])\r\n\r\n  useEffect(() => {\r\n\r\n  JN.get(user, 'user/friends', {},\r\n    (data) => {\r\n      setFriends(data.friends)\r\n    },\r\n    (error) => {\r\n      alert(error)\r\n    }\r\n  )\r\n\r\n  }, [])\r\n\r\n\r\n  //ჩათში ოთახის შექმნა\r\n  const openChat = username => {\r\n\r\n    JN.post(user, 'chat/private_room', {user1: user.username, user2: username},\r\n    (data) => {\r\n      openChatRoom(data.room, username)\r\n    },\r\n    (error) => {\r\n      openChatRoom(error.data.room, username)\r\n    });\r\n  }\r\n\r\n\r\n  if (!user || !friends.length) {\r\n    return (<div></div>)\r\n  }\r\n\r\n  return (\r\n    <Section>\r\n      <H3>მეგობრები ({friends.length})</H3>\r\n      <MainDiv>\r\n        {friends.map((friend, index) =>\r\n          <Table_A key={friend.username} to={`/profile/${friend.username}`}>\r\n            <div style={{display: 'flex', flexDirection: 'column', marginRight: 5}}>\r\n              <div><B>{friend.username}</B></div>\r\n              <div>{friend.name} {friend.surname}</div>\r\n            </div>\r\n            <ChatButton onClick={(e) => {e.preventDefault(); openChat(friend.username)}}><FaComment size=\"20\" /></ChatButton>\r\n          </Table_A>\r\n        )}\r\n      </MainDiv>\r\n    </Section>\r\n  )\r\n}\r\n\r\nexport default TabFriends","import React, { useState, useEffect, useContext } from 'react'\r\nimport { BrowserRouter as Router, Switch, Route, Link, NavLink, Redirect } from 'react-router-dom'\r\nimport LoadingSvg from 'components/LoadingSvg'\r\nimport Container from 'controls/Container';\r\nimport Avatar from './components/Avatar';\r\nimport page_404 from '../../page_404'\r\nimport Info from './Info'\r\nimport A from 'controls/A'\r\nimport styled from 'styled-components'\r\nimport { theme } from 'Themes'\r\nimport Submissions from './Submissions';\r\nimport Toggle from 'controls/Toggle';\r\nimport Permissions from 'pages/users/profile/Permissions';\r\nimport ContainerFooter from 'controls/ContainersFooter';\r\nimport { UserContext } from 'contexts/UserContext'\r\nimport TabFriends from './TabFriends';\r\nimport JN from 'JN'\r\nimport H3 from 'controls/H3';\r\n\r\nconst MDiv = styled.div `\r\n  position: relative;\r\n  max-width: 500px;\r\n  margin: auto;\r\n\r\n  @media (max-width: ${theme.mobileSize}) {\r\n    & {\r\n      width: 100%;\r\n    }\r\n  }\r\n`\r\n\r\nconst FriendsContainer = styled.div `\r\n  position: absolute;\r\n  right: -290px;\r\n  top: -53px;\r\n\r\n  @media (max-width: ${theme.mobileSize}) {\r\n    & {\r\n      position: relative;\r\n      right: 0;\r\n      top: 0;\r\n    }\r\n  }\r\n`\r\n\r\nconst Profile_Nav = styled.div `\r\n  width: 200px;\r\n  max-width: 200px;\r\n  min-width: 200px;\r\n  /* border: 1px solid ${theme.primary}; */\r\n  border-left: none;\r\n  border-bottom: none;\r\n  margin-left: -15px;\r\n  margin-right: 15px;\r\n  padding-left: 15px;\r\n  padding-top: 25px;\r\n  box-shadow: 1px 1px 5px rgba(0, 0, 0, 0.4);\r\n  background: var(--color_b11);\r\n  border-radius: 8px;\r\n  border-bottom-left-radius: 0;\r\n  border-top-left-radius: 0;\r\n  /* margin-right: 50px; */\r\n`\r\n\r\nconst Tab_Container = styled.div `\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-top: 50px;\r\n  margin-bottom: 50px;\r\n`\r\n\r\nconst Tab_Action = styled(NavLink) `\r\n  text-decoration: none;\r\n  border: none;\r\n  font-size: 15px;\r\n  font-family: ${theme.fontCaps};\r\n  padding: .8em 1.5em;\r\n  background-color: transparent;\r\n  outline: none;\r\n  border-top-left-radius: 5px;\r\n  border-bottom-left-radius: 5px;\r\n  color: var(--color_c2);\r\n  cursor: pointer;\r\n\r\n  &:disabled {\r\n    background: none;\r\n    color: rgba(0, 0, 0, 0.4);\r\n  }\r\n`\r\n\r\nconst Profile_page = props => {\r\n  const {match, history} = props\r\n  \r\n  const { user } = useContext(UserContext)\r\n\r\n  const [state, setState] = useState({\r\n    user: {\r\n      username: match.params.userName,\r\n      name: '',\r\n      surname: '',\r\n      email: '',\r\n      accepted: 5,\r\n      attempt: 7,\r\n      permission: '',\r\n      online: false,\r\n    },\r\n    // is_loading: user.username !== match.params.userName,\r\n    is_loading: true,\r\n    is_fetching: false,\r\n  })\r\n\r\n  const [permission, setPermission] = useState('მომხმარებელი')\r\n\r\n  useEffect(() => {\r\n    if (state.is_fetching) {\r\n      return\r\n    }\r\n\r\n    setState({...state, is_loading: true, is_fetching: true})\r\n\r\n    document.title = `${match.params.userName}`;\r\n    JN.get(user, `profile/${match.params.userName}`, {},\r\n    (data) => {\r\n      setState({\r\n        ...state,\r\n        user: {username: match.params.userName, ...data},\r\n        is_loading: false,\r\n        is_fetching: false,\r\n      })\r\n    },\r\n    (error) => {\r\n\r\n      if (error.status === 404) {\r\n        history.push('/404')\r\n        return\r\n      }\r\n      setState({\r\n        ...state,\r\n        is_loading: false,\r\n        is_fetching: false,\r\n      })\r\n    })\r\n\r\n  }, [match.params.userName])\r\n\r\n  const on_user_update = updatedUser => {\r\n\r\n    setState({\r\n      ...state,\r\n      user: updatedUser,\r\n    })\r\n  }\r\n \r\n  const set_toggled = () => {\r\n    setPermission(permission === 'მოდერატორი' ? 'მომხმარებელი' : 'მოდერატორი')\r\n  }\r\n\r\n  const on_update_permission = updatedPermission => {\r\n    setPermission(updatedPermission)\r\n  }\r\n\r\n  if (!state.user || state.is_loading) {\r\n    return (\r\n      <Container>\r\n        <div style={{margin: 'auto'}}><LoadingSvg /></div>\r\n      </Container>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <MDiv>\r\n        <div style={{display: 'flex'}}>\r\n          <Info user={state.user} userUpdate={on_user_update} />\r\n        </div>\r\n        \r\n        <FriendsContainer>\r\n          {user && user.username === match.params.userName &&\r\n            <TabFriends />\r\n          }\r\n        </FriendsContainer>\r\n\r\n        <Submissions match={match} />\r\n\r\n      </MDiv>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Profile_page","import React, { useState, useEffect, useContext} from 'react'\r\nimport JN from 'JN'\r\nimport Container from 'controls/Container'\r\nimport LoadingSvg from 'components/LoadingSvg'\r\nimport { Get_PaginationArray, Get_Number, Convert_date_to_string } from 'Global_Functions'\r\nimport { MdMemory, MdAccessTime, MdKeyboardArrowRight, MdKeyboardArrowLeft } from 'react-icons/md'\r\nimport {Link, NavLink } from 'react-router-dom'\r\nimport styled, { css } from 'styled-components'\r\nimport { theme } from 'Themes'\r\nimport SubmissionPreviewDlg from 'pages/submissions/SubmissionPreviewDlg';\r\nimport Table, { Th, Td, Table_A } from 'controls/Table'\r\nimport PaginationContainer from 'controls/pagination/PaginationContainer'\r\nimport { UserContext } from 'contexts/UserContext'\r\n\r\nconst MDiv = styled.div `\r\n  padding: 56px;\r\n  padding-top: -0px;\r\n  margin: auto;\r\n  max-width: 1366px;\r\n  @media (max-width: ${theme.mobileSize}) {\r\n    padding: 0;\r\n  }\r\n`\r\n\r\nconst TableContainer = styled.div `\r\n  box-shadow: 0 6px 16px 0 rgba(0,0,0,.2);\r\n  margin-top: 45px;\r\n  border-radius: 8px;\r\n  @media (max-width: ${theme.mobileSize}) {\r\n    padding: 0;\r\n  }\r\n`\r\n\r\nconst Success = styled.span `\r\n\r\n  ${props => props.code === 0 && css`\r\n    color: var(--color_green);\r\n  `}\r\n\r\n  ${props => props.code === 1 && css`\r\n    color: var(--color_red);\r\n  `}\r\n`\r\n\r\n\r\nconst Submissions_Page = props => {\r\n  const { user } = useContext(UserContext)\r\n  const { match } = props\r\n\r\n  const [state, setState] = useState({\r\n    submissions: [],\r\n    problem_name: '',\r\n    is_loading: true,\r\n    open_submission: false,\r\n    opened_submission_id: -1,\r\n    pagination: {current: 0, total: 0},\r\n  })\r\n\r\n  useEffect(() => {\r\n    window.scroll(0, 0);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    document.title = `ატვირთულები გვ. ${match.params.page}`;\r\n    setState({...state, is_loading: true});\r\n    JN.get(user, match.params.id === '0' ? `submissions/${match.params.page}` : `problemsubmissions/${match.params.id}/${match.params.page}`, {},\r\n    (data) => {\r\n      let listSubmissions = data.submissions\r\n      let problem_name\r\n\r\n      if (listSubmissions.length) {\r\n        problem_name = listSubmissions[0].problem_title\r\n      }\r\n      window.scroll(0, 0);\r\n      setState({\r\n        ...state,\r\n        submissions: listSubmissions,\r\n        is_loading: false,\r\n        pagination: {current: match.params.page, total: data.page_number},\r\n        problem_name: problem_name,\r\n      })\r\n    },\r\n    () => {\r\n      setState({\r\n        ...state,\r\n        is_loading: false,\r\n      })\r\n    })\r\n  }, [match.url])\r\n\r\n  if (state.is_loading && state.submissions.length === 0) {\r\n    return (\r\n      <Container>\r\n        <div style={{margin: 'auto'}}><LoadingSvg /></div>\r\n      </Container>\r\n    )\r\n  }\r\n\r\n  const on_submition_clicked = id => e => {\r\n    e.preventDefault()\r\n    setState({\r\n      ...state,\r\n      open_submission: true,\r\n      opened_submission_id: id,\r\n    })\r\n  }\r\n\r\n  const on_submissionsPreviewDlg_close = () => {\r\n    setState({\r\n      ...state,\r\n      open_submission: false,\r\n    })\r\n  }\r\n\r\n  return (\r\n    <MDiv>\r\n      <TableContainer>\r\n      <Table count={state.pagination.total > 1}>\r\n        <thead></thead>\r\n        <tbody>\r\n        {state.submissions.length === 0 ? <tr><th></th><th style={{align: 'left'}} colSpan=\"15\"></th></tr> :\r\n        <tr>\r\n          <th>№</th>\r\n          <Th left>მომხმარებელი</Th>\r\n          <Th autoSize left>ამოცანა</Th>\r\n          <Th left>სტატუსი</Th>\r\n          <th>თარიღი</th>\r\n          <th>ენა</th>\r\n          <th>\r\n            <div style={{display: 'flex', justifyContent: 'center', alignItems: 'center'}}>\r\n              <MdMemory size=\"16\" />&nbsp;კბ\r\n            </div>\r\n          </th>\r\n          <th>\r\n            <div style={{display: 'flex', justifyContent: 'center', alignItems: 'center'}}>\r\n              <MdAccessTime  size=\"16\" />&nbsp;მწ\r\n            </div>\r\n          </th>\r\n\r\n        </tr>}\r\n        {!state.is_loading && state.submissions.length === 0 ? \r\n          <tr><td colSpan=\"10\" style={{color: 'var(--color_c2)', fontSize: '14px', textAlign: 'left'}}>\r\n            ჯერ არავის უცდია <span style={{color: 'red'}}>!</span>\r\n          </td></tr>\r\n          : state.submissions.length === 0 && \r\n          <>\r\n            <tr><td colSpan=\"8\" style={{fontSize: '14px', textAlign: 'left'}}>იტვირთება..</td><td></td></tr>\r\n            <tr><td></td><td colSpan=\"8\" style={{color: '#666', fontSize: '14px', textAlign: 'left'}}></td></tr>\r\n            <tr><td></td><td colSpan=\"8\" style={{color: '#666', fontSize: '14px', textAlign: 'left'}}></td></tr>\r\n            <tr><td></td><td colSpan=\"8\" style={{color: '#666', fontSize: '14px', textAlign: 'left'}}></td></tr>\r\n            <tr><td></td><td colSpan=\"8\" style={{color: '#666', fontSize: '14px', textAlign: 'left'}}></td></tr>\r\n            <tr><td></td><td colSpan=\"8\" style={{color: '#666', fontSize: '14px', textAlign: 'left'}}></td></tr>\r\n            <tr><td></td><td colSpan=\"8\" style={{color: '#666', fontSize: '14px', textAlign: 'left'}}></td></tr>\r\n            <tr><td></td><td colSpan=\"8\" style={{color: '#666', fontSize: '14px', textAlign: 'left'}}></td></tr>\r\n            <tr><td></td><td colSpan=\"8\" style={{color: '#666', fontSize: '14px', textAlign: 'left'}}></td></tr>\r\n            <tr><td></td><td colSpan=\"8\" style={{color: '#666', fontSize: '14px', textAlign: 'left'}}></td></tr>\r\n            <tr><td></td><td colSpan=\"8\" style={{color: '#666', fontSize: '14px', textAlign: 'left'}}></td></tr>\r\n            <tr><td></td><td colSpan=\"8\" style={{color: '#666', fontSize: '14px', textAlign: 'left'}}></td></tr>\r\n            <tr><td></td><td colSpan=\"8\" style={{color: '#666', fontSize: '14px', textAlign: 'left'}}></td></tr>\r\n          </>\r\n        }\r\n        {state.submissions.map((submission, index) => \r\n          <tr style={{backgroundColor: user && submission.username === user.username ? 'var(--color_b22)' : 'var(--color_b2)'}} key={submission.id}>\r\n            <Td low=\"true\" onClick={on_submition_clicked(submission.id)}>{Get_Number(submission.id)}</Td>\r\n            <Td low=\"true\" left>\r\n              <Table_A to={`/profile/${submission.username}`}>\r\n                {submission.username}\r\n              </Table_A>\r\n            </Td>\r\n            <Td low=\"true\" left style={{maxWidth: 70, whiteSpace: 'normal'}}>\r\n              <Table_A to={`/problem/${submission.problem_id}`}>\r\n              {submission.problem_id}. {submission.problem_title}\r\n              </Table_A>\r\n            </Td>\r\n            <Td low=\"true\" left onClick={on_submition_clicked(submission.id)}><Success code={submission.verdict_code}>{submission.verdict_ge}</Success></Td>\r\n            <Td low=\"true\" onClick={on_submition_clicked(submission.id)}>{Convert_date_to_string(submission.datetime)}</Td>\r\n            <Td center low=\"true\" onClick={on_submition_clicked(submission.id)}>{submission.language}</Td>\r\n            <Td center low=\"true\" onClick={on_submition_clicked(submission.id)}>{submission.memory}</Td>\r\n            <Td center low=\"true\" onClick={on_submition_clicked(submission.id)}>{submission.time}</Td>\r\n            \r\n          </tr>\r\n          )\r\n        }\r\n        </tbody>\r\n      </Table>\r\n\r\n\r\n      <PaginationContainer isLoading={state.is_loading} to={`/submissions/${match.params.id}/:page`} pagination={state.pagination} />\r\n\r\n      {state.open_submission &&\r\n        <SubmissionPreviewDlg id={state.opened_submission_id} close={on_submissionsPreviewDlg_close} />\r\n      }\r\n      </TableContainer>\r\n    </MDiv>\r\n  )\r\n}\r\n\r\nexport default Submissions_Page","import React, { useState, useEffect, useContext, useRef } from 'react'\r\nimport { Code_Editor_Names } from 'Global_Functions'\r\nimport { UserContext } from 'contexts/UserContext'\r\nimport { Convert_date_to_string } from 'Global_Functions'\r\nimport { MdDateRange } from 'react-icons/md'\r\nimport CodeEditor from '../../components/CodeEditor'\r\nimport JN from 'JN'\r\n\r\nconst Submission_Page = props => {\r\n\tconst { user } = useContext(UserContext);\r\n\tconst { match } = props;\r\n\r\n\tconst [state, setState] = useState({\r\n    token: localStorage.getItem('access_token'),\r\n    submission: {language: 'c_cpp'},\r\n    is_loading: true,\r\n    is_contest_running: false,\r\n  });\r\n\r\n\tconst refStart = useRef(null);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (refStart.current) {\r\n\t\t\t// window.scrollTo(0, refStart.current.offsetTop);\r\n\t\t\twindow.scrollTo(0, 0);\r\n\t\t}\r\n\r\n    JN.get(user, `submission`, {id: match.params.id},\r\n    (data) => {\r\n      let language = Code_Editor_Names[data.language]\r\n// console.log(data)\r\n      setState({\r\n        ...state,\r\n        submission: {...data, language: language},\r\n        is_loading: false,\r\n      })\r\n    },\r\n    (error) => {\r\n      console.log(error)\r\n\r\n      setState({\r\n        ...state,\r\n        is_loading: false,\r\n        is_contest_running: error.status === 403,\r\n      })\r\n    })\r\n  }, [])\r\n\r\n\treturn (\r\n\t\t<div ref={refStart} style={{width: '100%'}}>\r\n\t\t\t<div style={{width: 1000, margin: 'auto',}}>\r\n\t\t\t\t<div style={{height: 12, textAlign: 'left'}}>\r\n\t\t\t\t\t{state.submission.datetime && Convert_date_to_string(state.submission.datetime)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<CodeEditor readOnly isPreview width=\"1000px\" height=\"1000px\" code={{value: state.submission.code, editorName: state.submission.language, theme: 'twilight'}}/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Submission_Page;","import React, { useState, useEffect, useContext} from 'react'\r\nimport { UserContext } from 'contexts/UserContext'\r\nimport { theme } from 'Themes'\r\nimport styled, { css } from 'styled-components'\r\nimport JN from 'JN'\r\nimport { MdAdd, MdEdit, MdDelete, MdEqualizer } from 'react-icons/md'\r\nimport { Link } from 'react-router-dom'\r\nimport { Get_Number, Convert_date_to_string, Get_contest_status, Get_dateDiff_toString } from 'Global_Functions'\r\nimport PaginationContainer from 'controls/pagination/PaginationContainer'\r\nimport CountDown from 'controls/CountDown'\r\nimport Button_Float from 'controls/Button_Float'\r\nimport TimeWidget from 'controls/TimeWidget'\r\nimport Checkbox from 'controls/Checkbox'\r\nimport { FaUser } from 'react-icons/fa'\r\nimport { GlobalContext } from 'contexts/GlobalContext'\r\nimport B from 'controls/B'\r\nimport BoldA from 'controls/BoldA'\r\n\r\nconst MainDiv = styled.div `\r\n  width: 100%;\r\n  border-radius: 8px;\r\n  max-width: 1200px;\r\n  margin: auto;\r\n  padding-left: 56px;\r\n  padding-right: 56px;\r\n  @media only screen and (max-width: ${theme.mobileSize}) {\r\n    padding: 0;\r\n  }\r\n`\r\n\r\nconst Table_A = styled(Link) `\r\n  font-size: 14px;\r\n  color: red;\r\n  text-decoration: none;\r\n  color: var(--color_c2);\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  /* width: 100%; */\r\n  height: 100%;\r\n\r\n\r\n  &:hover {\r\n    color: var(--color_link);\r\n  }\r\n`\r\n\r\nconst Table = styled.table `\r\n  border-collapse: collapse;\r\n  overflow: hidden;\r\n  margin-top: 15px;\r\n  width: 100%;\r\n  padding: 25px;\r\n  padding-top: 25px;\r\n  background-color: transparent;\r\n  border-radius: 8px;\r\n\r\n  ${props => props.count > 0 && css`\r\n    border-bottom-left-radius: 0;\r\n    border-bottom-right-radius: 0;\r\n  `}\r\n\r\n  tr {\r\n    height: 45px;\r\n    background-color: var(--color_b2);\r\n    border-bottom: 1px solid var(--color_b22);\r\n\r\n    &:hover {\r\n      /* background-color: rgba(255, 255, 255, 0.9); */\r\n    }\r\n\r\n    &:first-child {\r\n      color: var(--color_headerText);\r\n      background-color: var(--color_headerBackground);\r\n      height: 56px;\r\n      border-bottom: 0px solid #ddd;      \r\n    }\r\n  }\r\n\r\n  th {\r\n    padding: 8px;\r\n    padding-left: 15px;\r\n    padding-right: 15px;\r\n    font-weight: normal;\r\n    font-size: 14px;\r\n    /* color: var(--color_c2); */\r\n    font-family: ${theme.fontCaps};\r\n    /* white-space: nowrap; */\r\n\r\n    /* &:first-child {\r\n      padding-left: 20px;\r\n    } */\r\n\r\n    &:last-child {\r\n      padding-right: 20px;\r\n    }\r\n\r\n    &:nth-child(1) {\r\n      text-align: left;\r\n      /* width: 99%; */\r\n    }\r\n\r\n    &:nth-child(2) {\r\n      text-align: center;\r\n    }\r\n    \r\n    &:nth-child(3) {\r\n\r\n    }\r\n  }\r\n\r\n  td {\r\n    padding: 8px;\r\n    padding-left: 15px;\r\n    padding-right: 15px;\r\n    font-size: 14px;\r\n    /* white-space: nowrap; */\r\n    color: var(--color_c2);\r\n\r\n    /* &:nth-child(1) {\r\n      font-size: 14px;\r\n      text-align: center;\r\n      padding-left: 20px;\r\n    } */\r\n\r\n    &:nth-child(1) {\r\n      text-align: left;\r\n      padding: 0;\r\n\r\n      a {\r\n        padding-left: 15px;\r\n      }\r\n    }\r\n\r\n    &:nth-child(2) {\r\n      font-size: 14px;\r\n    }\r\n\r\n    &:nth-child(3),\r\n    &:nth-child(4),\r\n    &:nth-child(5),\r\n    &:nth-child(6),\r\n    &:nth-child(7),\r\n    &:nth-child(8),{\r\n      text-align: center;\r\n    } \r\n\r\n    &:nth-child(1) {\r\n      width: 99%;\r\n    }\r\n    &:nth-child(3) {\r\n      max-width: 150px;\r\n      min-width: 150px;\r\n      white-space: nowrap;\r\n    }\r\n\r\n    &:last-child {\r\n      padding-right: 20px;\r\n    }    \r\n  }\r\n\r\n  @media only screen and (max-width: ${theme.mobileSize}) {\r\n    tr {\r\n      padding: 12px;\r\n      &:first-child {\r\n        display: none;\r\n      }\r\n\r\n      min-height: 125px;\r\n\r\n      border-bottom-width: 8px;\r\n      &:last-child {\r\n        border-bottom-width: 0px;\r\n      }\r\n\r\n      height: inherit;\r\n      display: grid;\r\n      grid-template-columns: auto auto auto auto auto;\r\n      grid-template-rows: auto;\r\n      grid-template-areas: \r\n        \"title title title title status\"\r\n        \"startDate . . . edit\"\r\n        \"time . . . delete\"\r\n        \"registered . . . .\"\r\n        \"standing . . . .\"\r\n        \"participation participation participation participation participation\";\r\n    }\r\n\r\n    td {\r\n      margin: 0;\r\n      padding: 0px;\r\n\r\n      /* &:nth-child(1) {\r\n        grid-area: id;\r\n        display: none;\r\n      } */\r\n\r\n      a {\r\n        padding: 0;\r\n        margin: 0;\r\n      }\r\n\r\n      &:nth-child(1) {\r\n        grid-area: title;\r\n        margin-bottom: 8px;\r\n        a {\r\n          padding: 0;\r\n          margin: 0;\r\n        }\r\n      }\r\n    \r\n      &:nth-child(2) {\r\n        grid-area: status;\r\n        margin-top: -12px;\r\n        text-align: right;\r\n      }\r\n\r\n      &:nth-child(3) {\r\n        grid-area: startDate;\r\n        text-align: left;\r\n        \r\n      }\r\n\r\n      &:nth-child(4) {\r\n        grid-area: time;\r\n        text-align: left;\r\n      }\r\n\r\n      &:nth-child(5) {\r\n        grid-area: registered;\r\n      }\r\n\r\n      &:nth-child(6) {\r\n        grid-area: standing;\r\n      }\r\n\r\n      &:nth-child(7) {\r\n        grid-area: participation;\r\n        display: flex;\r\n        justify-content: center;\r\n        white-space: nowrap;\r\n        &::after {\r\n          content: 'მონაწილეობა';\r\n          font-size: 14px;\r\n        }\r\n      }\r\n\r\n      &:nth-child(8) {\r\n        grid-area: edit;\r\n        display: flex;\r\n        padding-right: 5px;\r\n        justify-content: flex-end;\r\n      }\r\n\r\n      &:nth-child(9) {\r\n        grid-area: delete;\r\n        display: flex;\r\n        justify-content: flex-end;\r\n        /* padding-right: -25px; */\r\n        margin-right: -20px;\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\n\r\nconst Contests = props => {\r\n\r\n  const { match } = props\r\n  const { tr }    = useContext(GlobalContext);\r\n  const { user }  = useContext(UserContext);\r\n\r\n  const [state, setState] = useState({\r\n    contests: [],\r\n    is_loading: true,\r\n    pagination: {current: 0, total: 0},\r\n  })\r\n\r\n  useEffect(() => {\r\n    on_refresh()\r\n  }, [match.url])\r\n\r\n  const on_refresh = () => {\r\n    setState({...state, is_loading: true})\r\n    document.title = `კონტესტები გვ. ${match.params.page}`;\r\n    JN.get(user, `contests/${match.params.page}`, {},\r\n    (data) => {\r\n      setState({\r\n        ...state,\r\n        contests: data.contests,\r\n        is_loading: false,\r\n        pagination: {current: match.params.page, total: data.page_number}\r\n      });\r\n    },\r\n    () => {\r\n      setState({...state, is_loading: false})\r\n    })\r\n  }\r\n\r\n  const on_contest_delete = id => e => {\r\n\r\n    e.preventDefault()\r\n    if (!window.confirm('ნამდვილად გსურთ წაშლა?!')) {\r\n      return\r\n    }\r\n\r\n    setState({\r\n      ...state,\r\n      isLoading: true,\r\n    })\r\n    JN.delete(user, 'admin/contest', {id: id}, () => {\r\n      setState({...state, isLoading: false})\r\n      on_refresh()\r\n    }, () => {\r\n      setState({...state, isLoading: false})\r\n    })\r\n  }\r\n\r\n  const on_registerToContest = contest => e => {\r\n    e.preventDefault()\r\n\r\n    setState({...state, contests: state.contests.map((c) => {return c.id !== contest.id ? c : {...c, registered: true, num_registered: c.num_registered + 1}})})\r\n\r\n    JN.post(user, `contest/${contest.id}/register`, {}, null, () => setState({...state, contests: state.contests.map((c) => {return c.id !== contest.id ? c : {...c, registered: false, num_registered: c.num_registered - 1}})}))\r\n  }\r\n\r\n  return (\r\n    <MainDiv>\r\n      <div style={{borderRadius: '8px', boxShadow: '0 6px 16px rgba(0, 0, 0, 0.2)'}}>\r\n      {user && user.permission === \"admin\" &&\r\n        <Button_Float to=\"/addcontest\"><MdAdd color=\"var(--color_green)\" size=\"22\" /></Button_Float>\r\n      }\r\n\r\n      {/* {state.is_loading &&\r\n        <Container width=\"250px\" height=\"5000px\"><div style={{marginBottom: '25px', display: 'flex', justifyContent: 'center', alignItems: 'center'}}><LoadingSvg /></div></Container>\r\n      } */}\r\n\r\n      {(1 || !state.is_loading && state.contests.length > 0) && <>\r\n        <Table count={state.pagination.total > 1 && !state.is_loading}>\r\n          <thead></thead>\r\n          <tbody>\r\n            {state.is_loading ? \r\n            <tr>\r\n              <th colSpan=\"9\"></th>\r\n            </tr>\r\n            :\r\n            <tr>\r\n              <th>{tr(\"დასახელება\")}</th>\r\n              <th>სტატუსი</th>\r\n              <th>დასაწყისი</th>\r\n              <th>ხანგძლივობა</th>\r\n              <th>x</th>\r\n              <th><MdEqualizer size=\"18\" /></th>\r\n              {user &&\r\n              <>\r\n                <th>მონაწილეობა</th>\r\n              </>\r\n              }\r\n              {user && user.permission === \"admin\" &&\r\n              <>\r\n                <th><MdEdit size=\"18\" /></th>\r\n                <th><MdDelete size=\"18\" /></th>\r\n              </>\r\n              }\r\n            </tr>\r\n            }\r\n\r\n            {!state.is_loading && !state.contests.length && \r\n              <tr><td colSpan=\"10\" style={{fontSize: '14px', textAlign: 'left'}}>\r\n                <span style={{paddingLeft: 12}}>კონტესტები არ მოიძებნა <span style={{color: 'var(--color_red)'}}>!</span></span>\r\n              </td></tr>\r\n            }\r\n\r\n            {state.is_loading && \r\n            <>\r\n              <tr><td colSpan=\"15\"></td></tr>\r\n              <tr><td colSpan=\"15\"></td></tr>\r\n              <tr><td colSpan=\"15\"></td></tr>\r\n              <tr><td colSpan=\"15\"></td></tr>\r\n              <tr><td colSpan=\"15\"></td></tr>\r\n              <tr><td colSpan=\"15\"></td></tr>\r\n              <tr><td colSpan=\"15\"></td></tr>\r\n              <tr><td colSpan=\"15\"></td></tr>\r\n              <tr><td colSpan=\"15\"></td></tr>\r\n              <tr><td colSpan=\"15\"></td></tr>\r\n              <tr><td colSpan=\"15\"></td></tr>\r\n              <tr><td colSpan=\"15\"></td></tr>\r\n              <tr><td colSpan=\"15\"></td></tr>\r\n              <tr><td colSpan=\"15\"></td></tr>\r\n              <tr><td colSpan=\"15\"></td></tr>\r\n           </>\r\n            }\r\n\r\n\r\n          {!state.is_loading && state.contests.map((contest, index) =>\r\n            <tr key={contest.id}>\r\n              <td><BoldA to={`/contest/${contest.id}`}>{contest.title}</BoldA></td>\r\n              <td>\r\n                <Table_A to={`/contest/${contest.id}`}><span style={{fontSize: '14px', color: Get_contest_status(contest.start_time, contest.end_time) === 0 ? 'var(--color_c2)' : Get_contest_status(contest.start_time, contest.end_time) === 1 ? 'var(--color_orange)' : 'var(--color_green)'}}>{Get_contest_status(contest.start_time, contest.end_time) === 0 ? 'დასრულებული' : Get_contest_status(contest.start_time, contest.end_time) === 1 ? 'მიმდინარე' : 'დაგეგმილი'}</span></Table_A>\r\n              </td>\r\n              <td>\r\n              <Table_A to={`/contest/${contest.id}`}>{Get_contest_status(contest.start_time, contest.end_time) === 2 ?\r\n              <> \r\n\r\n                {Get_dateDiff_toString('now', contest.start_time, false, true).days ?\r\n                  Convert_date_to_string(contest.start_time) : \r\n                  <>{contest.start_time && <CountDown to={contest.start_time} timeout={on_refresh} />}</>\r\n                }\r\n              </>\r\n              :\r\n              <>{Convert_date_to_string(contest.start_time)}</>\r\n              }</Table_A>\r\n              </td>\r\n              <td><TimeWidget time={Get_dateDiff_toString(contest.start_time, contest.end_time, false, true)}/></td>\r\n              <td style={{textAlign: 'left'}}>\r\n                <Table_A to={`/participants/${contest.id}/1`}>\r\n                  <span style={{marginRight: '3px'}}><FaUser size=\"14\" /></span>{contest.num_registered}\r\n                </Table_A>\r\n              </td>\r\n              <td>\r\n                <span style={{display: 'flex', alignItems: 'center'}}>\r\n                  {Get_contest_status(contest.start_time, contest.end_time) !== 2 && <Table_A to={`/contest/${contest.id}/standing`}><MdEqualizer color=\"var(--color_green)\" size=\"18\" /></Table_A>}\r\n                </span>\r\n              </td>\r\n              {user &&\r\n              <>\r\n                <td>\r\n                <span style={{display: 'flex', alignItems: 'center', justifyContent: 'center'}}>\r\n                  <Checkbox disabled={Get_contest_status(contest.start_time, contest.end_time) === 0} onClick={Get_contest_status(contest.start_time, contest.end_time) !== 0 && !contest.registered ? on_registerToContest(contest) : null} color=\"var(--color_green)\" checked={contest.registered} />\r\n                </span>\r\n                  {/* {!contest.registered ?\r\n                    Get_contest_status(contest.start_time, contest.end_time) !== 0 && <button style={{outline: 'none', borderRadius: '5px', padding: '4px', cursor: 'pointer', paddingLeft: '8px', paddingRight: '8px', backgroundColor: \"var(--color_primary)\", color: 'var(--color_headerText)', border: 'none', fontSize: '14px', fontFamily: theme.fontCaps}} onClick={on_registerToContest(contest)}>\r\n                      <>მონაწილეობა</>\r\n                    </button> */}\r\n                      {/* : <Checkbox title=\"მონაწილეობა\" checked={contest.registered} /> */}\r\n                      {/* <Table_A to={`/contest/${contest.id}`}>შესვლა</Table_A> */}\r\n                  {/* } */}\r\n                </td>\r\n              </>\r\n              }\r\n              {user && user.permission === \"admin\" &&\r\n              <>\r\n                <td>\r\n                  <span style={{display: 'flex', height: '100%', cursor: 'pointer', alignItems: 'center'}}>\r\n                    <Table_A to={`/editcontest/${contest.id}`}><MdEdit color=\"var(--color_orange)\" size=\"18\" /></Table_A>\r\n                  </span>  \r\n                </td>\r\n                <td>\r\n                  <button style={{display: 'flex', height: '100%', alignItems: 'center', cursor: 'pointer', border: 'none', background: 'none', outline: 'none'}} onClick={on_contest_delete(contest.id)}>\r\n                    <MdDelete color=\"var(--color_red)\" size=\"18\" />\r\n                  </button>\r\n                </td>\r\n              </>\r\n              }\r\n            </tr>\r\n            )}\r\n          </tbody>\r\n        </Table>\r\n\r\n        <PaginationContainer isLoading={state.is_loading} to={`/contests/:page`} pagination={state.pagination} />\r\n      </>}\r\n      </div>\r\n    </MainDiv>\r\n  )\r\n}\r\n\r\nexport default Contests","import React, { useState, useEffect, useContext } from 'react'\r\nimport { UserContext } from 'contexts/UserContext'\r\nimport JN from 'JN'\r\nimport ContainerFooter from 'controls/ContainersFooter'\r\nimport Input from 'controls/Input'\r\nimport Modal from 'components/Modal'\r\nimport Button from 'controls/Button'\r\nimport { MessageBoxContext } from 'contexts/MessageBoxContext'\r\n\r\nconst ProblemEditDlg = props => {\r\n  const { match } = props\r\n  const { user }  = useContext(UserContext)\r\n  const { toast } = useContext(MessageBoxContext)\r\n  const [state, setState] = useState({\r\n    problem: {isNew: true, title: '', point: 0},\r\n    isLoading: false,\r\n  })\r\n\r\n  useEffect(() => {\r\n    \r\n    const problem = props.problem ? props.problem : {problem_id: '', isNew: true, title: '', point: 0}\r\n    setState({\r\n      ...state,\r\n      problem: problem,\r\n    })\r\n  }, [props.problem]);\r\n\r\n  const on_change = e => {\r\n    setState({...state, problem: {...state.problem, [e.target.name]: e.target.value,}})\r\n  }\r\n\r\n  const submit = e => {\r\n    e.preventDefault()\r\n\r\n    setState({...state, isLoading: true,})\r\n    if (state.problem.isNew) {\r\n\r\n      JN.post(user, 'admin/contest/append', {\r\n        contest_id: props.contestId,\r\n        problem_id: state.problem.problem_id,\r\n        score: state.problem.score,\r\n      },\r\n      (data) => {\r\n        props.setState({\r\n          ...props.state,\r\n          problems: [...props.state.problems, {problem_id: state.problem.problem_id, score: state.problem.score, title: data.problem}],\r\n          is_problemEditDlg_visible: false,\r\n        })\r\n      },\r\n      (error) => {\r\n        if (error.status === 400) {\r\n          toast('ასეთი ამოცანა უკვე ჩამატებულია', 'error')\r\n        }\r\n        else if (error.status === 404) {\r\n          toast('ასეთი ამოცანა არ არსებობს', 'error')\r\n        }\r\n\r\n        setState({...state, isLoading: false,})\r\n      })\r\n    }\r\n    else {\r\n\r\n      JN.put(user, `admin/contest/append`, {\r\n        contest_id: props.contestId,\r\n        problem_id: state.problem.problem_id,\r\n        new_score: state.problem.score,\r\n      },\r\n      () => {\r\n        props.setState({\r\n          ...props.state,\r\n          problems: props.state.problems.map((p) => {\r\n            return p.problem_id !== state.problem.problem_id ? p : {...p, score: state.problem.score}\r\n          }),\r\n          is_problemEditDlg_visible: false,\r\n        })\r\n      },\r\n      (error) => {\r\n\r\n        if (error.status === 404) {\r\n          toast('ასეთი ამოცანა არ არსებობს', 'error')\r\n        }\r\n        setState({...state, isLoading: false,})\r\n      })\r\n    }\r\n  }\r\n\r\n  const setOpen = (isOpen) => {\r\n    if (state.isLoading) {\r\n      return\r\n    }\r\n    props.close(isOpen)\r\n  }\r\n\r\n  return (\r\n    <Modal width=\"450px\" title={state.problem.isNew ? \"ამოცანის ჩამატება\" : \"ამოცანის რედაქტირება\"} isOpen={props.isOpen} close={setOpen}>\r\n      <form onSubmit={submit}>\r\n        <Input disabled={!state.problem.isNew} required focus={state.problem.isNew} title=\"id\" name=\"problem_id\" value={state.problem.problem_id} onChange={on_change}/>\r\n        <Input required title=\"ქულა\" name=\"score\" value={state.problem.score} onChange={on_change}/>\r\n        <ContainerFooter>\r\n          <Button disabled={state.isLoading} backgroundColor=\"primary\">შენახვა</Button>\r\n        </ContainerFooter>\r\n      </form>\r\n    </Modal>\r\n  )\r\n}\r\n \r\nexport default ProblemEditDlg","import React, { useState, useEffect, useContext } from 'react'\r\nimport { UserContext } from 'contexts/UserContext'\r\nimport Button from 'controls/Button'\r\nimport ProblemEditDlg from './ProblemEditDlg'\r\nimport JN from 'JN'\r\nimport styled from 'styled-components'\r\nimport { MdEdit, MdDelete, MdAdd } from 'react-icons/md'\r\nimport LoadingSvg from 'components/LoadingSvg'\r\nimport { Get_Number } from 'Global_Functions'\r\nimport { Table_A } from 'controls/Table'\r\n\r\nconst Main = styled.div `\r\n\r\n  -webkit-touch-callout: none; /* iOS Safari */\r\n    -webkit-user-select: none; /* Safari */\r\n     -khtml-user-select: none; /* Konqueror HTML */\r\n       -moz-user-select: none; /* Old versions of Firefox */\r\n        -ms-user-select: none; /* Internet Explorer/Edge */\r\n            user-select: none; /* Non-prefixed version, currently\r\n                                  supported by Chrome, Opera and Firefox */\r\n`\r\n\r\nconst Header = styled.div `\r\n  text-align: left;\r\n  margin: auto;\r\n  margin-top: 2em;\r\n  overflow: hidden;\r\n`\r\n\r\nconst StyledButton = styled.button `\r\n  border: none;\r\n  outline: none;\r\n  background: none;\r\n  cursor: pointer;\r\n  opacity: 1;\r\n  border-radius: 50%;\r\n  width: 36px;\r\n  height: 36px;\r\n  margin-left: 3px;\r\n`\r\n\r\nconst Problem_table = styled.table `\r\n\r\n  -webkit-touch-callout: none; /* iOS Safari */\r\n    -webkit-user-select: none; /* Safari */\r\n     -khtml-user-select: none; /* Konqueror HTML */\r\n       -moz-user-select: none; /* Old versions of Firefox */\r\n        -ms-user-select: none; /* Internet Explorer/Edge */\r\n            user-select: none; /* Non-prefixed version, currently\r\n                                  supported by Chrome, Opera and Firefox */\r\n\r\n\r\n  margin: auto;\r\n  margin-top: 30px;\r\n  width: 100%;\r\n  /* min-width: 700px; */\r\n  /* max-height: 200px; */\r\n  /* overflow: auto; */\r\n  border-collapse: collapse;\r\n  font-size: 14px;\r\n\r\n\r\n  margin-bottom: 30px;\r\n\r\n  /* border: 1px solid transparent; */\r\n  border-radius: 8px;\r\n  border-top-right-radius: 0;\r\n  border-bottom-right-radius: 0;\r\n  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.4);\r\n  background-color: var(--color_b11);\r\n  color: var(--color_c2);\r\n  overflow: hidden;\r\n\r\n  * {\r\n    cursor: pointer;\r\n  }\r\n\r\n  tbody {\r\n    display: block;\r\n    overflow: auto;\r\n  }\r\n\r\n  tr {\r\n    width: 100%;\r\n    height: 50px;\r\n  }\r\n\r\n  tr:hover {\r\n    /* background-color: #f1f1f1; */\r\n  }\r\n\r\n  tr:first-child:hover {\r\n    background: none;\r\n  }\r\n\r\n  th {\r\n    color: red;\r\n    font-size: 14px;\r\n    font-weight: normal;\r\n    border: none;\r\n    color: var(--color_c2);\r\n    /* border-bottom: 1px solid var(--color_c3); */\r\n    padding: 5px;\r\n    height: 16px;\r\n    background-color: var(--color_b1);\r\n\r\n    &:nth-child(2) {\r\n      text-align: left;\r\n      padding-left: 15px;\r\n      width: 99%;\r\n    }\r\n\r\n    padding-left: 15px;\r\n    padding-right: 15px;\r\n    &:first-child {\r\n      padding-left: 15px;\r\n    }\r\n  }\r\n\r\n  td {\r\n    text-align: center;\r\n    padding: 7px;\r\n    color: var(--color_c2);\r\n    font-size: 14px;\r\n    background-color: var(--color_b11);\r\n    padding-left: 15px;\r\n    padding-right: 15px;\r\n    white-space: nowrap;\r\n\r\n    &:nth-child(2) {\r\n      text-align: left;\r\n    }\r\n  }\r\n`\r\n\r\nconst Problems = props => {\r\n\r\n  const { user } = useContext(UserContext)\r\n\r\n  const [state, setState] = useState({\r\n    problems: [],\r\n    editingProblem: null,\r\n    is_problemEditDlg_visible: false,\r\n    is_loading: true,\r\n  })\r\n\r\n  useEffect(() => {\r\n\r\n    setState({...state, is_loading: true,})\r\n\r\n    JN.get(user, 'admin/contest/append', {contest_id: props.id},\r\n    (data) => {\r\n      setState({\r\n        ...state,\r\n        problems: data.problems,\r\n        is_loading: false,\r\n      })\r\n    },\r\n    () => {\r\n      setState({...state, is_loading: false,})\r\n    })\r\n\r\n    // axios.get(`${Server.address}/admin/contest/append`, {\r\n    //   headers: {\r\n    //     Authorization: 'Bearer ' +  user.access_token\r\n    //   },\r\n    //   params: {\r\n    //     contest_id: props.id,\r\n    //   }\r\n    // })\r\n    // .then(response => {\r\n    //     console.log(response)\r\n    //     setState({\r\n    //       ...state,\r\n    //       problems: response.data.problems,\r\n    //       is_loading: false,\r\n    //     })\r\n    // })\r\n    // .catch(error => {\r\n    //     console.log(error)\r\n    //     setState({...state, is_loading: false,})\r\n        \r\n        \r\n    // })\r\n\r\n  }, [])\r\n\r\n  const on_btnAddProblem_clicked = e => {\r\n    setState({\r\n      ...state,\r\n      editingProblem: null,\r\n      is_problemEditDlg_visible: true,\r\n    })\r\n  }\r\n\r\n  const on_problem_edit = problem => e => {\r\n    e.preventDefault()\r\n\r\n    setState({\r\n      ...state,\r\n      editingProblem: problem,\r\n      is_problemEditDlg_visible: true,\r\n    })\r\n  }\r\n\r\n  const on_problem_remove = id => e => {\r\n    e.preventDefault()\r\n    if (!window.confirm('ნამდვილად გსურთ წაშლა?!')) {\r\n      return\r\n    }\r\n\r\n    setState({...state, problems: state.problems.filter((problem, index) => problem.problem_id !== id)})\r\n\r\n    JN.delete(user, 'admin/contest/append', {\r\n      contest_id: props.id,\r\n      problem_id: id,\r\n    })\r\n  }\r\n\r\n  const on_problemEditDlg_close = () => {\r\n    setState({...state, is_problemEditDlg_visible: false,})\r\n  }\r\n\r\n  return (\r\n    <Main>\r\n      {state.is_loading ? \r\n        <div style={{marginTop: '10px'}}>\r\n          <LoadingSvg />\r\n        </div>\r\n      :\r\n      <>\r\n        <Header>\r\n          <Button onClick={on_btnAddProblem_clicked} icon={<MdAdd size=\"22\" />}>ამოცანის ჩამატება</Button>\r\n        </Header>\r\n        \r\n        {state.problems.length > 0 && <Problem_table>\r\n          <thead></thead>\r\n          <tbody>\r\n            <tr>\r\n              <th>id</th>\r\n              <th>ამოცანა</th>\r\n              <th>ქულა</th>\r\n              {user && user.permission !== \"user\" &&\r\n              <>\r\n                <th><MdEdit size=\"18\" /></th>\r\n                <th><MdDelete size=\"18\" /></th>\r\n              </>\r\n              }\r\n            </tr>\r\n          {state.problems.map((problem, index) =>\r\n            <tr key={problem.problem_id}>\r\n              <td onClick={on_problem_edit(problem)}>{Get_Number(problem.problem_id)}</td>\r\n              <td><Table_A to={`/problem/${problem.problem_id}`}>{problem.title}</Table_A></td>\r\n              <td onClick={on_problem_edit(problem)}>{problem.score}</td>\r\n              {user && user.permission !== \"user\" &&\r\n              <>\r\n                <td><StyledButton onClick={on_problem_edit(problem)}><MdEdit color=\"var(--color_orange)\" size=\"20\" /></StyledButton></td>\r\n                <td><StyledButton onClick={on_problem_remove(problem.problem_id)}><MdDelete color=\"var(--color_red)\" size=\"20\" /></StyledButton></td>\r\n              </>\r\n              }\r\n            </tr>\r\n            )}\r\n          </tbody>\r\n        </Problem_table>}\r\n     \r\n        {state.is_problemEditDlg_visible &&\r\n          <ProblemEditDlg\r\n          contestId={props.id}\r\n          state={state}\r\n          setState={setState}\r\n          problem={state.editingProblem}\r\n          isOpen={state.is_problemEditDlg_visible}\r\n          close={on_problemEditDlg_close}\r\n        />\r\n        }\r\n      </>\r\n      }\r\n    </Main>\r\n  )\r\n}\r\n\r\nexport default Problems","import React, { useState, useEffect, useContext} from 'react'\r\nimport { UserContext } from 'contexts/UserContext'\r\nimport styled from 'styled-components'\r\nimport JN from 'JN'\r\nimport Container from 'controls/Container'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { theme } from 'Themes'\r\nimport ContainerFooter from 'controls/ContainersFooter'\r\nimport Input from 'controls/Input'\r\nimport Button from 'controls/Button'\r\nimport DatePicker, { getDefaultLocale } from 'react-datepicker'\r\nimport 'react-datepicker/dist/react-datepicker.css'\r\nimport Problems from './Problems'\r\nimport { MdRemoveRedEye } from 'react-icons/md'\r\nimport Button_Float from 'controls/Button_Float'\r\nimport { MessageBoxContext } from 'contexts/MessageBoxContext'\r\nimport './datetimepicker.css'\r\nimport Grid from 'controls/Grid'\r\nimport ComboBox from 'controls/ComboBox'\r\nimport TimeWidget from 'controls/TimeWidget'\r\nimport { Get_dateDiff_toString, dateAdd } from 'Global_Functions'\r\n\r\n// import 'date-fns';\r\n// import Grid from '@material-ui/core/Grid';\r\n// import DateFnsUtils from '@date-io/date-fns';\r\n// import {\r\n//   MuiPickersUtilsProvider,\r\n//   KeyboardTimePicker,\r\n//   KeyboardDatePicker,\r\n// } from '@material-ui/pickers';\r\n\r\n\r\nconst DTInput = styled.button `\r\n  border: 1px solid #b8b8b8;\r\n  border-radius: 5px;\r\n  height: 56px;\r\n`\r\n\r\nconst StyledForm = styled.form `\r\n  /* animation: .3s ease-in-out both fade-in; */\r\n  @keyframes fade-in {\r\n    0% {\r\n      opacity: 0;\r\n      /* transform: scale(0); */\r\n    }\r\n    \r\n    100% {\r\n      opacity: 1;\r\n      /* transform: scale(1); */\r\n    }\r\n  }\r\n\r\n  height: 530px;\r\n  /* background-color: red; */\r\n  \r\n`\r\n\r\nconst Tab_Container = styled.div `\r\n  display: flex;\r\n`\r\n\r\nconst Tab_Action = styled.button `\r\n  -webkit-touch-callout: none; /* iOS Safari */\r\n    -webkit-user-select: none; /* Safari */\r\n     -khtml-user-select: none; /* Konqueror HTML */\r\n       -moz-user-select: none; /* Old versions of Firefox */\r\n        -ms-user-select: none; /* Internet Explorer/Edge */\r\n            user-select: none; /* Non-prefixed version, currently\r\n                                  supported by Chrome, Opera and Firefox */\r\n\r\n  cursor: pointer;\r\n  border: none;\r\n  outline: none;\r\n  text-decoration: none;\r\n  font-size: 14px;\r\n  font-family: ${theme.fontCaps};\r\n  border: 1px solid var(--color_inputBackground);\r\n  padding: .8em 1.5em;\r\n  height: 50px;\r\n  outline: none;\r\n  border-top-left-radius: 5px;\r\n  border-radius: 5px;\r\n  margin-right: 5px;\r\n  margin-bottom: 50px;\r\n  color: var(--color_c2);\r\n  background-color: transparent;\r\n  cursor: pointer;\r\n\r\n  &:disabled {\r\n    background: none;\r\n    color: var(--color_c3);\r\n    border: 1px solid transparent;\r\n  }\r\n`\r\n\r\nconst AddContest = props => {\r\n  const { match } = props\r\n\r\n  const { user }  = useContext(UserContext)\r\n  const { toast } = useContext(MessageBoxContext)\r\n\r\n  const [state, setState] = useState({\r\n    contest: {title: ''},\r\n    currentDurattion: {name: '2სთ', h: 2, m: 0},\r\n    is_uploading: false,\r\n  })\r\n  const [startDate, setStartDate] = useState(new Date());\r\n  const [endDate,   setEndDate]   = useState(new Date());\r\n\r\n  const [tab, setTab] = useState(1)\r\n\r\n  useEffect(() => {\r\n\r\n    if (!user) {\r\n      return\r\n    }\r\n  \r\n    if (match.params.id) {\r\n      document.title = `კონტესტის რედაქტირება`;\r\n      //კონტესტის წამოღება\r\n      JN.get(user, 'admin/contest', {contest_id: match.params.id},\r\n      (data) => {\r\n        setState({...state, contest: {id: match.params.id, title: data.title}})\r\n        setStartDate(new Date(data.start_time))\r\n        setEndDate(new Date(data.end_time))\r\n      },\r\n      () => {\r\n\r\n      })\r\n    }\r\n    else {\r\n      document.title = `კონტესტის დამატება`;\r\n      on_combo_itemSelected(state.currentDurattion)\r\n    }\r\n\r\n  }, [])\r\n\r\n  const on_change = e => {\r\n    setState({\r\n      ...state,\r\n      contest: {...state.contest, title: e.target.value},\r\n    })\r\n  }\r\n\r\n  const submit = e => {\r\n    e.preventDefault()\r\n\r\n    setState({...state, is_uploading: true})\r\n    if (!state.contest.id) {\r\n\r\n      if (startDate >= endDate) {\r\n        toast('დროის ფორმატი არასწორია', 'error')\r\n        setState({...state, is_uploading: false})\r\n        return\r\n      }\r\n\r\n      //დამატება\r\n      JN.post(user, 'admin/contest', {\r\n        title: state.contest.title,\r\n        start_time: startDate,\r\n        end_time: endDate,\r\n      },\r\n      (data) => {\r\n        toast('დაემატა', 'success')\r\n        setState({\r\n          ...state,\r\n          contest: {...state.contest, id: data.id},\r\n          is_uploading: false,\r\n        })\r\n\r\n        setTab(2)\r\n      },\r\n      (error) => {\r\n      \r\n        if (error.status === 400) {\r\n          toast('დროის ფორმატი არასწორია', 'error')\r\n        }\r\n        setState({...state, is_uploading: false})\r\n      })\r\n    }\r\n    else {\r\n\r\n      //განახლება\r\n      JN.put(user, 'admin/contest', {\r\n        contest_id: state.contest.id,\r\n        title: state.contest.title,\r\n        start_time: startDate,\r\n        end_time: endDate,\r\n      },\r\n      () => {\r\n        toast('განახლდა', 'success')\r\n        setState({...state, is_uploading: false})\r\n      },\r\n      () => {\r\n        setState({...state, is_uploading: false})\r\n      })\r\n    }\r\n  }\r\n\r\n  const on_startDate_changed = date => {\r\n\r\n    setStartDate(date)\r\n    if (endDate < date)\r\n      setEndDate(date.add)\r\n\r\n    date = dateAdd(date, 'hour', state.currentDurattion.h)\r\n    date = dateAdd(date, 'minute', state.currentDurattion.m)\r\n    setEndDate(date)\r\n  }\r\n\r\n  const on_combo_itemSelected = item => {\r\n    setState({...state, currentDurattion: item})\r\n\r\n    let date = startDate\r\n    date = dateAdd(date, 'hour', item.h)\r\n    date = dateAdd(date, 'minute', item.m)\r\n    setEndDate(date)\r\n  }\r\n  \r\n  let currentTab =\r\n  <>\r\n    <StyledForm onSubmit={submit}>\r\n      <Input autocomplete=\"off\" focus required name=\"title\" title=\"დასახელება\" value={state.contest.title} onChange={on_change} />\r\n  \r\n\r\n      <div style={{marginTop: '25px', marginBottom: '155px'}}>\r\n        <Grid columns=\"3\" gap=\"15px\">\r\n          <div style={{marginTop: '15px', marginBotton: '250px', display: 'flex', flexDirection: 'column', justifyContent: 'space-between', textAlign: 'left', fontSize: '14px', paddingLeft: '0px', height: '42px'}}>\r\n            <label>დასაწყისი</label>\r\n            <DatePicker\r\n              selected={startDate}\r\n              onChange={on_startDate_changed}\r\n              showTimeSelect\r\n              timeFormat=\"HH:mm\"\r\n              timeIntervals={15}\r\n              timeCaption=\"time\"\r\n              dateFormat=\"HH:mm dd/MM/yyyy\"\r\n              minDate={new Date()}\r\n              // withPortal\r\n              className=\"dt_input\"\r\n            />\r\n          </div>\r\n          <div style={{marginTop: '15px', marginBotton: '25px', display: 'flex', flexDirection: 'column', justifyContent: 'space-between', textAlign: 'left', fontSize: '14px', paddingLeft: '4px', height: '42px'}}>\r\n            <label>დასასრული</label>\r\n            <DatePicker\r\n              selected={endDate}\r\n              onChange={date => setEndDate(date)}\r\n              showTimeSelect\r\n              timeFormat=\"HH:mm\"\r\n              timeIntervals={15}\r\n              timeCaption=\"time\"\r\n              dateFormat=\"HH:mm dd/MM/yyyy\"\r\n              minDate={startDate}\r\n              // withPortal\r\n              className=\"dt_input\"\r\n            />\r\n          </div>\r\n          <div style={{marginTop: '15px', marginBotton: '25px', display: 'flex', flexDirection: 'column', justifyContent: 'space-between', textAlign: 'left', fontSize: '14px', paddingLeft: '4px', height: '42px'}}>\r\n            <label>ხანგძლივობა</label>\r\n            <ComboBox input\r\n              currentItem={state.currentDurattion.name}\r\n              items={[\r\n                {\r\n                  name: '15წთ',\r\n                  h: 0,\r\n                  m: 15,\r\n                },\r\n                {\r\n                  name: '30წთ',\r\n                  h: 0,\r\n                  m: 30,\r\n                },\r\n                {\r\n                  name: '1სთ',\r\n                  h: 1,\r\n                  m: 0,\r\n                },\r\n                {\r\n                  name: '1სთ 30წთ',\r\n                  h: 1,\r\n                  m: 30,\r\n                },\r\n                {\r\n                  name: '2სთ',\r\n                  h: 2,\r\n                  m: 0,\r\n                },\r\n                {\r\n                  name: '2სთ  30წთ',\r\n                  h: 2,\r\n                  m: 30,\r\n                },\r\n                {\r\n                  name: '3სთ',\r\n                  h: 3,\r\n                  m: 0,\r\n                },\r\n                {\r\n                  name: '3სთ 30წთ',\r\n                  h: 3,\r\n                  m: 30,\r\n                },\r\n                {\r\n                  name: '4სთ',\r\n                  h: 4,\r\n                  m: 0,\r\n                }\r\n              ]}\r\n              itemSelected={on_combo_itemSelected}\r\n            />\r\n          </div>\r\n        </Grid>\r\n        <div style={{height: '56px', marginTop: '85px', fontSize: '24px'}}><TimeWidget size=\"18px\" time={Get_dateDiff_toString(startDate, endDate, false, true)}/></div>\r\n      </div>\r\n      \r\n      <ContainerFooter>\r\n        <Button type=\"submit\" backgroundColor=\"primary\" disabled={state.is_uploading}>\r\n          {state.contest.id ? \"შენახვა\" : \"დამატება\"}{state.is_uploading ? '..' : ''}\r\n        </Button>\r\n      </ContainerFooter>\r\n\r\n    </StyledForm>\r\n  </>\r\n\r\n  if (tab === 2) {\r\n    currentTab = <Problems id={state.contest.id} />\r\n  }\r\n\r\n\r\n  const on_tab_changed = tab => e => {\r\n    e.preventDefault()\r\n    setTab(tab)\r\n  }\r\n\r\n  const Tab_Current = {pointerEvents: 'none', backgroundColor: 'var(--color_b1)'}\r\n\r\n  if (!user || user.permission === \"user\") {\r\n    return (\r\n      <Redirect to=\"/404\" />\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Container title={match.params.id ? \"კონტესტის რედაქტირება\" : \"კონტესტის დამატება\"} width=\"600px\">\r\n      <Tab_Container>\r\n        <Tab_Action style={tab === 1 ? Tab_Current : {}} onClick={on_tab_changed(1)}>კონტესტი</Tab_Action>\r\n        <Tab_Action style={tab === 2 ? Tab_Current : {}} disabled={!state.contest.id} onClick={on_tab_changed(2)}>ამოცანები</Tab_Action>\r\n      </Tab_Container>\r\n      {currentTab}\r\n\r\n      {state.contest.id && \r\n        <Button_Float count=\"1\" to={`/contest/${state.contest.id}`}>\r\n          <MdRemoveRedEye color=\"var(--color_primary)\" size=\"22\" />\r\n        </Button_Float>\r\n      }\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default AddContest","import React, { useState, useEffect, useContext } from 'react'\r\nimport JN from 'JN'\r\nimport { UserContext } from 'contexts/UserContext'\r\nimport LoadingSvg from 'components/LoadingSvg'\r\nimport { theme } from 'Themes'\r\nimport styled, { css } from 'styled-components'\r\nimport { Link } from 'react-router-dom'\r\nimport { Get_Number, convertToRoman } from 'Global_Functions'\r\nimport PaginationContainer from 'controls/pagination/PaginationContainer'\r\nimport Modal from 'components/Modal'\r\nimport { Convert_date_to_string } from 'Global_Functions'\r\nimport SubmissionPreviewDlg from 'pages/submissions/SubmissionPreviewDlg'\r\nimport { MdAccessTime, MdMemory } from 'react-icons/md'\r\n\r\nconst Table_A = styled(Link) `\r\n  font-size: 16px;\r\n  color: red;\r\n  text-decoration: none;\r\n  color: var(--color_c2);\r\n  display: inline-block;\r\n\r\n  ${props => \r\n    props.th &&\r\n    css`\r\n      color: var(--color_headerText);\r\n      font-weight: normal;\r\n    `\r\n  };\r\n\r\n  &:hover {\r\n    color: var(--color_link);\r\n  }\r\n`\r\n\r\nconst Success = styled.span `\r\n\r\n  color: var(--color_c2);\r\n\r\n  ${props => props.code === 0 && css`\r\n    color: var(--color_green);\r\n  `}\r\n\r\n  ${props => props.code === 1 && css`\r\n    color: var(--color_red);\r\n  `}\r\n`\r\n\r\nconst Table = styled.table `\r\n  border-collapse: collapse;\r\n  overflow: auto;\r\n  margin-top: 15px;\r\n  width: 100%;\r\n\r\n  tr {\r\n    cursor: pointer;\r\n    /* border-bottom: 1px solid var(--color_b22); */\r\n\r\n    &:last-child {\r\n      border: none;\r\n    }\r\n  }\r\n\r\n  th {\r\n    font-weight: normal;\r\n    border-bottom: 1px solid var(--color_b22);\r\n    padding: 5px;\r\n\r\n    &:nth-child(2) {\r\n      text-align: left;\r\n    }\r\n  }\r\n\r\n  td {\r\n    padding: 5px;\r\n    padding-left: 5px;\r\n    padding-right: 5px;\r\n    width: 1px;\r\n    white-space: nowrap;\r\n\r\n    :nth-child(2) {\r\n      text-align: left;\r\n      width: inherit;\r\n      white-space: wrap;\r\n    }\r\n  }\r\n`\r\n\r\nconst Problem_table = styled.table `\r\n\r\n  -webkit-touch-callout: none; /* iOS Safari */\r\n    -webkit-user-select: none; /* Safari */\r\n     -khtml-user-select: none; /* Konqueror HTML */\r\n       -moz-user-select: none; /* Old versions of Firefox */\r\n        -ms-user-select: none; /* Internet Explorer/Edge */\r\n            user-select: none; /* Non-prefixed version, currently\r\n                                  supported by Chrome, Opera and Firefox */\r\n\r\n  border-collapse: collapse;\r\n  overflow: hidden;\r\n  margin-top: 15px;\r\n  width: 100%;\r\n  padding: 25px;\r\n  padding-top: 25px;\r\n  /* box-shadow: 1px 2px 4px rgba(0, 0, 0, 0.2);  */\r\n  background-color: var(--color_b11);\r\n  border-radius: 8px;\r\n  font-size: 16px;\r\n\r\n  tr {\r\n    border-bottom: 1px solid var(--color_b2);\r\n    height: 50px;\r\n\r\n    &:first-child {\r\n      border: none;\r\n      color: var(--color_headerText);\r\n      background-color: var(--color_headerBackground);\r\n    }\r\n  }\r\n\r\n  th {\r\n    padding: 10px;\r\n    font-weight: normal;\r\n\r\n    &:nth-child(2) {\r\n      text-align: left;\r\n    }\r\n\r\n\r\n    &:nth-child(2) {\r\n      width: 50%;\r\n    }\r\n  }\r\n\r\n  td {\r\n    padding: 5px;\r\n    padding-left: 15px;\r\n    padding-right: 15px;\r\n    color: var(--color_c2);\r\n    background-color: var(--color_b11);\r\n    white-space: nowrap;\r\n\r\n    &:nth-child(1) {\r\n      font-size: 14px;\r\n    }\r\n    text-align: center;\r\n    \r\n    &:nth-child(2) {\r\n      text-align: left;\r\n      padding: 0;\r\n      width: 100%;\r\n\r\n      a {\r\n        width: 100%;\r\n        padding: 8px;\r\n      }\r\n    }\r\n    \r\n    border: 1px solid var(--color_b2);\r\n    border-top: none;\r\n    &:nth-child(1), &:nth-child(2), &:nth-last-child(1), &:nth-last-child(2) {\r\n      border: none;\r\n    }\r\n    /* &:nth-child(3) {\r\n      text-align: left;\r\n    }     */\r\n  }\r\n`\r\n\r\nconst TabStandings = props => {\r\n  const { match } = props;\r\n  const { user } = useContext(UserContext);\r\n  const [state, setState] = useState({\r\n    users: [],\r\n    pagination: {current: match.params.page, total: 0},\r\n    is_loading: true,\r\n    is_dlgSubmissions_open: false,\r\n    submissions: [],\r\n    open_submission: false,\r\n    opened_submission_id: 0,\r\n  });\r\n\r\n  useEffect(() => {\r\n\r\n    JN.get(user, `contest/${match.params.id}/standing/${match.params.page}`, {},\r\n    (data) => {\r\n      setState({...state, is_loading: false, users: data.standings.users, pagination: {current: match.params.page, total: data.page_number}})\r\n      window.scroll(0, 0);\r\n    },\r\n    () => {\r\n      setState({...state, is_loading: false})\r\n    })\r\n\r\n  }, [match.url]);\r\n\r\n\r\n  if (state.is_loading) {\r\n    return (\r\n      <div style={{textAlign: 'center'}}>\r\n        <LoadingSvg />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const closeDlgSubmissions = () => {\r\n    setState({...state, is_dlgSubmissions_open: false});\r\n  }\r\n\r\n  const onViewSubmissions = (userr, problem) => {\r\n    JN.get(user, `contest/${match.params.id}/${problem.problem_id}/${userr.user_id}`, {}, \r\n    data => {\r\n      setState({...state, is_dlgSubmissions_open: true, submissions: data.submissions});\r\n    },\r\n    error => {\r\n\r\n    });\r\n  }\r\n\r\n  const onSubmissionClicked = submission => {\r\n    setState({...state, open_submission: true, opened_submission_id: submission.id});\r\n  }\r\n\r\n  const on_submissionsPreviewDlg_close = () => {\r\n    setState({...state, open_submission: false});\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {state.users.length > 0 &&\r\n      <Problem_table>\r\n        <thead></thead>\r\n        <tbody>\r\n          <tr style={{height: 20}}>\r\n            <th>№</th>\r\n            <th>მომხმარებელი</th>\r\n       \r\n            {state.users.length && state.users[0].problems_info.map((problem, index) => \r\n              <th key={index}><Table_A th=\"true\" to={`/problem/${problem.problem_id}`}>{convertToRoman(index + 1)}</Table_A></th>\r\n            )}\r\n\r\n            <th>ჯარიმა</th>\r\n            <th>ქულა</th>\r\n\r\n          </tr>\r\n        {state.users.map((user, index) =>\r\n          <tr key={user.user_info} style={{height: 0}}>\r\n            <td>\r\n              {user.rank}\r\n            </td>\r\n            <td>\r\n              <Table_A to={`/profile/${user.user_info}`}>{user.user_info}</Table_A>\r\n            </td>\r\n           \r\n\r\n            {user.problems_info.map((problem, index) => \r\n            <td key={index}>\r\n              {(problem.accepted || problem.wrong > 0) &&\r\n              <button onClick={() => onViewSubmissions(user, problem)} style={{display: 'flex', justifyContent: 'center', alignItems: 'center', width: 13, background: 'none', fontFamily: theme.font, fontSize: '16px', color: problem.accepted ? 'var(--color_green)' : 'var(--color_red)', border: 'none', outline: 'none', cursor: 'pointer'}}>\r\n                <span style={{paddingRight: '0px'}}>{problem.accepted ? '+' : '-'}</span>{problem.wrong ? problem.wrong : ''}\r\n              </button>\r\n              }\r\n            </td>\r\n            )}\r\n\r\n            <td style={{color: 'var(--color_c2)', fontSize: '14px'}}>\r\n              {user.penalty}\r\n            </td>\r\n            <td>\r\n              {user.score}\r\n            </td>\r\n\r\n          </tr>\r\n          )}\r\n        </tbody>\r\n      </Problem_table>\r\n      }\r\n      {!state.is_loading && <PaginationContainer to={`/contest/${match.params.id}/standing/:page`} pagination={state.pagination} />}\r\n\r\n      {state.is_dlgSubmissions_open &&\r\n        <Modal width=\"620px\" isOpen={true} close={closeDlgSubmissions}>\r\n        <div style={{overflow: 'auto', height: '480px'}}>\r\n          <Table>\r\n          <thead></thead>\r\n          <tbody>\r\n            <tr>\r\n              <th></th>\r\n              <th></th>\r\n              <th></th>\r\n              <th></th>\r\n              <th>\r\n                <div style={{display: 'flex', justifyContent: 'center', alignItems: 'center'}}>\r\n                  <MdMemory size=\"16\" />\r\n                </div>\r\n              </th>\r\n              <th>\r\n                <div style={{display: 'flex', justifyContent: 'center', alignItems: 'center'}}>\r\n                  <MdAccessTime  size=\"16\" />\r\n                </div>\r\n              </th>\r\n            </tr>\r\n            {state.submissions.map((submission, index) => \r\n              <tr key={submission.id} onClick={() => onSubmissionClicked(submission)}>\r\n                <td>{index + 1}</td>\r\n                <td><Success code={submission.verdict_code}>{submission.verdict_ge}</Success></td>\r\n                <td>{Convert_date_to_string(submission.datetime)}</td>\r\n                <td>{submission.language}</td>\r\n                <td>{submission.memory}</td>\r\n                <td>{submission.time}</td>\r\n              </tr>\r\n            )}\r\n          </tbody>\r\n        </Table>\r\n        </div>\r\n        </Modal>\r\n      }\r\n\r\n      {state.open_submission &&\r\n        <SubmissionPreviewDlg id={state.opened_submission_id} close={on_submissionsPreviewDlg_close} />\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default TabStandings","import React, { useState, useEffect, useContext } from 'react'\r\nimport { theme } from 'Themes'\r\nimport styled, { css } from 'styled-components'\r\nimport { Link, NavLink, Switch, Route, Redirect } from 'react-router-dom'\r\nimport Container from 'controls/Container'\r\nimport { Get_Number, Convert_date_to_string, Get_contest_status, Get_dateDiff_toString } from 'Global_Functions'\r\nimport A from 'controls/A'\r\nimport { MdDone, MdDelete, MdEdit, MdAllOut } from 'react-icons/md'\r\nimport ContainerFooter from 'controls/ContainersFooter'\r\nimport Button from 'controls/Button'\r\nimport { UserContext } from 'contexts/UserContext'\r\nimport LoadingSvg from 'components/LoadingSvg'\r\nimport Button_Float from 'controls/Button_Float'\r\nimport TabStandings from './TabStandings'\r\nimport CountDown from 'controls/CountDown'\r\nimport { MessageBoxContext } from 'contexts/MessageBoxContext'\r\nimport JN from 'JN'\r\nimport { FaCheck, FaTimes } from 'react-icons/fa'\r\nimport Checkbox from 'controls/Checkbox'\r\n\r\nconst Tab_Container = styled.div`\r\n  display: flex;\r\n`\r\n\r\nconst Tab_Action = styled(NavLink)`\r\n  -webkit-touch-callout: none; /* iOS Safari */\r\n    -webkit-user-select: none; /* Safari */\r\n     -khtml-user-select: none; /* Konqueror HTML */\r\n       -moz-user-select: none; /* Old versions of Firefox */\r\n        -ms-user-select: none; /* Internet Explorer/Edge */\r\n            user-select: none; /* Non-prefixed version, currently\r\n                                  supported by Chrome, Opera and Firefox */\r\n\r\n  cursor: pointer;\r\n  border: none;\r\n  outline: none;\r\n  text-decoration: none;\r\n  font-size: 16px;\r\n  font-family: ${theme.fontCaps};\r\n  border: 1px solid var(--color_b22);\r\n  padding: .8em 1.5em;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 50px;\r\n  outline: none;\r\n  border-top-left-radius: 5px;\r\n  border-radius: 5px;\r\n  margin-right: 5px;\r\n  margin-bottom: 50px;\r\n  color: var(--color_c2);\r\n  background-color: transparent;\r\n  cursor: pointer;\r\n\r\n  &:disabled {\r\n    background: none;\r\n    color: var(--color_c3);\r\n    border: 1px solid transparent;\r\n  }\r\n`\r\n\r\nconst Table_A = styled(Link)`\r\n  font-size: 16px;\r\n  color: red;\r\n  text-decoration: none;\r\n  color: var(--color_c2);\r\n  display: inline-block;\r\n\r\n  &:hover {\r\n    color: var(--color_link);\r\n  }\r\n`\r\n\r\nconst Problem_table = styled.table`\r\n  border-collapse: collapse;\r\n  overflow: hidden;\r\n  margin-top: 15px;\r\n  width: 100%;\r\n  padding: 25px;\r\n  padding-top: 25px;\r\n  box-shadow: 1px 2px 4px rgba(0, 0, 0, 0.2); \r\n  background-color: var(--color_b11);\r\n  border-radius: 8px;\r\n  font-size: 16px;\r\n\r\n  tr {\r\n    /* border-bottom: 1px solid var(--color_c3); */\r\n    height: 50px;\r\n\r\n    &:first-child {\r\n      border: none;\r\n      color: var(--color_headerText);\r\n      background-color: var(--color_headerBackground);\r\n    }\r\n\r\n    &:last-child {\r\n      border: none;\r\n    }\r\n  }\r\n\r\n  th {\r\n    padding: 8px;\r\n    font-weight: normal;\r\n    padding-left: 15px;\r\n    padding-right: 15px;\r\n\r\n    &:first-child {\r\n      padding-left: 20px;\r\n    }\r\n\r\n    &:last-child {\r\n      padding-right: 20px;\r\n    }\r\n\r\n    &:nth-child(2) {\r\n      padding: 0;\r\n    }\r\n\r\n    &:nth-child(3), &:nth-child(4) {\r\n      text-align: left;\r\n    }\r\n\r\n    &:nth-child(3) {\r\n      width: 99%;\r\n    }\r\n  }\r\n\r\n  td {\r\n    padding: 8px;\r\n    /* font-size: 16px; */\r\n    white-space: nowrap;\r\n    color: var(--color_c2);\r\n    background-color: var(--color_b11);\r\n\r\n    padding-left: 15px;\r\n    padding-right: 15px;\r\n\r\n    &:nth-child(1) {\r\n      /* font-size: 14px; */\r\n    }\r\n\r\n    &:nth-child(2) {\r\n      padding: 0;\r\n      text-align: right;\r\n    }\r\n\r\n    &:nth-child(3) {\r\n      text-align: left;\r\n      padding: 0;\r\n\r\n      a {\r\n        width: 100%;\r\n        padding: 8px;\r\n      }\r\n    }\r\n    \r\n    &:nth-child(4) {\r\n      text-align: left;\r\n    }    \r\n  }\r\n`\r\n\r\nconst FullContest = props => {\r\n  const { match, history } = props\r\n  const { user } = useContext(UserContext)\r\n  const { toast } = useContext(MessageBoxContext)\r\n\r\n  const [state, setState] = useState({\r\n    is_loading: true,\r\n    is_registering: false,\r\n    is_updating_problemsVisibility: false,\r\n    is_allProblemsVisible: false,\r\n    update_state: false,\r\n  })\r\n\r\n  const [contest, setContest] = useState({ problems: [] })\r\n\r\n  useEffect(() => {\r\n\r\n    let arr = history.location.pathname.split(\"/\");\r\n    if (!contest.title || arr[arr.length - 1] === 'problems')\r\n      refresh()\r\n\r\n  }, [match])\r\n\r\n  const refresh = () => {\r\n\r\n    JN.get(user, `contest/${match.params.id}`, {},\r\n      (data) => {\r\n        let isAllProblemsVisible = true\r\n\r\n        for (let i = 0; i < data.problems.length; i++) {\r\n          if (!data.problems[i].is_visible) {\r\n            isAllProblemsVisible = false\r\n            break\r\n          }\r\n        }\r\n\r\n        document.title = `${data.title}`;\r\n        setContest(data)\r\n        setState({ ...state, is_loading: false, is_allProblemsVisible: isAllProblemsVisible })\r\n      },\r\n      () => {\r\n        setState({ ...state, is_loading: false })\r\n      })\r\n  }\r\n\r\n  const on_registerToContest = () => {\r\n\r\n    setState({ ...state, is_registering: true, })\r\n\r\n    JN.post(user, `contest/${match.params.id}/register`, {},\r\n      () => {\r\n        setState({ ...state, is_registering: false, })\r\n        setContest({ ...contest, registered: true, })\r\n      },\r\n      () => {\r\n        setState({ ...state, is_registering: false, })\r\n        setContest({ ...contest, registered: false, })\r\n      })\r\n  }\r\n\r\n  const on_contest_delete = e => {\r\n    e.preventDefault()\r\n    if (!window.confirm('ნამდვილად გსურთ წაშლა?!')) {\r\n      return\r\n    }\r\n\r\n    setState({ ...state, is_deleting: true })\r\n\r\n    JN.delete(user, `admin/contest`, { id: match.params.id },\r\n      () => {\r\n        setState({ ...state, isDeleting: false })\r\n        history.push('/contests/1')\r\n      },\r\n      () => {\r\n        setState({ ...state, is_deleting: false })\r\n      })\r\n  }\r\n\r\n  if (state.is_loading) {\r\n    return (\r\n      <Container width=\"500px\">\r\n        <div style={{ textAlign: 'center' }}><LoadingSvg /></div>\r\n      </Container>\r\n    )\r\n  }\r\n\r\n\r\n  let currentTab =\r\n    <div>\r\n      {contest.problems.length > 0 &&\r\n        <>\r\n          <Problem_table>\r\n            <thead></thead>\r\n            <tbody>\r\n              <tr>\r\n                <th>ქულა</th>\r\n                <th></th>\r\n                <th>ამოცანა</th>\r\n                {/* {Get_contest_status(contest.start_time, contest.end_time) === 0 &&\r\n              <th>კატეგორიები</th>\r\n            } */}\r\n                <th style={{ height: '50px', cursor: 'pointer', display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\r\n                  <MdDone size=\"18\" color=\"var(--color_headerText)\" />\r\n                </th>\r\n              </tr>\r\n              {contest.problems.map((problem, index) =>\r\n                <tr key={problem.id}>\r\n                  {/* 0 - უცდელი, 1 - გატარებული, 2 - ჩაჭრილი */}\r\n                  <td>\r\n                    {Get_Number(problem.score)}\r\n                  </td>\r\n                  <td>\r\n                    {problem.verdict === 1 ? <><FaCheck color=\"var(--color_green)\" size=\"12\" />&nbsp;</>\r\n                      :\r\n                      problem.verdict === 2 ? <><FaTimes color=\"var(--color_red)\" size=\"12\" />&nbsp;</>\r\n                        : <></>}\r\n                  </td>\r\n                  <td>\r\n                    <Table_A to={`/problem/${problem.id}`}>{problem.title}</Table_A>\r\n                  </td>\r\n                  {/* {Get_contest_status(contest.start_time, contest.end_time) === 0 &&\r\n              <td>\r\n                {problem.tags.map((tag, index) =>\r\n                  <Table_A key={tag.id} to={`/problems/1/${tag.id}`} key={tag.id}>\r\n                    {tag.title}\r\n                    {index < problem.tags.length - 1 ? ',' : ''}\r\n                    &nbsp;\r\n                  </Table_A>\r\n                )}\r\n              </td>\r\n            } */}\r\n                  <td><Table_A to={`/submissions/${problem.id}`}>x{problem.accepted}</Table_A></td>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </Problem_table>\r\n        </>\r\n      }\r\n\r\n      <ContainerFooter>\r\n        {user && contest && <Checkbox disabled={Get_contest_status(contest.start_time, contest.end_time) === 0} onClick={Get_contest_status(contest.start_time, contest.end_time) !== 0 && !contest.registered ? on_registerToContest : null} color=\"var(--color_green)\" title=\"მონაწილეობა\" checked={contest.registered} />}\r\n      </ContainerFooter>\r\n    </div>\r\n\r\n  const on_makeAllProblemsVisible = e => {\r\n    e.preventDefault()\r\n\r\n    setState({ ...state, is_updating_problemsVisibility: true, })\r\n\r\n    JN.put(user, `admin/contest/problems`, { contest_id: match.params.id },\r\n      () => {\r\n        toast('ყველა ამოცანა გახდა ხილვადი', 'success')\r\n        setState({ ...state, is_updating_problemsVisibility: false, is_allProblemsVisible: true })\r\n      },\r\n      (error) => {\r\n        setState({ ...state, is_updating_problemsVisibility: false, })\r\n        toast(error.statusText)\r\n      })\r\n  }\r\n\r\n  const on_start = () => {\r\n    refresh()\r\n    toast('კონტესტი დაიწყო', 'success')\r\n  }\r\n\r\n  const on_end = () => {\r\n    refresh()\r\n    toast('კონტესტი დასრულდა', 'success')\r\n  }\r\n\r\n  return (\r\n    <Container title={contest.title} width=\"100%\" maxWidth=\"1050px\"\r\n      titleRight={\r\n        Get_contest_status(contest.start_time, contest.end_time) === 2 ? <>{Get_contest_status(contest.start_time, contest.end_time) === 2 && <span style={{ color: 'var(--color_green)' }}>დაგეგმილი</span>}</>\r\n          : Get_contest_status(contest.start_time, contest.end_time) === 0 ? 'დასრულებული' :\r\n            <span style={{ color: 'var(--color_c2)', fontSize: '16px' }}>\r\n              {Get_contest_status(contest.start_time, contest.end_time) === 1 && <CountDown from={contest.end_time} timeout={on_end} />}\r\n            </span>\r\n      }\r\n    >\r\n\r\n      {Get_contest_status(contest.start_time, contest.end_time) !== 2 &&\r\n        <Tab_Container>\r\n\r\n          <Tab_Action to={`/contest/${match.params.id}/problems`} activeStyle={{ pointerEvents: 'none', backgroundColor: 'var(--color_b1)' }}>\r\n            ამოცანები\r\n        </Tab_Action>\r\n          <Tab_Action to={`/contest/${match.params.id}/standing`} activeStyle={{ pointerEvents: 'none', backgroundColor: 'var(--color_b1)' }}>\r\n            სტატისტიკა\r\n        </Tab_Action>\r\n\r\n          {/* <Tab_Action style={tab === 1 ? Tab_Current : {}} onClick={on_tab_changed(1)}>ამოცანები</Tab_Action>\r\n        <Tab_Action style={tab === 2 ? Tab_Current : {}} onClick={on_tab_changed(2)}>სტატისტიკა</Tab_Action> */}\r\n        </Tab_Container>\r\n      }\r\n\r\n      {Get_contest_status(contest.start_time, contest.end_time) === 2 &&\r\n        <div style={{ color: 'var(--color_c2)', marginTop: '25px', marginBottom: '75px', fontSize: '24px' }}>\r\n          {Get_dateDiff_toString('now', contest.start_time, false, true).days ?\r\n            Convert_date_to_string(contest.start_time) :\r\n            <>{contest.start_time && <CountDown size=\"20px\" to={contest.start_time} timeout={on_start} />}</>\r\n          }\r\n        </div>\r\n      }\r\n\r\n      {user && user.permission === \"admin\" &&\r\n        <>\r\n          {Get_contest_status(contest.start_time, contest.end_time) === 0 && !state.is_allProblemsVisible && <Button_Float count=\"3\" onClick={on_makeAllProblemsVisible}>{state.is_updating_problemsVisibility ? <LoadingSvg color=\"var(--color_purple)\" width=\"22\" height=\"22\" /> : <MdAllOut color=\"var(--color_purple)\" size=\"22\" />}</Button_Float>}\r\n          <Button_Float count=\"2\" to={`/editcontest/${match.params.id}`}><MdEdit color=\"var(--color_orange)\" size=\"22\" /></Button_Float>\r\n          {!state.is_deleting && <Button_Float onClick={on_contest_delete}><MdDelete color=\"var(--color_red)\" size=\"22\" /></Button_Float>}\r\n        </>\r\n      }\r\n\r\n      <div style={{ marginTop: '-40px' }}>\r\n        <Switch>\r\n          <Route exact path={`/contest/:id/standing/:page`} component={TabStandings} />\r\n          <Redirect from={`/contest/:id/standing`} to={`/contest/:id/standing/1`} />\r\n          <Route exact path={`/contest/:id/problems`} component={() => currentTab} />\r\n          <Redirect from={`/contest/:id/`} to={`/contest/:id/problems`} />\r\n        </Switch>\r\n      </div>\r\n\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default FullContest","import React, { useState, useEffect, useContext } from 'react'\r\nimport Table, { Th, Td, Table_A } from 'controls/Table'\r\nimport JN from 'JN'\r\nimport Container from 'controls/Container'\r\n\r\nconst UsersPage = props => {\r\n  const { match } = props\r\n\r\n  const [state, setState] = useState({\r\n    is_loading: true,\r\n    pagination: {current: 0, total: 0},\r\n  })\r\n\r\n  const [users, setUsers] = useState([\r\n    // {username: 'jax12345', score: 200},\r\n    // {username: 'xaj123123', score: 150},\r\n    // {username: 'system', score: 15},\r\n    // {username: 'konho', score: 250},\r\n  ])\r\n\r\n  useEffect(() => {\r\n    let contestId = match.params.contest_id\r\n\r\n    if (contestId) {\r\n      JN.get(null, `contest/${contestId}/register`, {},\r\n      (data) => {\r\n        // console.log(data)\r\n        setUsers(data.participants)\r\n        setState({...state, is_loading: false})\r\n      },\r\n      (error) => {\r\n        console.log(error)\r\n        setState({...state, is_loading: false})\r\n      })\r\n    }\r\n    else {\r\n      setState({...state, is_loading: false})\r\n    }\r\n\r\n  }, [])\r\n\r\n  return (\r\n    <div style={{boxShadow: '0 6px 16px 0 rgba(0,0,0,.2)', borderRadius: '8px', maxWidth: '600px', margin: 'auto', marginTop: '56px', paddingTop: '0'}}>\r\n    <Table count={state.pagination.total > 1 && !state.is_loading}>\r\n      <thead></thead>\r\n      <tbody>\r\n        <tr>\r\n          <Th width=\"90%\">მომხმარებელი</Th>\r\n          <Th>სახელი</Th>\r\n          <Th>გვარი</Th>\r\n          {/* <Th center>ქულა</Th> */}\r\n        </tr>\r\n        {!state.is_loading && !users.length &&\r\n        <tr><td colSpan=\"5\" style={{fontSize: '14px', textAlign: 'left'}}>მომხმარებლები არ მოიძებნა <span style={{color: 'red'}}>!</span></td></tr>\r\n        }\r\n\r\n        {state.is_loading && \r\n        <>\r\n          {/* <tr><td colSpan=\"5\" style={{color: '#666', fontSize: '14px', textAlign: 'left'}}>იტვირთება..</td></tr>\r\n          <tr><td colSpan=\"5\" style={{color: '#666', fontSize: '14px', textAlign: 'left'}}>იტვირთება..</td></tr>\r\n          <tr><td colSpan=\"5\" style={{color: '#666', fontSize: '14px', textAlign: 'left'}}>იტვირთება..</td></tr>\r\n          <tr><td colSpan=\"5\" style={{color: '#666', fontSize: '14px', textAlign: 'left'}}>იტვირთება..</td></tr> */}\r\n        </>\r\n        }\r\n\r\n      {!state.is_loading && users.map((user, index) =>\r\n        <tr key={user.username}>\r\n          <Td><Table_A to={`/profile/${user.username}`}>{user.username}</Table_A></Td>\r\n          <Td><Table_A to={`/profile/${user.username}`}>{user.name}</Table_A></Td>\r\n          <Td><Table_A to={`/profile/${user.username}`}>{user.surname}</Table_A></Td>\r\n          {/* <Td center>{5}</Td> */}\r\n        </tr>\r\n        )}\r\n      </tbody>\r\n    </Table>\r\n\r\n        {/* {!state.is_loading && <PaginationContainer to={`/contests/:page`} pagination={state.pagination} />} */}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UsersPage","import React, { useState, useContext } from 'react'\r\nimport { UserContext } from 'contexts/UserContext'\r\nimport Modal from './Modal'\r\nimport Input from 'controls/Input'\r\nimport ContainerFooter from 'controls/ContainersFooter'\r\nimport Button from 'controls/Button'\r\nimport { MessageBoxContext } from 'contexts/MessageBoxContext'\r\nimport axios from 'axios'\r\nimport { Server } from 'Server'\r\n\r\nconst FreshingTokenDlg = props => {\r\n  const { toast } = useContext(MessageBoxContext)\r\n  const { user, login } = useContext(UserContext)\r\n  const { callAfter } = user\r\n  const [state, setState] = useState({\r\n    isLoading: false,\r\n    isError: false,\r\n  })\r\n\r\n  const [password, setPassword] = useState('')\r\n\r\n  const onClose = () => {\r\n    // user.update_user({...user, freshTokenRequired: false})\r\n  }\r\n\r\n  const onPasswordChanged = e => {\r\n    setPassword(e.target.value)\r\n  }\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault()\r\n\r\n    setState({...state, isLoading: true})\r\n    axios.post(`${Server.address}/login`, {username: user.username, password: password})\r\n    .then(response => {\r\n\r\n      const newUser = {\r\n        ...user,\r\n        password: '',\r\n        access_token: response.data.access_token,\r\n        refresh_token: response.data.refresh_token,\r\n        freshTokenRequired: false,\r\n        ...response.data.user_info\r\n      }\r\n      login(newUser)\r\n\r\n      callAfter.func(newUser, callAfter.url, callAfter.data, callAfter.on_finished, callAfter.on_error)\r\n      // history.goBack()\r\n    })\r\n    .catch(error => {\r\n      setState({...state, isLoading: false})\r\n      if (!error.response) {\r\n        toast('corsp policy-ა ჩასართავი', error)\r\n        return\r\n      }\r\n\r\n      if (error.response.status === 400) {\r\n        setState({...state, isError: true})\r\n        return\r\n      }\r\n    })\r\n\r\n  }\r\n\r\n  if (!user.freshTokenRequired) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n\r\n    <Modal width=\"450px\" isOpen={true} close={onClose} title=\"შეიყვანეთ თქვენი პაროლი\">\r\n      <form onSubmit={onSubmit}>\r\n        <Input focus title=\"პაროლი\" password value={password} onChange={onPasswordChanged} errorText=\"პაროლი არასწორია\" isError={state.isError} />\r\n        <ContainerFooter>\r\n          <Button disabled={state.isLoading || password === ''}>დადასტურება{state.isLoading && '..'}</Button>\r\n        </ContainerFooter>\r\n      </form>\r\n    </Modal>\r\n \r\n  )\r\n}\r\n\r\nexport default FreshingTokenDlg","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nconst Container = styled.div `\r\n  background-color: rgba(255, 255, 255, 0.8);\r\n  width: 50px;\r\n  height: 50px;\r\n  position: fixed;\r\n  top: 158px;\r\n  border-top-right-radius: 8px;\r\n  border-bottom-right-radius: 8px;\r\n  left: 0;\r\n`\r\n\r\nconst Favourites = props => {\r\n\r\n  return (\r\n    <Container>\r\n\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Favourites","import React, { useState, useEffect, useContext, useRef } from 'react'\r\nimport { UserContext } from 'contexts/UserContext'\r\nimport JN from 'JN'\r\nimport Table, { Tr, Th, Td, Table_A } from 'controls/Table'\r\nimport PaginationContainer from 'controls/pagination/PaginationContainer'\r\nimport Input from 'controls/Input'\r\nimport Helmet from 'react-helmet'\r\nimport { theme } from 'Themes'\r\nimport styled, { css } from 'styled-components'\r\nimport { Link } from 'react-router-dom'\r\nimport B from 'controls/B'\r\n\r\nconst MDiv = styled.div`\r\n  padding: 56px;\r\n  padding-top: -0px;\r\n  margin: auto;\r\n  margin-top: -56px;\r\n  max-width: 900px;\r\n  @media (max-width: ${theme.mobileSize}) {\r\n    padding: 0;\r\n  }\r\n`\r\n\r\nconst FilterContainer = styled.div`\r\n  position: absolute;\r\n  top: 55px;\r\n  background-color: var(--color_b2);\r\n  box-shadow: 0 3px 8px rgba(0, 0, 0, 0.2);\r\n  border-radius: 5px;\r\n  overflow: auto;\r\n  max-height: 250px;\r\n  width: ${props => props.width ? props.width : '100%'};\r\n  z-index: 1;\r\n`\r\n\r\nconst FilterItem = styled(Link)`\r\n  display: block;\r\n  text-align: left;\r\n  height: 45px;\r\n  text-decoration: none;\r\n  color: var(--color_c2);\r\n  font-family: ${theme.font};\r\n  \r\n  padding-left: 10px;\r\n  padding-right: 10px;\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  outline: none;\r\n\r\n  button {\r\n    margin-left: auto;\r\n  }\r\n\r\n  &:hover, &:focus {\r\n    color: var(--color_link);\r\n  }\r\n\r\n  &:first-child {\r\n    margin-top: 10px;\r\n  }\r\n`\r\n\r\nconst RatingPage = props => {\r\n  const { user } = useContext(UserContext);\r\n  const { match } = props;\r\n  const [state, setState] = useState({\r\n    pagination: [1, 2, 3, 4],\r\n    is_loading: true,\r\n  });\r\n  const [users, setUsers] = useState([]);\r\n\r\n  useEffect(() => {\r\n\r\n    setState({ ...state, is_loading: true })\r\n    window.scroll(0, 0);\r\n    JN.get(null, `rating/${match.params.page}`, {},\r\n      (data) => {\r\n        setUsers(data.users)\r\n        setState({ ...state, is_loading: false, pagination: { current: match.params.page, total: data.page_number } })\r\n      },\r\n      (error) => {\r\n        console.log(error)\r\n        setState({ ...state, is_loading: false })\r\n      })\r\n  }, [match.url])\r\n\r\n  const [filter, setFilter] = useState('');\r\n  const [filteredItems, setFilteredItems] = useState([]);\r\n  const refFilteredProblems = [useRef(null), useRef(null), useRef(null), useRef(null), useRef(null)];\r\n\r\n  const onFilterChanged = e => {\r\n    let filterText = e.target.value\r\n\r\n    if (filterText.length > 50)\r\n      return\r\n\r\n    setFilter(filterText)\r\n    if (filterText === '') {\r\n      setFilteredItems([])\r\n      return\r\n    }\r\n\r\n    JN.get(user, `user/search`, { username: filterText },\r\n      (data) => {\r\n        setFilteredItems(data.users.slice(0, 5));\r\n      },\r\n      () => setFilteredItems([]))\r\n  }\r\n\r\n  const onHideFilter = (e) => {\r\n    if (e.currentTarget.contains(e.relatedTarget))\r\n      return\r\n\r\n    setFilteredItems([])\r\n\r\n    if (filter !== '') {\r\n      setFilter('')\r\n    }\r\n  }\r\n\r\n  const onKeyDown = e => {\r\n    if (!filteredItems.length)\r\n      return\r\n\r\n    let ARROW_UP = 38;\r\n    let ARROW_DOWN = 40;\r\n    if (e.keyCode !== ARROW_UP && e.keyCode !== ARROW_DOWN)\r\n      return;\r\n\r\n    e.preventDefault();\r\n\r\n    let up = e.keyCode === ARROW_UP;\r\n\r\n    let activeElement = document.activeElement;\r\n    let nextIndex = 0;\r\n\r\n    let i = refFilteredProblems.findIndex(ref => ref.current === activeElement);\r\n\r\n    if (i === -1 || i === 0) {\r\n      nextIndex = up ? filteredItems.length - 1 : i + 1;\r\n    }\r\n    else if (i === filteredItems.length - 1) {\r\n      nextIndex = up ? i - 1 : 0;\r\n    }\r\n    else {\r\n      nextIndex = up ? i - 1 : i + 1;\r\n    }\r\n\r\n    if (refFilteredProblems[nextIndex] && refFilteredProblems[nextIndex].current) {\r\n      refFilteredProblems[nextIndex].current.focus();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <MDiv>\r\n      <Helmet>\r\n        <meta charSet=\"utf-8\" />\r\n        <title>რეიტინგი{match.params.page == 1 ? '' : ` გვ. ${match.params.page}`}</title>\r\n        <meta name=\"description\" content=\"AiaSoft\" />\r\n      </Helmet>\r\n      <div onBlur={onHideFilter} style={{ display: 'flex', justifyContent: 'flex-end', marginLeft: 'auto', width: '300px' }}>\r\n        <Input reverse onKeyDown={onKeyDown} fontSize=\"14px\" onChange={onFilterChanged} value={filter} placeholder=\"ძებნა..\">\r\n          {filter !== '' &&\r\n            <FilterContainer onKeyDown={onKeyDown}>\r\n              {!filteredItems.length ?\r\n                <div>\r\n\r\n                </div>\r\n                :\r\n                <>\r\n                  {filteredItems.map((user, index) =>\r\n                    <FilterItem ref={refFilteredProblems[index]} key={user.id} to={`/profile/${user.username}`}>\r\n                      <span style={{ overflow: 'hidden', textOverflow: 'ellipsis', display: 'block', marginBottom: -7 }}><B colorInherit>{user.username}</B></span>\r\n                      <div>{user.name} {user.surname}</div>\r\n                    </FilterItem>\r\n                  )}\r\n                </>\r\n              }\r\n            </FilterContainer>\r\n          }\r\n        </Input>\r\n      </div>\r\n      <div style={{ boxShadow: '0 6px 16px 0 rgba(0,0,0,.2)', maxWidth: '900px', margin: 'auto', marginTop: '45px', borderRadius: '8px', paddingTop: '0' }}>\r\n        <Table count={state.pagination.total > 1 && !state.is_loading}>\r\n          <thead></thead>\r\n          <tbody>\r\n            {!state.is_loading ?\r\n              <tr>\r\n                <Th>№</Th>\r\n                <Th autoSize>მომხმარებელი</Th>\r\n                <Th>სახელი</Th>\r\n                <Th>გვარი</Th>\r\n                <Th>რეიტინგი</Th>\r\n              </tr>\r\n              :\r\n              <tr>\r\n                <Th></Th>\r\n                <Th width=\"90%\"></Th>\r\n                <Th></Th>\r\n                <Th></Th>\r\n                <Th></Th>\r\n              </tr>}\r\n            {!state.is_loading && !users.length &&\r\n              <tr><td colSpan=\"5\" style={{ color: '#666', fontSize: '14px', textAlign: 'left' }}>მომხმარებლები არ მოიძებნა <span style={{ color: 'red' }}>!</span></td></tr>\r\n            }\r\n\r\n            {state.is_loading &&\r\n              <>\r\n                <tr><td colSpan=\"5\" style={{ fontSize: '14px', textAlign: 'left' }}></td></tr>\r\n                <tr><td colSpan=\"5\" style={{ color: '#666', fontSize: '14px', textAlign: 'left' }}></td></tr>\r\n                <tr><td colSpan=\"5\" style={{ color: '#666', fontSize: '14px', textAlign: 'left' }}></td></tr>\r\n                <tr><td colSpan=\"5\" style={{ color: '#666', fontSize: '14px', textAlign: 'left' }}></td></tr>\r\n                <tr><td colSpan=\"5\" style={{ color: '#666', fontSize: '14px', textAlign: 'left' }}></td></tr>\r\n                <tr><td colSpan=\"5\" style={{ color: '#666', fontSize: '14px', textAlign: 'left' }}></td></tr>\r\n                <tr><td colSpan=\"5\" style={{ color: '#666', fontSize: '14px', textAlign: 'left' }}></td></tr>\r\n                <tr><td colSpan=\"5\" style={{ color: '#666', fontSize: '14px', textAlign: 'left' }}></td></tr>\r\n                <tr><td colSpan=\"5\" style={{ color: '#666', fontSize: '14px', textAlign: 'left' }}></td></tr>\r\n                <tr><td colSpan=\"5\" style={{ color: '#666', fontSize: '14px', textAlign: 'left' }}></td></tr>\r\n                <tr><td colSpan=\"5\" style={{ color: '#666', fontSize: '14px', textAlign: 'left' }}></td></tr>\r\n                <tr><td colSpan=\"5\" style={{ color: '#666', fontSize: '14px', textAlign: 'left' }}></td></tr>\r\n                <tr><td colSpan=\"5\" style={{ color: '#666', fontSize: '14px', textAlign: 'left' }}></td></tr>\r\n                <tr><td colSpan=\"5\" style={{ color: '#666', fontSize: '14px', textAlign: 'left' }}></td></tr>\r\n                <tr><td colSpan=\"5\" style={{ color: '#666', fontSize: '14px', textAlign: 'left' }}></td></tr>\r\n                <tr><td colSpan=\"5\" style={{ color: '#666', fontSize: '14px', textAlign: 'left' }}></td></tr>\r\n                <tr><td colSpan=\"5\" style={{ color: '#666', fontSize: '14px', textAlign: 'left' }}></td></tr>\r\n                <tr><td colSpan=\"5\" style={{ color: '#666', fontSize: '14px', textAlign: 'left' }}></td></tr>\r\n                <tr><td colSpan=\"5\" style={{ color: '#666', fontSize: '14px', textAlign: 'left' }}></td></tr>\r\n              </>\r\n            }\r\n\r\n            {!state.is_loading && users.map((user, index) =>\r\n              <tr key={user.username}>\r\n                <Td><Table_A to={`/profile/${user.username}`}>{user.rank}</Table_A></Td>\r\n                <Td><Table_A to={`/profile/${user.username}`}>{user.username}</Table_A></Td>\r\n                <Td low=\"true\"><Table_A to={`/profile/${user.username}`}>{user.name}</Table_A></Td>\r\n                <Td low=\"true\"><Table_A to={`/profile/${user.username}`}>{user.surname}</Table_A></Td>\r\n                <Td><Table_A to={`/profile/${user.username}`}>{user.attempts === 0 ? '0' : <>{user.accepted}/{user.attempts} ({(user.accepted / user.attempts * 100).toFixed(2)}%)</>}</Table_A></Td>\r\n              </tr>\r\n            )}\r\n          </tbody>\r\n        </Table>\r\n\r\n        {!state.is_loading && <PaginationContainer to={`/rating/:page`} pagination={state.pagination} />}\r\n      </div>\r\n    </MDiv>\r\n  )\r\n}\r\n\r\nexport default RatingPage","import React, { useState, useEffect, useContext, useRef } from 'react'\r\nimport JN from 'JN'\r\nimport Container from 'controls/Container';\r\nimport TextArea from 'controls/TextArea';\r\nimport styled, { css } from 'styled-components'\r\nimport { theme } from 'Themes'\r\nimport Input from 'controls/Input';\r\nimport { MessageBoxContext } from 'contexts/MessageBoxContext'\r\nimport { UserContext } from 'contexts/UserContext'\r\nimport { MdDelete, MdEdit, MdCheckBoxOutlineBlank, MdAdd, MdCheck, MdRemoveRedEye } from 'react-icons/md';\r\nimport ContainerFooter from 'controls/ContainersFooter';\r\nimport Button from 'controls/Button';\r\nimport CategoryEditDlg from 'pages/problems/tags/CategoryEditDlg';\r\nimport Helmet from 'react-helmet';\r\nimport Button_Float from 'controls/Button_Float';\r\nimport { FaCheck, FaTimes } from 'react-icons/fa';\r\nimport { Redirect } from 'react-router-dom'\r\nimport A from 'controls/A';\r\nimport Checkbox from 'controls/Checkbox';\r\n\r\nconst Header = styled.div `\r\n  text-align: left;\r\n  margin: auto;\r\n  margin-top: 2em;\r\n  margin-bottom: 8px;\r\n  border-bottom: none;\r\n  width: 100%;\r\n  overflow: hidden;\r\n  border-top-left-radius: 8px;\r\n  border-top-right-radius: 8px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n`\r\n\r\nconst Tab_Container = styled.div `\r\n  display: flex;\r\n`\r\n\r\nconst Tab_Action = styled.button `\r\n    -webkit-touch-callout: none; /* iOS Safari */\r\n    -webkit-user-select: none; /* Safari */\r\n     -khtml-user-select: none; /* Konqueror HTML */\r\n       -moz-user-select: none; /* Old versions of Firefox */\r\n        -ms-user-select: none; /* Internet Explorer/Edge */\r\n            user-select: none; /* Non-prefixed version, currently\r\n                                  supported by Chrome, Opera and Firefox */\r\n\r\n  cursor: pointer;\r\n  border: none;\r\n  outline: none;\r\n  text-decoration: none;\r\n  font-size: 14px;\r\n  font-family: ${theme.fontCaps};\r\n  border: 1px solid var(--color_inputBackground);\r\n  padding: .8em 1.5em;\r\n  outline: none;\r\n  height: 50px;\r\n  border-top-left-radius: 5px;\r\n  border-radius: 5px;\r\n  margin-right: 5px;\r\n  margin-bottom: 50px;\r\n  color: var(--color_c2);\r\n  background-color: transparent;\r\n  cursor: pointer;\r\n\r\n  &:disabled {\r\n    background: none;\r\n    color: var(--color_c3);\r\n    border: 1px solid transparent;\r\n  }\r\n`\r\n\r\nconst Samples_Container = styled.div `\r\n  display: flex;\r\n  text-align: left;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  height: 430px;\r\n  overflow: auto;\r\n  margin-bottom: 20px;\r\n  border: 1px solid var(--color_b22);\r\n  border-radius: 8px;\r\n  border-top-right-radius: 0;\r\n  border-bottom-right-radius: 0;\r\n`\r\n\r\nconst Sample_Card = styled.div `\r\n  font-size: 14px;\r\n  display: flex;\r\n  padding: 3px;\r\n  padding-left: 10px;\r\n  align-items: center;\r\n  background-color: transparent;\r\n  border-bottom: 1px solid var(--color_b22);\r\n\r\n  &, * {\r\n    cursor: pointer;\r\n  }\r\n\r\n  label {\r\n    flex-grow: 1;\r\n    margin-left: .5em;\r\n  }\r\n\r\n  &:hover {\r\n    transition: background-color ease 250ms;\r\n    background-color: var(--color_b11);\r\n\r\n    button {\r\n      transition: opacity ease 250ms;\r\n      opacity: 1;\r\n    }\r\n  }\r\n`\r\nconst StyledButton = styled.button `\r\n  border: none;\r\n  outline: none;\r\n  background: none;\r\n  cursor: pointer;\r\n  opacity: 0;\r\n  border-radius: 50%;\r\n  width: 36px;\r\n  height: 36px;\r\n  margin-left: 3px;\r\n`\r\n\r\nconst FilterContainer = styled.div `\r\n  position: absolute;\r\n  top: 95px;\r\n  /* background-color: var(--color_b3); */\r\n  /* box-shadow: 0 1px 5px rgba(0, 0, 0, .5); */\r\n  /* box-shadow: 0 3px 8px rgba(0, 0, 0, 0.2); */\r\n  border-radius: 5px;\r\n  overflow: auto;\r\n  max-height: 260px;\r\n  width: ${props => props.width ? props.width : '100%'};\r\n  z-index: 1;\r\n`\r\n\r\nconst FilterItem = styled.button `\r\n  border: none;\r\n  font-size: 14px;\r\n  width: 100%;\r\n  display: block;\r\n  background-color: var(--color_inputBackground);\r\n  cursor: pointer;\r\n\r\n  ${props => props.flex && css `\r\n    display: flex;\r\n    justify-content: flex-start;  \r\n\r\n    button {\r\n      margin-left: auto;\r\n    }\r\n  `}\r\n\r\n  text-decoration: none;\r\n  color: var(--color_c2);\r\n  font-family: ${theme.font};\r\n  \r\n  padding-left: 10px;\r\n  padding-right: 10px;\r\n  line-height: 50px;\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  outline: none;\r\n\r\n  &:hover, &:focus {\r\n    color: var(--color_link);\r\n  }\r\n`\r\n\r\nconst ProblemsDiv = styled.div `\r\n  margin-top: 30px;\r\n`\r\n\r\nconst ProblemItem = styled.div `\r\n  display: flex;\r\n  border-bottom: 1px solid var(--color_b22);\r\n  padding: 5px;\r\n  &:last-child {\r\n    border-bottom: none;\r\n  }\r\n\r\n  button {\r\n    cursor: pointer;\r\n    border: none;\r\n    outline: none;\r\n    background: none;\r\n    margin-left: auto;\r\n    display: flex;\r\n    color: var(--color_c2);\r\n\r\n    &:hover {\r\n      color: var(--color_red);\r\n    }\r\n  }\r\n`\r\n\r\nconst AddTutorial = props => {\r\n  const { match, history } = props;\r\n  const { user }  = useContext(UserContext);\r\n  const { toast } = useContext(MessageBoxContext);\r\n  const [state, setState] = useState({\r\n    tutorial: {\r\n      title: '',\r\n      body: '',\r\n      note: '',\r\n      directory_id: match.params.dirId ? match.params.dirId : 1,\r\n      tags: [],\r\n      problems: [],\r\n      references: [],\r\n      is_visible: false,\r\n    },\r\n    isLoading: false,\r\n  });\r\n  const [tags, setTags]     = useState([]);\r\n  const [tab, setTab]       = useState(1);\r\n  const [search, setSearch] = useState('');\r\n  const onSearchChanged = e => {\r\n    setSearch(e.target.value);\r\n  }\r\n  const [filter, setFilter] = useState('');\r\n  const [filteredProblems, setFilteredProblems] = useState([]);\r\n\r\n  useEffect(() => {\r\n\r\n    JN.get(user, 'tags', {},\r\n    (data) => {\r\n      if (match.params.id === undefined)\r\n        setState({...state, isLoading: false});\r\n      setTags(data);\r\n    },\r\n    () => {\r\n      if (match.params.id === undefined)\r\n        setState({...state, isLoading: false});\r\n    })\r\n\r\n    if (match.params.id !== undefined) {\r\n      JN.get(user, `tutorial/${match.params.id}`, {},\r\n      (data) => {\r\n        // console.log(data);\r\n        let fList = [];\r\n        for (let i=0; i<data.tags.length; i++) {\r\n          fList.push(data.tags[i].id);\r\n        }\r\n        setState({...state, tutorial: {...data, id: match.params.id, tags: fList}});\r\n      });\r\n    }\r\n    else if (match.params.dirId) {\r\n      setState({...state, tutorial: {...state.tutorial, directory_id: match.params.dirId}});\r\n    }\r\n\r\n  }, []);\r\n\r\n  const on_visible_changed = () => {\r\n    setState({\r\n      ...state,\r\n      tutorial: {\r\n        ...state.tutorial,\r\n        is_visible: !state.tutorial.is_visible,\r\n      }\r\n    })\r\n  }\r\n\r\n  const change = e => {\r\n    setState({...state, tutorial: {...state.tutorial, [e.target.name]: e.target.value}});\r\n  }\r\n\r\n  const submit = e => {\r\n    e.preventDefault();\r\n    updateTutorial();\r\n  }\r\n\r\n  //სევერზე გაგზავნა\r\n  const updateTutorial = (redirect_to_fullTutorial = false) => {\r\n    //გაკვეთილის დამატება\r\n    if (state.tutorial.id === undefined) {\r\nconsole.log(state.tutorial)\r\n      setState({...state, isLoading: true});\r\n\r\n      JN.post(user, `admin/tutorial`, state.tutorial,\r\n      (data) => {\r\n        toast('კონტესტი დაემატა', 'success');\r\n        setState({...state, isLoading: false, tutorial: {...state.tutorial, id: data.tutorial_id}});\r\n      },\r\n      () => {\r\n        setState({...state, isLoading: false});\r\n      })\r\n    }\r\n\r\n    //გაკვეთილის რედაქტირება\r\n    else {\r\n      setState({...state, isLoading: true});\r\n      JN.put(user, `admin/tutorial`, state.tutorial,\r\n      () => {\r\n        if (redirect_to_fullTutorial) {\r\n          history.push(`/tutorial/${state.tutorial.id}`);\r\n          return;\r\n        }\r\n        toast('გაკვეთილი განახლდა', 'success')\r\n\r\n        setState({...state, isLoading: false});\r\n      },\r\n      () => {\r\n        setState({...state, isLoading: false});\r\n      })\r\n    }\r\n  }\r\n\r\n  //კატეგორიების მონიშვნა\r\n  const onTagToggled = id => e => {\r\n    e.preventDefault();\r\n    //კატეგორიის დამატება\r\n    if (!state.tutorial.tags.includes(id)) {\r\n      setState({...state, tutorial: {...state.tutorial,\r\n          tags: [...state.tutorial.tags, id]\r\n        }\r\n      });\r\n    }\r\n    //კატეგორიის წაშლა\r\n    else {\r\n      setState({...state, tutorial: {...state.tutorial,\r\n          tags: state.tutorial.tags.filter((tagId) => tagId !== id)\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  const on_close_tagsEditDlg = () => {\r\n    setState({...state, isOpen: false});\r\n  }\r\n\r\n  const on_open_tagsEditDlg = (e) => {\r\n    e.preventDefault();\r\n    setState({...state, editingCategory: null, isOpen: true});\r\n  }\r\n\r\n  const on_tag_edit = index => e => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    setState({...state, editingCategory: tags[index], isOpen: true});\r\n  }\r\n\r\n  //კატეგორიის წაშლა\r\n  const on_tag_delete = id => e => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n\r\n    if (!window.confirm('ნამდვილად გსურთ წაშლა?!')) {\r\n      return;\r\n    }\r\n\r\n    setState({...state, deleting_tag_id: id});\r\n\r\n    JN.delete(user, `admin/tags`, {tag_id: id},\r\n    () => {\r\n      toast('კატეგორია წაიშალა', 'success')\r\n      setState({\r\n        ...state,\r\n        tutorial: {\r\n          ...state.tutorial,\r\n          tags: state.tutorial.tags.filter((tagId) => tagId !== id),\r\n        },\r\n        deleting_tag_id: -1\r\n      })\r\n      setTags(tags.filter((tag, i) => tag.id !== id));\r\n    },\r\n    () => {\r\n      setState({...state, deleting_tag_id: -1});\r\n    })\r\n  }\r\n\r\n  const onTagSubmited = (tag, isNew) => {\r\n    if (isNew) {\r\n      toast('გატეგორია დაემატა', 'success');\r\n      setState({...state, isOpen: false,\r\n        tutorial: {...state.tutorial, tags: [...state.tutorial.tags, tag.id]}\r\n      });\r\n      setTags([...tags, tag]);\r\n    }\r\n    else {\r\n      toast('გატეგორია განახლდა', 'success');\r\n      setState({...state, isOpen: false});\r\n      setTags(tags.map((c) => {return c.id !== tag.id ? c : {...c, title: tag.title}}));\r\n    }\r\n  }\r\n\r\n  const viewFullTutorialClicked = e => {\r\n    e.preventDefault();\r\n    updateTutorial(true);\r\n  }\r\n\r\n  const onFilterChanged = e => {\r\n    let filterText = e.target.value\r\n\r\n    if (filterText.length > 50)\r\n      return\r\n\r\n    setFilter(filterText)\r\n    if (filterText === '') {\r\n      setFilteredProblems([])\r\n      return\r\n    }\r\n\r\n    JN.get(user, `problems/1`, {template: filterText},\r\n    (data) => {\r\n      setFilteredProblems(data.problems.slice(0, 5));\r\n    },\r\n    () => setFilteredProblems([]));\r\n  }\r\n\r\n  const onHideFilter = (e) => {\r\n    if (e.currentTarget.contains(e.relatedTarget))\r\n      return;\r\n\r\n      setFilteredProblems([]);\r\n\r\n    if (filter !== '') {\r\n      setFilter('');\r\n    }\r\n  }\r\n\r\n  const refFilteredProblems = [useRef(null), useRef(null), useRef(null), useRef(null), useRef(null)]\r\n\r\n  const onKeyDown = e => {\r\n    if (!filteredProblems.length)\r\n      return\r\n\r\n    let ARROW_UP   = 38;\r\n    let ARROW_DOWN = 40;\r\n    if (e.keyCode !== ARROW_UP && e.keyCode !== ARROW_DOWN)\r\n      return;\r\n\r\n    e.preventDefault();\r\n\r\n    let up = e.keyCode === ARROW_UP;\r\n\r\n    let activeElement = document.activeElement;\r\n    let nextIndex = 0;\r\n\r\n    let i = refFilteredProblems.findIndex(ref => ref.current === activeElement);\r\n\r\n    if (i === -1 || i === 0) {\r\n      nextIndex = up ? filteredProblems.length - 1 : i + 1;\r\n    }\r\n    else if (i === filteredProblems.length - 1) {\r\n      nextIndex = up ? i - 1: 0;\r\n    }\r\n    else {\r\n      nextIndex = up ? i - 1 : i + 1;\r\n    }\r\n\r\n    if (refFilteredProblems[nextIndex] && refFilteredProblems[nextIndex].current) {\r\n      refFilteredProblems[nextIndex].current.focus();\r\n    }\r\n  }\r\n\r\n  const onProblemAdd = problem => e => {\r\n    e.preventDefault();\r\n    setFilteredProblems([]);\r\n    setFilter('');\r\n\r\n    if (!state.tutorial.problems.some(p => p.id === problem.id)) {\r\n      setState({...state, tutorial: {...state.tutorial, problems: [...state.tutorial.problems, {id: problem.id, title: problem.title}]}});\r\n    }\r\n    else {\r\n      toast('ამოცანა უკვე დაკავშირებულია', 'error');\r\n      return;\r\n    }\r\n    \r\n    JN.post(user, 'admin/tutorial/problem', {tutorial_id: state.tutorial.id, problem_id: problem.id}, null,\r\n    (error) => {\r\n      setState({...state, tutorial: {...state.tutorial, problems: state.tutorial.problems.filter(p => p.id !== problem.id)}});\r\n      if (error.status === 403) {\r\n        toast('ამოცანა უკვე დაკავშირებულია', 'error');\r\n      }\r\n    });\r\n  }\r\n\r\n  const onProblemDelete = problem => e => {\r\n    e.preventDefault();\r\n    if (!window.confirm(`„${problem.title}“\\nგსურთ კავშირის გაწყვეტა ამოცანასთან?`)) {\r\n      return\r\n    }\r\n\r\n    setState({...state, tutorial: {...state.tutorial,\r\n      problems: state.tutorial.problems.filter(p => p.id !== problem.id)\r\n    }});\r\n\r\n    JN.delete(user, 'admin/tutorial/problem', {tutorial_id: state.tutorial.id, problem_id: problem.id},\r\n    null,\r\n    error => {\r\n      console.log(error);\r\n      setState({...state, tutorial: {...state.tutorial,\r\n        problems: [...state.tutorial.problems, problem]\r\n      }});\r\n    });\r\n  }\r\n  let currentTab = <>\r\n    {state.isOpen && <CategoryEditDlg\r\n      submited={onTagSubmited}\r\n      category={state.editingCategory}\r\n      isOpen={state.isOpen}\r\n      close={on_close_tagsEditDlg}\r\n    />}\r\n\r\n    <div style={{display: 'flex',flexDirection: 'column'}}>\r\n      <Input    title=\"დასახელება\" focus required name=\"title\"  value={state.tutorial.title} onChange={change} />\r\n      <TextArea showControls title=\"აღწერა\" required height=\"250px\" name=\"body\" value={state.tutorial.body} onChange={change} />\r\n      <TextArea showControls title=\"შენიშვნა\" name=\"note\" height=\"150px\" value={state.tutorial.note} onChange={change} />\r\n\r\n      <Header>\r\n        <Button type=\"button\" onClick={on_open_tagsEditDlg}>\r\n          <MdAdd size=\"22\" /> კატეგორიის დამატება\r\n        </Button>\r\n        <Input fsontSize=\"14px\" value={search} onChange={onSearchChanged} placeholder=\"ძებნა..\" width=\"250px\" />\r\n      </Header>\r\n      <Samples_Container>\r\n        {tags.map((tag, index) =>\r\n          <span key={tag.id}>\r\n          {tag.title.includes(search) &&\r\n            <Sample_Card onClick={onTagToggled(tag.id)}>\r\n              {state.deleting_tag_id === tag.id ? \r\n                <svg width=\"56\" height=\"18\" viewBox=\"0 0 120 30\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"#fff\"> <circle fill={loadingColor} cx=\"15\" cy=\"15\" r=\"15\"> <animate attributeName=\"r\" from=\"15\" to=\"15\" begin=\"0s\" dur=\"0.8s\" values=\"15;9;15\" calcMode=\"linear\" repeatCount=\"indefinite\" /> <animate attributeName=\"fill-opacity\" from=\"1\" to=\"1\" begin=\"0s\" dur=\"0.8s\" values=\"1;.5;1\" calcMode=\"linear\" repeatCount=\"indefinite\" /> </circle> <circle fill={loadingColor} cx=\"60\" cy=\"15\" r=\"9\" fillOpacity=\"0.3\"> <animate attributeName=\"r\" from=\"9\" to=\"9\" begin=\"0s\" dur=\"0.8s\" values=\"9;15;9\" calcMode=\"linear\" repeatCount=\"indefinite\" /> <animate attributeName=\"fill-opacity\" from=\"0.5\" to=\"0.5\" begin=\"0s\" dur=\"0.8s\" values=\".5;1;.5\" calcMode=\"linear\" repeatCount=\"indefinite\" /> </circle> <circle fill={loadingColor} cx=\"105\" cy=\"15\" r=\"15\"> <animate attributeName=\"r\" from=\"15\" to=\"15\" begin=\"0s\" dur=\"0.8s\" values=\"15;9;15\" calcMode=\"linear\" repeatCount=\"indefinite\" /> <animate attributeName=\"fill-opacity\" from=\"1\" to=\"1\" begin=\"0s\" dur=\"0.8s\" values=\"1;.5;1\" calcMode=\"linear\" repeatCount=\"indefinite\" /> </circle> </svg>\r\n              :\r\n              state.tutorial.tags.includes(tag.id) ? <MdCheck size=\"20\" color=\"var(--color_primary)\" /> : <MdCheckBoxOutlineBlank size=\"20\" color=\"var(--color_c3)\" />}\r\n              {state.deleting_tag_id !== tag.id && <label>{tag.title}</label>}\r\n              <StyledButton type=\"button\" onClick={on_tag_edit(index)}>\r\n                {state.deleting_tag_id !== tag.id && <MdEdit color=\"var(--color_orange)\" size=\"20\" />}\r\n              </StyledButton>\r\n              <StyledButton type=\"button\" onClick={on_tag_delete(tag.id)}>\r\n                {state.deleting_tag_id !== tag.id && <MdDelete color=\"var(--color_red)\" size=\"20\" />}\r\n              </StyledButton>\r\n            </Sample_Card>}\r\n          </span>\r\n        )}\r\n      </Samples_Container>\r\n      <div style={{marginTop: '0px', textAlign: 'right'}}>\r\n        <Checkbox title=\"გაკვეთილებში გამოჩენა\" checked={state.tutorial.is_visible} onCheckedChanged={on_visible_changed} />\r\n      </div>\r\n      <ContainerFooter>\r\n        <Button type=\"submit\" onClick={submit} backgroundColor=\"primary\" disabled={state.isLoading}>\r\n          {state.isLoading ? \"იგზავნება..\" : state.tutorial.id ? \"შენახვა\" : \"დამატება\"}\r\n        </Button>\r\n      </ContainerFooter>\r\n    </div>\r\n  </>;\r\n\r\n  if (tab === 2) {\r\n    currentTab =\r\n      <div style={{minHeight: '450px'}}>\r\n      <div style={{position: 'relative'}} onBlur={onHideFilter}>\r\n        <Input focus title=\"ამოცანის დაკავშირება\" placeholder=\"შეიყვანეთ ამოცანის სახელი ან ნომერი\" onKeyDown={onKeyDown} fontSize=\"14px\" onChange={onFilterChanged} value={filter} />\r\n          {filter !== '' &&\r\n            <FilterContainer onKeyDown={onKeyDown}>\r\n              {!filteredProblems.length ? <div></div> :\r\n              <>\r\n                {filteredProblems.map((problem, index) =>\r\n                  <FilterItem flex=\"true\" ref={refFilteredProblems[index]} key={problem.id} onClick={onProblemAdd(problem)}>\r\n                    {user && <>\r\n                      {problem.verdict === 1 ?\r\n                        <span style={{display: 'flex', alignItems: 'center'}}>\r\n                          <FaCheck color=\"var(--color_green)\" size=\"12\" />&nbsp;\r\n                        </span>\r\n                        : \r\n                        problem.verdict === 2 ?\r\n                        <span style={{display: 'flex', alignItems: 'center'}}>\r\n                          <FaTimes color=\"var(--color_red)\" size=\"12\" />&nbsp;\r\n                        </span>\r\n                        : <span style={{width: '18px'}}></span>\r\n                      }\r\n                    </>}\r\n                    \r\n                    {problem.id}.&nbsp;<span style={{overflow: 'hidden', textOverflow: 'ellipsis'}}>{problem.title}</span>\r\n                  </FilterItem>\r\n                )}\r\n              </>\r\n              }\r\n            </FilterContainer>\r\n          }\r\n      </div>\r\n      {state.tutorial.problems.length > 0 &&\r\n        <ProblemsDiv>\r\n          {state.tutorial.problems.map(problem =>\r\n            <ProblemItem style={{textAlign: 'left'}} key={problem.id}>\r\n              <A hover=\"true\" to={`/problem/${problem.id}`}><span style={{width: 28, marginRight: 5}}>{problem.id}</span> {problem.title}</A><button onClick={onProblemDelete(problem)}><FaTimes /></button>\r\n            </ProblemItem>\r\n          )}\r\n        </ProblemsDiv>\r\n      }\r\n      \r\n      </div>\r\n  }\r\n\r\n  const [linkedTutorialId, setLinkedTutorialId] = useState('');\r\n  const onLinkedTutorialIdChanged = e => {\r\n    setLinkedTutorialId(e.target.value);\r\n  }\r\n  const onTutorialAdd = e => {\r\n    e.preventDefault();\r\n\r\n    if (state.tutorial.references.some(r => r.id == linkedTutorialId)) {\r\n      toast('გაკვეთილი უკვე დაკავშირებულია', 'error');\r\n      return;\r\n    }\r\n\r\n    JN.post(user, 'admin/tutorial/reference', {tutorial_id: state.tutorial.id, reference_id : linkedTutorialId},\r\n    (data) => {\r\n      setState({...state, tutorial:  {...state.tutorial,\r\n          references: [...state.tutorial.references, {id: data.reference.id, title: data.reference.title}]\r\n        }\r\n      });\r\n      setLinkedTutorialId('');\r\n    }\r\n    ,\r\n    (error) => {\r\n      if (error.status === 403) {\r\n        toast('გაკვეთილი უკვე დაკავშირებულია', 'error');\r\n      }\r\n      else if (error.status === 404) {\r\n        toast('ასეთი გაკვეთილი არ მოიძებნა', 'error');\r\n      }\r\n    });\r\n  }\r\n\r\n  const onReferenceDelete = reference => e => {\r\n    e.preventDefault();\r\n    if (!window.confirm(`„${reference.title}“\\nგსურთ კავშირის გაწყვეტა გაკვეთილთან?`)) {\r\n      return\r\n    }\r\n    JN.delete(user, 'admin/tutorial/reference', {tutorial_id: state.tutorial.id, reference_id : reference.id},\r\n    () => {\r\n      setState({...state, tutorial: {...state.tutorial, references: state.tutorial.references.filter(ref => ref.id !== reference.id)}});\r\n    },\r\n    (error) => {\r\n      toast('შეცდომა', 'error');\r\n      console.log(error);\r\n    });\r\n  }\r\n\r\n  if (tab === 3) {\r\n    currentTab =\r\n      <div style={{minHeight: '450px'}}>\r\n        <form onSubmit={onTutorialAdd}>\r\n          <Input focus title=\"გაკვეთილის დაკავშირება\" placeholder=\"შეიყვანეთ გაკვეთილის ნომერი და დააჭირეთ Enter-ს\" fontSize=\"14px\" value={linkedTutorialId} onChange={onLinkedTutorialIdChanged} />\r\n        </form>\r\n\r\n        {state.tutorial.references.length > 0 &&\r\n        <ProblemsDiv>\r\n          {state.tutorial.references.map(reference =>\r\n            <ProblemItem style={{textAlign: 'left'}} key={reference.id}>\r\n              <A hover=\"true\" to={`/tutorial/${reference.id}`}><span style={{width: 28, marginRight: 5}}>{reference.id}</span> {reference.title}</A><button onClick={onReferenceDelete(reference)}><FaTimes /></button>\r\n            </ProblemItem>\r\n          )}\r\n        </ProblemsDiv>\r\n        }\r\n      </div>;\r\n  }\r\n\r\n  const on_tab_changed = index => e => {\r\n    e.preventDefault();\r\n    setTab(index);\r\n  }\r\n\r\n  const Tab_Current = {backgroundColor: 'var(--color_inputBackground)', color: 'color(--color_c2)'}\r\n  const loadingColor = \"var(--color_primary)\";\r\n\r\n  if (!user || user.permission === \"user\") {\r\n    return (\r\n      <Redirect to=\"/404\" />\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Container title={`გაკვეთილის ${match.params.id ? 'რედაქტირება' : 'დამატება'}`} width=\"800px\">\r\n      <Helmet>\r\n        <meta charSet=\"utf-8\" />\r\n        <title>გაკვეთილის {match.params.id ? 'რედაქტირება' : 'დამატება'}</title>\r\n        <meta name=\"description\" content=\"AiaSoft\" />\r\n      </Helmet>\r\n\r\n      <Tab_Container>\r\n        <Tab_Action style={tab === 1 ? Tab_Current : {}} onClick={on_tab_changed(1)}>გაკვეთილი</Tab_Action>\r\n        <Tab_Action style={tab === 2 ? Tab_Current : {}} disabled={!state.tutorial.id} onClick={on_tab_changed(2)}>ამოცანები</Tab_Action>\r\n        <Tab_Action style={tab === 3 ? Tab_Current : {}} disabled={!state.tutorial.id} onClick={on_tab_changed(3)}>მსგავსი გაკვეთილები</Tab_Action>\r\n      </Tab_Container>\r\n\r\n      {currentTab}\r\n\r\n      {state.tutorial.id && \r\n        <Button_Float onClick={viewFullTutorialClicked} count=\"1\" to={`/tutorial/${state.tutorial.id}`}>\r\n          <MdRemoveRedEye color=\"var(--color_primary)\" size=\"22\" />\r\n        </Button_Float>\r\n      }\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default AddTutorial","import React, { useState, useEffect, useContext } from 'react'\r\nimport JN from 'JN'\r\nimport styled, { css } from 'styled-components'\r\nimport { theme } from 'Themes'\r\nimport WithMathJax from 'components/WithMathJax';\r\nimport Container from 'controls/Container';\r\nimport { MessageBoxContext } from 'contexts/MessageBoxContext'\r\nimport { UserContext } from 'contexts/UserContext'\r\nimport JParser from 'components/JParser';\r\nimport Button_Float from 'controls/Button_Float';\r\nimport { MdEdit, MdDelete, MdKeyboardArrowRight, MdFolder, MdVisibilityOff } from 'react-icons/md';\r\nimport Helmet from 'react-helmet'\r\nimport A from 'controls/A';\r\n\r\n\r\nconst ParentFoldersDiv = styled.div `\r\n  -webkit-touch-callout: none; /* iOS Safari */\r\n    -webkit-user-select: none; /* Safari */\r\n     -khtml-user-select: none; /* Konqueror HTML */\r\n       -moz-user-select: none; /* Old versions of Firefox */\r\n        -ms-user-select: none; /* Internet Explorer/Edge */\r\n            user-select: none; /* Non-prefixed version, currently\r\n                                  supported by Chrome, Opera and Firefox */\r\n\r\n  display: flex;\r\n  text-align: left;\r\n  /* padding: 25px; */\r\n  margin-top: 5px;\r\n  margin-right: 15px;\r\n  height: 44px;\r\n  width: 100%;\r\n  overflow: auto;\r\n  font-size: 16px;\r\n`\r\n\r\nconst Tag = styled.div `\r\n  display: inline-flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  color: var(--color_c2);\r\n  background-color: var(--color_b1);\r\n  border: 3px solid var(--color_b22);\r\n  padding-left: 15px;\r\n  padding-right: 15px;\r\n  margin-right: 8px;\r\n  margin-bottom: 8px;\r\n  height: 36px;\r\n  border-radius: 5px;\r\n\r\n  &:hover {\r\n    border-color: var(--color_primary);\r\n  }\r\n`\r\n\r\nconst Statement = styled.div `\r\n  margin-top: 2em;\r\n  margin-bottom: 4em;\r\n  text-align: justify;\r\n  line-height: 1.6;\r\n  font-size: 14px; \r\n  color: var(--color_c2);\r\n`\r\n\r\nconst P = styled.div `\r\n  text-align: left;\r\n  margin-bottom: 4em;\r\n  font-size: 14px;\r\n  color: var(--color_c2);\r\n  text-align: justify;\r\n  & > label {\r\n    display: block;\r\n    font-family: ${theme.fontCaps};\r\n    color: var(--color_c22);\r\n    font-size: 16px;\r\n  }\r\n`\r\n\r\nconst ProblemsDiv = styled.div `\r\n  /* margin-top: 30px; */\r\n`\r\n\r\nconst ProblemItem = styled.div `\r\n  display: flex;\r\n  align-items: center;\r\n  /* border-bottom: 1px solid var(--color_b22);\r\n  padding: 5px;\r\n  &:last-child {\r\n    border-bottom: none;\r\n  } */\r\n\r\n  button {\r\n    cursor: pointer;\r\n    border: none;\r\n    outline: none;\r\n    background: none;\r\n    margin-left: auto;\r\n    display: flex;\r\n    color: var(--color_c2);\r\n\r\n    &:hover {\r\n      color: var(--color_red);\r\n    }\r\n  }\r\n`\r\n\r\nconst FullTutorial = props => {\r\n  const { match, history } = props;\r\n  const { user }  = useContext(UserContext);\r\n  const { toast } = useContext(MessageBoxContext);\r\n  const [state, setState] = useState({\r\n    tutorial: {\r\n\r\n    },\r\n    isDeleting: false,\r\n  });\r\n  const [tutorialTree, setTutorialTree] = useState({\r\n    id: -1,\r\n    title: '',\r\n    sub_directories: [],\r\n    parent_directories: [],\r\n  });\r\n\r\n  useEffect(() => {\r\n    JN.get(user, `tutorial/${match.params.id}`, {},\r\n    (data) => {\r\n      JN.get(user, 'tutorial_tree', {id: data.directory_id},\r\n      (d) => {\r\n        setTutorialTree({...d, id: data.directory_id});\r\n      }, null);\r\n\r\n      setState({...state, tutorial: data});\r\n    });\r\n    window.scroll(0, 0);\r\n\r\n  }, [match.url])\r\n\r\n  const on_tutorial_delete = e => {\r\n    e.preventDefault();\r\n    if (!window.confirm('ნამდვილად გსურთ წაშლა?!')) {\r\n      return;\r\n    }\r\n\r\n    setState({...state, isDeleting: true});\r\n\r\n    JN.delete(user, `admin/tutorial`, {id: match.params.id},\r\n    () => {\r\n      setState({...state, isDeleting: false});\r\n      history.push('/tutorials/1');\r\n    },\r\n    () => {\r\n      setState({...state, isDeleting: false});\r\n    })\r\n  }\r\n\r\n  if (!state.tutorial.title) {\r\n    return (<></>);\r\n  }\r\n\r\n  return (\r\n    <WithMathJax>\r\n      <Helmet>\r\n        <meta charSet=\"utf-8\" />\r\n        <title>{state.tutorial.title}</title>\r\n        <meta name=\"description\" content=\"AiaSoft\" />\r\n      </Helmet>\r\n      <Container title={state.tutorial.title} width=\"100%\" maxWidth=\"1000px\">\r\n        <Statement>\r\n          {state.tutorial.body && <JParser>{state.tutorial.body}</JParser>}\r\n        </Statement>\r\n\r\n        {state.tutorial.note &&\r\n          <P>\r\n            <label>შენიშვნა</label>\r\n            {state.tutorial.note && <JParser>{state.tutorial.note}</JParser>}\r\n          </P>\r\n        }\r\n\r\n        {state.tutorial.tags.length > 0 &&\r\n        <P>\r\n          <label>გაკვეთილის თემა</label>\r\n          {state.tutorial.tags.map(tag =>\r\n            <A hover=\"true\" key={tag.id} to={`/problems/1/${tag.id}`}>\r\n              <Tag>{tag.title}</Tag>\r\n            </A>\r\n          )}\r\n        </P>\r\n        }\r\n\r\n        {state.tutorial.problems.length > 0 &&\r\n        <P>\r\n          <label>ამოცანები</label>\r\n          <ProblemsDiv>\r\n            {state.tutorial.problems.map(problem =>\r\n              <ProblemItem style={{textAlign: 'left'}} key={problem.id}>\r\n                <MdKeyboardArrowRight size=\"18\" /><A hover=\"true\" to={`/problem/${problem.id}`}>{problem.title}{!problem.is_visible && <span style={{marginLeft: 5, display: 'flex', alignItems: 'center'}}><MdVisibilityOff size=\"20\" color=\"var(--color_c3)\" /></span>}</A>\r\n              </ProblemItem>\r\n            )}\r\n          </ProblemsDiv>\r\n        </P>\r\n        }\r\n\r\n        {state.tutorial.references.length > 0 &&\r\n          <P>\r\n            <label>დაკავშირებული გაკვეთილები</label>\r\n            <ProblemsDiv>\r\n              {state.tutorial.references.map(reference =>\r\n                <ProblemItem style={{textAlign: 'left'}} key={reference.id}>\r\n                  <MdKeyboardArrowRight size=\"18\" /><A hover=\"true\" to={`/tutorial/${reference.id}`}>{reference.title}{!reference.is_visible && <span style={{marginLeft: 5, display: 'flex', alignItems: 'center'}}><MdVisibilityOff size=\"20\" color=\"var(--color_c3)\" /></span>}</A>\r\n                </ProblemItem>\r\n              )}\r\n            </ProblemsDiv>\r\n          </P>\r\n        }\r\n\r\n        {tutorialTree.parent_directories &&\r\n          <ParentFoldersDiv>\r\n            {tutorialTree.parent_directories.map((folder, index) =>\r\n              <span style={{display: 'flex', justifyContent: 'center', alignItems: 'center'}} key={index}>\r\n                <A style={{display: 'flex', whiteSpace: 'nowrap', justifyContent: 'center', alignItems: 'center'}} to={`/tutorials/${folder.id}`} hover=\"true\">\r\n                  <MdFolder size=\"16\" color=\"var(--color_c2)\" />&nbsp;<span style={{whiteSpace: 'nowrap'}}>{!index ? 'გაკვეთილები' : folder.name}</span>\r\n                </A>\r\n                &nbsp;/&nbsp;\r\n              </span>\r\n            )}\r\n            <A style={{display: 'flex', whiteSpace: 'nowrap', justifyContent: 'center', alignItems: 'center'}} to={`/tutorials/${tutorialTree.id}`} hover=\"true\">\r\n              <MdFolder size=\"16\" color=\"var(--color_c2)\" />&nbsp;<span style={{whiteSpace: 'nowrap'}}>{tutorialTree.name === `tutorials` ? 'გაკვეთილები' : tutorialTree.name}</span>\r\n            </A>\r\n          </ParentFoldersDiv>\r\n        }\r\n\r\n      </Container>\r\n      {!state.is_fullscreen && user && user.permission !== \"user\" &&\r\n      <>\r\n        <Button_Float count=\"2\" to={`/edittutorial/${match.params.id}`}><MdEdit color=\"var(--color_orange)\" size=\"22\" /></Button_Float>\r\n        {!state.isDeleting && <Button_Float onClick={on_tutorial_delete}><MdDelete color=\"var(--color_red)\" size=\"22\" /></Button_Float> }\r\n      </>\r\n      }\r\n    </WithMathJax>\r\n  );\r\n}\r\n\r\nexport default FullTutorial;","import React, { useState, useEffect, useContext, useRef } from 'react'\r\nimport io from 'socket.io-client'\r\nimport { UserContext } from 'contexts/UserContext'\r\nimport { GlobalContext } from 'contexts/GlobalContext'\r\nimport styled, { css } from 'styled-components'\r\nimport Input from 'controls/Input'\r\nimport { theme } from 'Themes'\r\nimport JN from 'JN'\r\nimport B from 'controls/B'\r\nimport { MessageBoxContext } from 'contexts/MessageBoxContext'\r\nimport useSound from 'use-sound';\r\nimport { MdEdit, MdDelete, MdSend, MdCheck, MdRemoveRedEye, MdSearch, MdClose, MdHelpOutline, MdPhoto, MdImage } from 'react-icons/md'\r\nimport WithMathJax from 'components/WithMathJax'\r\nimport LoadingSvg from 'components/LoadingSvg'\r\nimport { Server } from 'Server'\r\nimport { Convert_date_to_string, isUrl } from 'Global_Functions'\r\nimport JParser from 'components/JParser'\r\nimport TextArea from 'controls/TextArea'\r\nimport Img from 'components/Img'\r\n\r\nconst Cover = styled.div`\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n`\r\n\r\nconst Aa = styled.a `\r\n  text-decoration: none;\r\n  font-style: italic;\r\n  color: ${props => props.reverseLinkColor ? 'var(--color_yellow)' : 'var(--color_link)'};\r\n\r\n  &:hover {\r\n    text-decoration: underline;\r\n  }\r\n`\r\n\r\nconst Container = styled.div`\r\n  z-index: 5;\r\n  width: 600px;\r\n  position: absolute;\r\n  bottom: 75px;\r\n  left: 0px;\r\n  max-width: 100vw;\r\n  background-color: var(--color_b2);\r\n  box-shadow: 0 6px 16px 0 rgba(0,0,0,.2);\r\n  border-radius: 5px;\r\n \r\n  padding-top: 1px;\r\n\r\n  animation: .2s cubic-bezier(0.25, 0.46, 0.45, 0.94) both a_scale;\r\n  @keyframes a_scale {\r\n    0% {\r\n      opacity: 0;\r\n      transform: scale(0.9);\r\n    }\r\n    \r\n    100% {\r\n      opacity: 1;\r\n      transform: scale(1);\r\n    }\r\n  }\r\n`\r\n\r\nconst Header = styled.div`\r\n  height: 40px;\r\n  padding-right: 5px;\r\n  padding-top: 3px;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n`\r\n\r\nconst SmallCircleButton = styled.div`\r\n  border: none;\r\n  outline: none;\r\n  background: none;\r\n  position: absolute;\r\n  right: 10px;\r\n  top: -12px;\r\n  cursor: pointer;\r\n  border-radius: 15px;\r\n  width: 30px;\r\n  height: 30px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  &:hover {\r\n      transition: background-color ease 250ms, color ease 250ms;\r\n      color: var(--color_c1);\r\n      background-color: var(--color_inputBackground);\r\n    }\r\n \r\n`\r\n\r\n\r\nconst Content = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  padding: 15px;\r\n  padding-top: 25px;\r\n  padding-left: 0;\r\n`\r\n\r\nconst RoomsContainer = styled.div`\r\n  width: 200px;\r\n  height: 422px;\r\n  overflow: auto;\r\n`\r\n\r\nconst RoomButton = styled.button`\r\n  font-family: ${theme.font};\r\n  font-size: 14px;\r\n  height: 56px;\r\n  padding-left: 12px;\r\n  border: none;\r\n  background: none;\r\n  width: 100%;\r\n  border-bottom: 1px solid var(--color_b1);\r\n  text-align: left;\r\n  outline: none;\r\n  color: var(--color_c2);\r\n  cursor: pointer;\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n\r\n  &:last-child {\r\n    border-bottom: none;\r\n  }\r\n\r\n  &:hover {\r\n    transition: color ease 250px;\r\n    color: var(--color_c1);\r\n  }\r\n\r\n  ${props => props.current && css`\r\n    background-color: var(--color_inputBackground);\r\n  `};\r\n\r\n  span {\r\n    font-size: 16px;\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n  }\r\n\r\n  div {\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n  }\r\n`\r\n\r\nconst Label = styled.label`\r\n  display: flex;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  border: none;\r\n  outline: none;\r\n  background: none;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 36px;\r\n`\r\n\r\nconst SearchContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  position: absolute;\r\n  top: -12px;\r\n  left: 5px;\r\n\r\n  button {\r\n    border: none;\r\n    width: 30px;\r\n    height: 30px;\r\n    background: transparent;\r\n    border-radius: 15px;\r\n    display: inline-flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    outline: none;\r\n    cursor: pointer;\r\n\r\n    &:hover {\r\n      transition: background-color ease 250ms, color ease 250ms;\r\n      color: var(--color_c1);\r\n      background-color: var(--color_inputBackground);\r\n    }\r\n  }\r\n\r\n  div {\r\n    display: inline-flex;\r\n    align-items: center;\r\n    width: 145px;\r\n    transition: width ease 250ms, transform ease 250ms;\r\n    transform-origin: left center;\r\n  }\r\n\r\n  input {\r\n    width: 100%;\r\n    font-size: 14px;\r\n    font-family: ${theme.font};\r\n    font-size: 14px;\r\n    color: var(--color_inputText);\r\n    padding: 5px;\r\n    margin-right: 5px;\r\n    color: var(--color_c1);\r\n    font-family: ${theme.font};\r\n    background-color: var(--color_inputBackground);\r\n    border-radius: 5px;\r\n    border: 2px solid var(--color_inputBackground);\r\n    outline: none;\r\n\r\n    &:focus {\r\n      /* transition: border-color ease 250ms, background-color ease 250ms; */\r\n      border-color:  var(--color_inputFocusBorder);\r\n      background-color: var(--color_inputFocusBackground);\r\n    }\r\n\r\n  }\r\n`\r\n\r\nconst BtnUsername = styled.button`\r\n  cursor: pointer;\r\n  height: 50px;\r\n  color: var(--color_c2);\r\n  border: none;\r\n  outline: none;\r\n  background: none;\r\n  font-family: inherit;\r\n  display: block;\r\n  text-align: left;\r\n  width: 136px;\r\n  overflow: hidden;\r\n  margin-left: 5px;\r\n\r\n  div {\r\n    font-size: 14px;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    width: 133px;\r\n  }\r\n\r\n  span {\r\n    display: block;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    width: 133px;\r\n  }\r\n\r\n  &:hover {\r\n    transition: color ease 250ms;\r\n    color: var(--color_c1);\r\n  }\r\n`\r\n\r\nconst MessagesDiv = styled.div`\r\n  height: 320px;\r\n  padding-right: 10px;\r\n  padding-left: 10px;\r\n  overflow: auto;\r\n  border-left: 1px solid var(--color_b1);\r\n  text-align: left;\r\n  transition: opacity ease 250ms;\r\n`\r\n\r\nconst MessageCard = styled.div`\r\n  overflow-wrap: anywhere;\r\n  display: flex;\r\n  flex-direction: column;\r\n`\r\n\r\nconst SentByUser = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  justify-content: flex-end;\r\n  padding-left: ${props => props.isImage ? 50 : 60};\r\n  \r\n  &>span {\r\n    position: relative;\r\n    background-color: var(--color_primary);\r\n    padding: 4px;\r\n    padding-left: 15px;\r\n    padding-right: 15px;\r\n    border-radius: 20px;\r\n    color: var(--color_headerText);\r\n    line-height: 20px;\r\n\r\n    margin-bottom: 1px;\r\n\r\n    ${props => props.isImage && css`\r\n      border: 4px solid var(--color_primary);\r\n      background: transparent;\r\n      padding: 0;\r\n      max-width: 300px;\r\n      height: 200px;\r\n      overflow: hidden;\r\n      border-radius: 10px;\r\n    `}\r\n  }\r\n\r\n  button {\r\n    transition: opacity ease 100ms;\r\n    opacity: 0;\r\n  }\r\n\r\n  &:hover {\r\n    button {\r\n      opacity: 1;\r\n    }\r\n  }\r\n`\r\n\r\nconst ReceivedMessage = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  justify-content: flex-start;\r\n  padding-right: ${props => props.isImage ? 50 : 60};\r\n\r\n  &>span {\r\n    padding: 5px;\r\n    padding-left: 15px;\r\n    background-color: var(--color_b1);\r\n    padding-right: 15px;\r\n    border-radius: 20px;\r\n    color: var(--color_c2);\r\n    line-height: 20px;\r\n\r\n    margin-bottom: 1px;\r\n\r\n    ${props => props.isImage && css`\r\n      border: 4px solid var(--color_b1);\r\n      background: transparent;\r\n      padding: 0;\r\n      max-width: 300px;\r\n      height: 200px;\r\n      overflow: hidden;\r\n      border-radius: 10px;\r\n    `}\r\n  }\r\n`\r\n\r\nconst MenuButton = styled.button`\r\n  border: none;\r\n  outline: none;\r\n  background: none;\r\n  margin-right: 3px;\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  position: relative;\r\n\r\n  &:hover {\r\n    transition: background-color ease 150ms;\r\n    background-color: var(--color_b1);\r\n  }\r\n`\r\n\r\nfunction useForceUpdate() {\r\n  const [value, setValue] = useState(0);   // integer state\r\n  return () => setValue(value => ++value); // update the state to force render\r\n}\r\n\r\nconst Chat = props => {\r\n  const { user } = useContext(UserContext);\r\n  const { chat, _updateUnseenCount, openChatRoom } = useContext(GlobalContext);\r\n  const { toast, jMb } = useContext(MessageBoxContext);\r\n\r\n  // const [play] = useSound(sendSound);\r\n\r\n  const forceUpdate = useForceUpdate();\r\n\r\n  const [state, setState] = useState({\r\n    text: '',\r\n    isLoadingRooms: true,\r\n  });\r\n  const [dontScrollDown, setDontScrollDown] = useState(false)\r\n  const [roomChanged, setRoomChanged] = useState(false)\r\n  const [messageEditor, setMessageEditor] = useState({\r\n    isOpen: false,\r\n    id: 0,\r\n    message: '',\r\n  })\r\n\r\n  const messages = useRef([]);\r\n  const refMessagesDiv = useRef(null);\r\n  const rooms = useRef([]);\r\n  const refCurrentRoom = useRef({ name: '' });\r\n  const refLastMessage = useRef(null)\r\n  const refIsServerConnected = useRef(false)\r\n  const [opacity, setOpacity] = useState(1)\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [lastSeenUid, setLastSeenUid] = useState(-1)\r\n  const [isSearchVisible, setSearchVisible] = useState(false)\r\n  const refSearch = useRef(null)\r\n\r\n  //უნახავების რაოდენობის განახლება\r\n  const updateUnseenCount = () => {\r\n    let count = 0;\r\n\r\n    for (let i = 0; i < rooms.current.length; i++) {\r\n\r\n      const msg = rooms.current[i].last_msg;\r\n\r\n      if (!msg.seen && msg.username !== user.username && msg.username && msg.username !== '') {\r\n        count++;\r\n      }\r\n    }\r\n    _updateUnseenCount(count);\r\n  }\r\n\r\n\r\n  const getMessages = (room) => {\r\n\r\n    if (roomChanged) {\r\n      setRoomChanged(false)\r\n      return\r\n    }\r\n\r\n    //თუ სხვა ტაბიდან გავიდა\r\n    if (!localStorage.getItem('access_token')) {\r\n      socket.disconnect()\r\n      window.location.reload()\r\n      return\r\n    }\r\n\r\n    setIsLoading(true)\r\n    setOpacity(0)\r\n    JN.get(user, `chat/${room.name}/messages`, { num_msgs: messages.current.length },\r\n      data => {\r\n        if (!data.messages.length || room.name !== refCurrentRoom.current.name) {\r\n          setIsLoading(false)\r\n          setOpacity(1)\r\n          return\r\n        }\r\n        messages.current = [...data.messages, ...messages.current]\r\n\r\n        //ბოლო ნანახის განახლება\r\n        let i = messages.current.length - 1\r\n        if (lastSeenUid === -1 || i < 30) {\r\n          for (i; i >= 0; i--) {\r\n            let message = messages.current[i]\r\n            if (message.username === user.username && message.seen) {\r\n\r\n              setLastSeenUid(message.id)\r\n              break;\r\n            }\r\n          }\r\n\r\n        }\r\n\r\n        if (refLastMessage.current && messages.current.length >= 30) {\r\n          setDontScrollDown(true)\r\n          refLastMessage.current.scrollIntoView()\r\n          setIsLoading(false)\r\n          setTimeout(() => {\r\n            setOpacity(1)\r\n          }, 250)\r\n        }\r\n        else {\r\n          setIsLoading(false)\r\n          setOpacity(1)\r\n        }\r\n\r\n\r\n        forceUpdate();\r\n      },\r\n      error => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n\r\n  const changeRoom = room => {\r\n    if (room.name === refCurrentRoom.current.name) {\r\n      return;\r\n    }\r\n\r\n    if (refCurrentRoom.current.name !== '') {\r\n      socket.emit('leave', { username: user.username, room: refCurrentRoom.current.name });\r\n    }\r\n\r\n    //ნანახობის განახლება\r\n    rooms.current = rooms.current.map(r => r.name === room.name ? { ...r, last_msg: { ...r.last_msg, seen: r.last_msg.username === user.username ? r.last_msg.seen : true } } : r);\r\n\r\n    updateUnseenCount();\r\n\r\n    refCurrentRoom.current = room;\r\n    messages.current = []\r\n    setLastSeenUid(-1)\r\n    forceUpdate();\r\n\r\n    socket.emit('join', { username: user.username, room: room.name });\r\n    setRoomChanged(true)\r\n    getMessages(room)\r\n    setTimeout(() => setRoomChanged(false), 100)\r\n  }\r\n\r\n\r\n  const closeChat = (e) => {\r\n    if (e)\r\n      e.preventDefault();\r\n    props.close();\r\n  }\r\n\r\n  const [socket, setSocket] = useState(null);\r\n\r\n  useEffect(() => {\r\n\r\n    //თუ გავიდა საიტიდან, სოკეტის გამორთვაც\r\n    if (!user) {\r\n      if (socket) {\r\n        socket.disconnect();\r\n        socket.destroy()\r\n        refIsServerConnected.current = false\r\n        forceUpdate()\r\n      }\r\n      return;\r\n    }\r\n\r\n    //მოანცემების გასუფთავება\r\n    refCurrentRoom.current = { name: '' }\r\n    rooms.current = []\r\n    messages.current = []\r\n    setSearch('')\r\n    setListUsers([])\r\n    setSearchVisible(false)\r\n    closeChat()\r\n    forceUpdate();\r\n\r\n    if (socket) {\r\n      socket.disconnect()\r\n    }\r\n    setSocket(io(`${Server.address}/chat`));\r\n\r\n  }, [user]);\r\n\r\n  //სიგნალების დაკავშირებები\r\n  useEffect(() => {\r\n\r\n    if (!socket)\r\n      return\r\n\r\n    socket.on('connect', () => {\r\n      refIsServerConnected.current = true\r\n      forceUpdate()\r\n      socket.emit('client_connect', { username: user.username })\r\n\r\n      //ოთახების წამოღება\r\n      setState({ ...state, isLoadingRooms: true })\r\n      JN.get(user, 'chat/private_rooms', { username: user.username },\r\n        data => {\r\n          rooms.current = data.rooms;\r\n          forceUpdate();\r\n          updateUnseenCount();\r\n          setState({ ...state, isLoadingRooms: false })\r\n        },\r\n        error => {\r\n          console.log(error);\r\n          updateUnseenCount();\r\n          setState({ ...state, isLoadingRooms: false })\r\n        });\r\n    });\r\n\r\n    socket.on('disconnect', () => {\r\n      refIsServerConnected.current = false\r\n      forceUpdate()\r\n      // socket.emit('client_disconnect', {})\r\n    });\r\n\r\n    socket.on('message', (data) => {\r\n\r\n      //თუ სხვა ტაბიდან გამოვიდა\r\n      if (!localStorage.getItem('access_token')) {\r\n        socket.disconnect()\r\n        window.location.reload()\r\n        return\r\n      }\r\n\r\n      //მონაწერის მოსვლა\r\n      if (data.type === 1) {\r\n\r\n        if (data.username === user.username && data.seen) {\r\n          setLastSeenUid(data.id)\r\n        }\r\n\r\n        //მინაწერებში ჩამატება\r\n        setDontScrollDown(false)\r\n        messages.current = [...messages.current.splice(-30), data];\r\n\r\n        //ოთახების ჩამონათვალში ახლანდელ ოთახზე ბოლო მინაწერის განახლება\r\n        refCurrentRoom.current = { ...refCurrentRoom.current, last_msg: { ...refCurrentRoom.current.last_msg, ...data, } }\r\n\r\n        //ახლანდელი ოთახის თავში გადატანა\r\n        let room = rooms.current.find(r => r.name === refCurrentRoom.current.name)\r\n        if (!room)\r\n          return\r\n        room = { ...room, last_msg: { ...room.last_msg, ...data } }\r\n        rooms.current = rooms.current.filter(r => r.name !== refCurrentRoom.current.name);\r\n        rooms.current.unshift(room);\r\n\r\n        //იძულებითი განახლება\r\n        forceUpdate();\r\n\r\n      }\r\n\r\n      //ვინმეს ოთახში შემოსვლა/გასვლა\r\n      else if (data.type === 2) {\r\n        // console.log(data)\r\n      }\r\n\r\n    });\r\n\r\n\r\n    socket.on('message_notification', (data) => {\r\n      //თუ სხვა ტაბიდან გამოვიდა\r\n      if (!localStorage.getItem('access_token')) {\r\n        socket.disconnect()\r\n        window.location.reload()\r\n        return\r\n      }\r\n\r\n      switch (data.type) {\r\n\r\n        case 1: {//რომელ ოთახშიც მოვიდა იმ ოთახის ამოღება სიიდან და თავში გადატანა\r\n\r\n          rooms.current = rooms.current.filter(r => r.name !== data.room_name)\r\n          rooms.current = [{ name: data.room_name, user1: data.user1, user2: data.user2, last_msg: { ...data, seen: data.username === user.username ? true : data.seen } }, ...rooms.current]\r\n\r\n          updateUnseenCount();\r\n          forceUpdate();\r\n          break;\r\n        }\r\n\r\n        case 2: {//მინაწერის რედაქტირება\r\n\r\n          //თუ ახლანდელ ოთახში დარედაქტირდა\r\n          if (data.room_id === refCurrentRoom.current.name) {\r\n            messages.current = messages.current.map(m => m.id === data.msg_id ? { ...m, msg: data.new_msg } : m)\r\n          }\r\n\r\n          //ოთახზე ბოლო მინაწერის განახლება\r\n          rooms.current = rooms.current.map(r => r.name === data.room_id ? { ...r, last_msg: data.room_last_msg } : r)\r\n\r\n          //რედაქტ2ს დახურვა\r\n          setMessageEditor({ isOpen: false })\r\n\r\n          break;\r\n        }\r\n\r\n        case 3: {//მინაწერის წაშლა\r\n\r\n          //ბოლო ნანახის განახლება\r\n          let index = messages.current.findIndex(m => m.id === data.msg_id)\r\n          if (index !== -1 && messages.current.length > 1) {\r\n            let i = index - 1\r\n            for (i; i >= 0; i--) {\r\n              let message = messages.current[i]\r\n              if (message.username === user.username && message.seen) {\r\n                setLastSeenUid(message.id)\r\n                break;\r\n              }\r\n            }\r\n          }\r\n\r\n          //თუ ახლანდელ ოთახში წაიშალა\r\n          if (data.room_id === refCurrentRoom.current.name) {\r\n            messages.current = messages.current.filter(m => m.id !== data.msg_id)\r\n          }\r\n\r\n          //ოთახზე ბოლო მინაწერის განახლება\r\n          rooms.current = rooms.current.map(r => r.name === data.room_id ? { ...r, last_msg: data.room_last_msg ? data.room_last_msg : {} } : r)\r\n\r\n          forceUpdate()\r\n          break;\r\n        }\r\n\r\n        case 4: {//Seen. ჩემი ბოლო მინაწერის ნანახად აღნიშნვა\r\n\r\n          //თუ ახლანდელ ოთახში დაSeenა. მაშინ ბოლო შეტყობინების მონიშვნა ნანახად\r\n          if (data.room_name === refCurrentRoom.current.name) {\r\n            let i = messages.current.length - 1\r\n            for (i; i >= 0; i--) {\r\n              let message = messages.current[i]\r\n              if (message.username === user.username) {\r\n                setLastSeenUid(message.id)\r\n                break;\r\n              }\r\n            }\r\n          }\r\n\r\n          //ოთახების სიაში ნანახად მონიშვნა\r\n          rooms.current = rooms.current.map(r => r.name === data.room_name ? { ...r, last_msg: { ...r.last_msg, seen: true } } : r)\r\n\r\n          forceUpdate()\r\n          break;\r\n        }\r\n        default: {\r\n          toast(`უცნობი შეტყობინება ${data.type}`, 'error')\r\n        }\r\n      }\r\n    })\r\n\r\n\r\n\r\n  }, [socket])\r\n\r\n  //დესტრუქტ2\r\n  useEffect(() => {\r\n\r\n    return () => {\r\n      if (socket) {\r\n        socket.disconnect();\r\n        console.log('!!!1111111111')\r\n      }\r\n    }\r\n  }, []);\r\n\r\n\r\n  //შეტყობინების გაგზავნა\r\n  const send = e => {\r\n    let isImage = typeof e === 'string'\r\n\r\n    if (!isImage && e)\r\n      e.preventDefault();\r\n\r\n    let text = state.text.trim().replace(/\\s\\s+/g, ' ')\r\n    if (!isImage && text === '') {\r\n      return;\r\n    }\r\n\r\n    //სოკეტით გაგზავნა\r\n    let message = { username: user.username, msg: isImage ? e : text, room: refCurrentRoom.current.name }\r\n    socket.send(message);\r\n    setState({ ...state, text: '' });\r\n  }\r\n\r\n  useEffect(() => {\r\n\r\n    if (refMessagesDiv.current && !dontScrollDown)\r\n      refMessagesDiv.current.scrollTop = refMessagesDiv.current.scrollHeight;\r\n\r\n    if (dontScrollDown)\r\n      setDontScrollDown(false)\r\n\r\n  }, [messages.current]);\r\n\r\n  //ჩათის დაკეცვა/გახსნა\r\n  useEffect(() => {\r\n\r\n    if (chat.currentRoomName) {\r\n      let isRoomInList = false;\r\n      for (let i = 0; i < rooms.current.length; i++) {\r\n        if (rooms.current[i].name === chat.currentRoomName) {\r\n          isRoomInList = true;\r\n          break;\r\n        }\r\n      }\r\n      if (!isRoomInList) {\r\n        rooms.current = [{ name: chat.currentRoomName, user1: chat.user1, last_msg: {} }, ...rooms.current];\r\n      }\r\n      changeRoom({ name: chat.currentRoomName })\r\n    }\r\n\r\n    //თუ ჩაკეცა, ოთახის დატოვება და ყველაფრის გასუფთავება\r\n    if (!chat.isOpen) {\r\n      chat.currentRoomName = null\r\n      if (refCurrentRoom.current.name !== '') {\r\n        socket.emit('leave', { username: user.username, room: refCurrentRoom.current.name });\r\n      }\r\n\r\n      refCurrentRoom.current = { name: '' };\r\n      messages.current = []\r\n      forceUpdate();\r\n    }\r\n  }, [chat])\r\n\r\n  const deleteMessage = id => {\r\n    //თუ სხვა ტაბიდან გავიდა\r\n    if (!localStorage.getItem('access_token')) {\r\n      socket.disconnect()\r\n      window.location.reload()\r\n      return\r\n    }\r\n\r\n    jMb('გსურთ მინაწერის წაშლა?', () => { setDontScrollDown(true); JN.delete(user, 'chat/message', { msg_id: id }, null, error => { }) })\r\n  }\r\n\r\n  const editMessage = () => {\r\n    if (messageEditor.message === '') {\r\n      return\r\n    }\r\n    //თუ სხვა ტაბიდან გავიდა\r\n    if (!localStorage.getItem('access_token')) {\r\n      socket.disconnect()\r\n      window.location.reload()\r\n      return\r\n    }\r\n    setDontScrollDown(true)\r\n    JN.put(user, 'chat/message', { msg_id: messageEditor.id, new_msg: messageEditor.message }, null, error => toast(error, 'error'))\r\n  }\r\n\r\n  const onScrollChanged = e => {\r\n    if (e.target.scrollTop === 0 && !messageEditor.isOpen) {\r\n      getMessages(refCurrentRoom.current)\r\n    }\r\n  }\r\n\r\n\r\n  //ძებნა\r\n  const [search, setSearch] = useState('')\r\n  const [listUsers, setListUsers] = useState([])\r\n\r\n  const onSearchChanged = e => {\r\n    let text = e.target.value\r\n    setSearch(text)\r\n\r\n    //სერვერიდან წამოღება მომხმარებლების, რომლებიც აკმაყოფილებენ შეყვანილ ტექსტს\r\n    JN.get(user, `user/search`, { username: text },\r\n      (data) => {\r\n        setListUsers(data.users.slice(0, 5))\r\n      },\r\n      (error) => toast(error))\r\n  }\r\n\r\n  const onToggleSearch = e => {\r\n    e.preventDefault()\r\n\r\n    let visible = !isSearchVisible\r\n    setSearchVisible(visible)\r\n    if (visible) {\r\n      refSearch.current.focus()\r\n    }\r\n    else {\r\n      setSearch('')\r\n      setListUsers([])\r\n    }\r\n  }\r\n\r\n  //ჩათში ოთახის შექმნა\r\n  const openChat = username => {\r\n\r\n    if (username === user.username) {\r\n      toast('??? :3', 'error')\r\n      return\r\n    }\r\n\r\n    //ძებნის დახურვა\r\n    setSearchVisible(false)\r\n    setSearch('')\r\n    setListUsers([])\r\n\r\n    JN.post(user, 'chat/private_room', { user1: user.username, user2: username },\r\n      (data) => {\r\n        openChatRoom(data.room, username)\r\n      },\r\n      (error) => {\r\n        openChatRoom(error.data.room, username)\r\n      });\r\n  }\r\n\r\n\r\n  //სურ10ს ატვირთვა\r\n  const [isImageUploading, setIsImageUploading] = useState(false);\r\n  const OnFilePicked = (e) => {\r\n\r\n    const file = e.target.files.item(0)\r\n    if (!file)\r\n      return;\r\n\r\n    setIsImageUploading(true);\r\n\r\n    let reader = new FileReader();\r\n    reader.readAsText(file, \"UTF-8\");\r\n\r\n    reader.onload = () => {\r\n\r\n      var formData = new FormData();\r\n      formData.append(\"image\", file);\r\n\r\n      JN.post(user, 'admin/photo', formData,\r\n        (data) => {\r\n          send('`~' + data.public_url + '`')\r\n          setIsImageUploading(false);\r\n        },\r\n        (error) => {\r\n          console.log(error);\r\n          setIsImageUploading(false);\r\n        });\r\n    }\r\n\r\n    reader.onerror = function (evt) {\r\n      console.log(\"error reading file\");\r\n    }\r\n\r\n  }\r\n\r\n  if (!user || !props.visible) {\r\n    return (<></>)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Cover onClick={closeChat}></Cover>\r\n      <Container>\r\n\r\n\r\n\r\n        {/* <Header>\r\n        <CircleButton onClick={closeChat}><FaTimes size=\"16\" /></CircleButton>\r\n      </Header> */}\r\n        <div style={{ marginBottom: 21 }}></div>\r\n        {/* <button onClick={(e) => {e.preventDefault(); socket.disconnect()}}>s</button> */}\r\n        {/* <RoomsContainer>\r\n\r\n      </RoomsContainer> */}\r\n\r\n        {\r\n          !refIsServerConnected.current && !state.isLoadingRooms ? <div style={{ height: 80, paddingTop: 20 }}>\r\n            სერვერი დროებით გამორთულია!\r\n        </div>\r\n            :\r\n            <Content>\r\n              <RoomsContainer>\r\n\r\n                <SearchContainer>\r\n                  <div style={{ width: isSearchVisible ? 145 : 0, transform: isSearchVisible ? 'scale(1)' : 'scale(0)' }}>\r\n                    <input placeholder=\"ძებნა..\" ref={refSearch} value={search} onChange={onSearchChanged} />\r\n                  </div>\r\n                  <button onClick={onToggleSearch}>\r\n                    {!isSearchVisible ?\r\n                      <MdSearch color=\"var(--color_c2)\" size=\"18\" />\r\n                      :\r\n                      <MdClose color=\"var(--color_c2)\" size=\"18\" />\r\n                    }\r\n                  </button>\r\n                </SearchContainer>\r\n\r\n\r\n                <SmallCircleButton onClick={e => { e.preventDefault(); openChat('system') }}>\r\n                  <MdHelpOutline color=\"var(--color_c2)\" size=\"18\" />\r\n                </SmallCircleButton>\r\n\r\n                {/* გაფილტრული მომხმარებლების სია */}\r\n                {listUsers.length > 0 &&\r\n                  <div style={{ textAlign: 'left', borderBottom: '1px solid var(--color_b1)', marginBottom: 50 }}>\r\n                    {listUsers.map(u =>\r\n                      <BtnUsername key={u.username} onClick={e => { e.preventDefault(); openChat(u.username) }}>\r\n                        <div><B>{u.username}</B></div>\r\n                        <span>{u.name} {u.surname}</span>\r\n                      </BtnUsername>)}\r\n                  </div>\r\n                }\r\n\r\n                {/* ოთახები */}\r\n                {rooms.current.map((room, index) =>\r\n                  <RoomButton key={index} current={room.name === refCurrentRoom.current.name} onClick={e => { e.preventDefault(); changeRoom(room) }}>\r\n                    <B><span style={{ display: 'block' }}>{room.user1 === user.username ? room.user2 : room.user1}</span></B>\r\n\r\n                    {room.last_msg && room.last_msg.msg &&\r\n\r\n                      <div style={{ display: room.last_msg.msg.includes('`') ? 'flex' : 'block', height: 16, position: 'relative', fontSize: '12px', color: !room.last_msg.seen && room.last_msg.username !== user.username ? 'var(--color_primary)' : 'var(--color_c3)' }}>\r\n\r\n                        {room.last_msg.username === user.username ?\r\n                          <span style={{ fontStyle: 'italic', fontSize: 12, display: 'inline-flex', alignItems: 'center', marginLeft: room.last_msg.seen ? 12 : 0 }}>\r\n                            {room.last_msg.seen && <MdCheck style={{ position: 'absolute', left: -1 }} size=\"14\" />}მე:&nbsp;\r\n                        </span> : ''\r\n                        }\r\n\r\n                        {room.last_msg.msg.includes('`') ? <MdImage size=\"16\" /> : room.last_msg.msg}\r\n\r\n                      </div>\r\n                    }\r\n                  </RoomButton>\r\n                )}\r\n              </RoomsContainer>\r\n\r\n              <div style={{ width: '100%' }}>\r\n                {isLoading && <div style={{ position: 'absolute', top: -26, width: '70%', display: 'flex', justifyContent: 'center', alignItems: 'center' }}><LoadingSvg dots size=\"36\" /></div>}\r\n                <MessagesDiv style={{ opacity: opacity }} ref={refMessagesDiv} onScroll={onScrollChanged}>\r\n\r\n                  {rooms.current.length === 0 && !state.isLoadingRooms &&\r\n                    <div>\r\n                      მისაწერად შედით მომხმარებლის გვერდზე და დააჭირეთ „მიწერას“ ან მოძებნეთ მომხმარებელი ზემოთ მარცხენა კუთხეში „<MdSearch size=\"16\" />“ ღილაკის გამოყენებით\r\n                  </div>\r\n                  }\r\n\r\n\r\n                  <WithMathJax>\r\n                    {messages.current.map((message, index) =>\r\n                      <MessageCard key={index} ref={index === 29 ? refLastMessage : null}>\r\n                        <div style={{ marginTop: index > 0 && messages.current[index - 1].username !== message.username ? 25 : 0 }}>\r\n\r\n                          {/* მონაწერი */}\r\n                          {message.username !== user.username ?\r\n                            <ReceivedMessage isImage={message.msg.includes('`')}>\r\n                              <span onClick={e => { /*e.preventDefault(); toast('გაგზავნილია: ' + Convert_date_to_string(message.date)) */ }}>\r\n                                {message.msg.includes('`') ? <Img style={{ objectFit: 'contain' }} src={message.msg.substring(2).slice(0, -1)} height=\"200\" /> :\r\n                                  isUrl(message.msg) ? <Aa target=\"_blank\" href={message.msg}>{message.msg}</Aa> : message.msg\r\n                                }\r\n                              </span>\r\n                            </ReceivedMessage>\r\n                            :\r\n                            messageEditor.isOpen && messageEditor.id === message.id ?\r\n                              <form onSubmit={(e) => { e.preventDefault(); editMessage() }} style={{ width: 300, marginLeft: 'auto' }}>\r\n                                <Input focus icon={<MdCheck size=\"22\" />} onIconClicked={editMessage} onBlur={() => setMessageEditor({ isOpen: false })} value={messageEditor.message} onChange={(e) => setMessageEditor({ ...messageEditor, message: e.target.value })} />\r\n                              </form>\r\n                              :\r\n\r\n                              //  მინაწერი\r\n                              <SentByUser isImage={message.msg.includes('`')}>\r\n                                <div style={{ display: 'flex', alignItems: 'center' }}>\r\n                                  <MenuButton onClick={e => { e.preventDefault(); deleteMessage(message.id) }}>\r\n                                    <MdDelete size=\"18\" color=\"var(--color_c2)\" />\r\n                                  </MenuButton>\r\n                                  <MenuButton onClick={e => { e.preventDefault(); setMessageEditor({ isOpen: true, message: message.msg, id: message.id }) }}>\r\n                                    <MdEdit size=\"18\" color=\"var(--color_c2)\" />\r\n                                  </MenuButton>\r\n\r\n                                  {message.id === lastSeenUid &&\r\n                                    <MenuButton style={{ opacity: 1, pointerEvents: 'none' }} onClick={e => { e.preventDefault(); }}>\r\n                                      <MdCheck size=\"18\" color=\"var(--color_c2)\" />\r\n                                    </MenuButton>\r\n                                  }\r\n\r\n                                </div>\r\n                                <span>\r\n                                  {message.msg.includes('`') ? <Img style={{ objectFit: 'contain' }} src={message.msg.substring(2).slice(0, -1)} height=\"200\" /> :\r\n                                    isUrl(message.msg) ? <Aa target=\"_blank\" reverseLinkColor href={message.msg}>{message.msg}</Aa> : message.msg\r\n                                  }\r\n                                </span>\r\n\r\n                              </SentByUser>\r\n                          }\r\n                        </div>\r\n                      </MessageCard>\r\n                    )}\r\n                  </WithMathJax>\r\n                </MessagesDiv>\r\n\r\n                {refCurrentRoom.current.name !== '' &&\r\n                  <form onSubmit={send} style={{ display: 'flex', flexDirection: 'column', marginTop: 25, marginLeft: 10 }}>\r\n                    <Input focus value={state.text} onChange={(e) => setState({ ...state, text: e.target.value.substring(0, 1000) })} icon={<MdSend size=\"22\" />} onIconClicked={send} />\r\n                    <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                      <span style={{ opacity: state.text.replace(/\\s\\s+/g, ' ').length > 0 ? 1 : 0, transition: 'opacity ease 250ms', height: '1em', textAlign: 'left', fontSize: 12, color: 'var(--color_c2)' }}>\r\n                        {Math.max(state.text.replace(/\\s\\s+/g, ' ').length, 1)}/1000\r\n                  </span>\r\n                      <Label htmlFor={`image${props.name}`}>\r\n                        <input disabled={isImageUploading} id={`image${props.name}`} style={{ display: 'none' }} type=\"file\" onChange={OnFilePicked} />\r\n                        {!isImageUploading ? <MdPhoto color=\"var(--color_c2)\" size=\"20\" /> : <LoadingSvg size=\"18\" />}\r\n                      </Label>\r\n                    </div>\r\n                  </form>}\r\n\r\n              </div>\r\n\r\n            </Content>\r\n        }\r\n      </Container>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Chat\r\n","import React, { useState } from 'react'\r\nimport styled from 'styled-components'\r\n\r\n\r\nconst Main = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  width: 200px;\r\n  background-color: red;\r\n`\r\n\r\nconst Cover = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: rgba(0, 0, 0, 0.3);\r\n`\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst Drawer = (props) => {\r\n\r\n  const [isMousePressed, setMousePressed] = useState(false)\r\n  const [mousePressedPos, setMousePressedPos] = useState({ x: 0, y: 0, margin: -190 })\r\n  const [marginLeft, setMarginLeft] = useState(-190)\r\n\r\n  const onMouseDown = e => {\r\n    setMousePressed(true)\r\n    setMousePressedPos({ x: e.screenX !== undefined ? e.screenX : e.targetTouches[0].pageX, y: e.screenY, margin: marginLeft })\r\n  }\r\n\r\n  const onMouseMove = e => {\r\n    if (!isMousePressed) {\r\n      return\r\n    }\r\n\r\n    let delta = (e.screenX !== undefined ? e.screenX : e.targetTouches[0].pageX) - mousePressedPos.x\r\n    setMarginLeft(Math.max(-190, Math.min(mousePressedPos.margin + delta, 0)))\r\n  }\r\n\r\n  const onMouseUp = e => {\r\n    setMousePressed(false)\r\n    setMarginLeft(marginLeft < -80 ? -190 : 0)\r\n  }\r\n\r\n  const onClicked = e => {\r\n    if(e.target !== e.currentTarget || marginLeft !== 0) {\r\n      return\r\n   }\r\n    e.preventDefault()\r\n    console.log(\"clicked\")\r\n    if (marginLeft === 0 && !isMousePressed)\r\n      setMarginLeft(-190)\r\n  }\r\n\r\n\r\n  return <></>\r\n  return (\r\n    <Cover onClick={onClicked} onTouchEnd={onMouseUp} onMouseUp={onMouseUp} onTouchMove={onMouseMove} onMouseMove={onMouseMove}>\r\n      <Main onMouseDown={onMouseDown} onTouchStart={onMouseDown} style={{ marginLeft: marginLeft, transition: isMousePressed ? '' : 'margin ease 200ms' }}>\r\n\r\n\r\n      </Main>\r\n    </Cover>\r\n  )\r\n}\r\n\r\nexport default Drawer","import React, { useState, useContext } from 'react'\r\nimport { UserContext } from 'contexts/UserContext'\r\nimport styled from 'styled-components'\r\nimport Input from 'controls/Input'\r\nimport Grid from 'controls/Grid'\r\nimport Button from 'controls/Button'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nconst Main = styled.div`\r\n\tpadding: 50px;\r\n\tmargin-top: -150px;\r\n`\r\n\r\nconst ListContainer = styled.div`\r\n\tdisplay: inline-grid;\r\n\tgrid-auto-flow: column;\r\n\talign-items: left;\r\n\tmargin-top: 50px;\r\n\tbackground-color: white;\r\n\tpadding: 50px;\r\n\tborder-radius: 8px;\r\n\tbox-shadow: 0 6px 16px 0 rgba(0,0,0,.1);\r\n`\r\n\r\nconst Item = styled.input`\r\n\toutline: none;\r\n\tborder: none;\r\n\ttext-align: center;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\twidth: 100px;\r\n\theight: 100px;\r\n\tbackground-color: var(--color_red);\r\n\r\n\t&:focus {\r\n\t\tbox-shadow: 0 0 0px 2px var(--color_primary);\r\n\t}\r\n`\r\n\r\nconst PropertiesContainer = styled.div`\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\twidth: 425px;\r\n\tmargin: auto;\r\n\tmargin-top: 50px;\r\n\tbackground-color: var(--color_b2);\r\n\tpadding: 50px;\r\n\tborder-radius: 8px;\r\n\tbox-shadow: 0 6px 16px 0 rgba(0,0,0,.1);\r\n`\r\n\r\nconst ArrayMaker = () => {\r\n\tconst { user } = useContext(UserContext)\r\n\tconst [list, setList] = useState(['0', '1', '2', '3', '4', '5'])\r\n\tconst [defaultProperties] = useState({\r\n\t\titem: {\r\n\t\t\twidth: 50,\r\n\t\t\theight: 50,\r\n\t\t\tcolor: '#333',\r\n\t\t\tbackgroundColor: '#DBF2E1',\r\n\t\t\tfontSize: 20,\r\n\t\t\tborderRadius: 5,\r\n\t\t\tfontWeight: 800,\r\n\t\t},\r\n\t\titemContainer: {\r\n\t\t\tgridGap: 5\r\n\t\t}\r\n\t})\r\n\r\n\tconst [properties, setProperties] = useState(defaultProperties)\r\n\r\n\tconst listLengthChanged = (e) => {\r\n\t\tlet temp = [...list]\r\n\t\tlet newLength = parseInt(e.target.value)\r\n\t\tif (temp.length > newLength) {\r\n\t\t\ttemp = temp.slice(0, newLength)\r\n\t\t}\r\n\t\telse {\r\n\t\t\ttemp = [...temp, ...Array(newLength - temp.length)].map((e, i) => !e ? i.toString() : e)\r\n\t\t}\r\n\r\n\t\tsetList(temp)\r\n\t}\r\n\r\n\r\n\tconst handleChange = e => {\r\n\t\tsetProperties({ ...properties, item: { ...properties.item, [e.target.name]: e.target.name === 'color' || e.target.name === 'backgroundColor' ? e.target.value : (parseInt(e.target.value) || '') } })\r\n\t}\r\n\r\n\r\n\t//თუ ადმინი არაა არაფელი არ გამოჩნდება\r\n\tif (!user || user.permission === 'user') {\r\n\t\treturn (<Redirect to=\"/\"></Redirect>)\r\n\t}\r\n\r\n\r\n\treturn (\r\n\t\t<Main>\r\n\r\n\t\t\t<ListContainer style={properties.itemContainer}>\r\n\t\t\t\t{list.map((element, index) =>\r\n\t\t\t\t\t<Item value={element} onChange={e => setList(list.map((a, i) => i === index ? e.target.value : a))} key={index} style={properties.item} />)}\r\n\t\t\t</ListContainer>\r\n\r\n\r\n\t\t\t<PropertiesContainer>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<input style={{ width: '100%', marginBottom: 10 }} type=\"range\" min=\"1\" max=\"21\" value={list.length} onChange={listLengthChanged} />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Grid gap=\"10px\" columns=\"2\">\r\n\t\t\t\t\t<Input autocomplete=\"off\" name=\"width\" title=\"სიგანე\" value={properties.item.width} onChange={handleChange} />\r\n\t\t\t\t\t<Input autocomplete=\"off\" name=\"height\" title=\"სიმაღლე\" value={properties.item.height} onChange={handleChange} />\r\n\t\t\t\t</Grid>\r\n\r\n\t\t\t\t<Input title=\"დაშორება\" value={properties.itemContainer.gridGap} onChange={(e) => setProperties({ ...properties, itemContainer: { ...properties.itemContainer, gridGap: (parseInt(e.target.value) || '') } })} />\r\n\r\n\t\t\t\t<Input autocomplete=\"off\" autocomplete=\"off\" name=\"backgroundColor\" title=\"ფონის ფერი\" value={properties.item.backgroundColor} onChange={handleChange} />\r\n\r\n\t\t\t\t<Grid gap=\"10px\" columns=\"2\">\r\n\t\t\t\t\t<Input autocomplete=\"off\" autocomplete=\"off\" name=\"color\" title=\"ფონტის ფერი\" value={properties.item.color} onChange={handleChange} />\r\n\t\t\t\t\t<Input autocomplete=\"off\" name=\"fontSize\" title=\"ფონტის ზომა\" value={properties.item.fontSize} onChange={handleChange} />\r\n\t\t\t\t</Grid>\r\n\r\n\t\t\t\t<Input name=\"fontWeight\" title=\"ფონტის სისქე\" value={properties.item.fontWeight} onChange={handleChange} />\r\n\r\n\t\t\t\t<Input autocomplete=\"off\" name=\"borderRadius\" title=\"საზღვრის მომრგვალება\" value={properties.item.borderRadius} onChange={handleChange} />\r\n\r\n\t\t\t\t<Button width=\"100%\" style={{ marginTop: 25 }} onClick={e => { e.preventDefault(); setProperties(defaultProperties) }}>სტანდარტულზე დაბრუნება</Button>\r\n\r\n\t\t\t</PropertiesContainer>\r\n\t\t</Main>\r\n\t)\r\n}\r\n\r\nexport default ArrayMaker","import React, { useState, useEffect, useContext } from 'react'\r\nimport styled, { css } from 'styled-components'\r\nimport Button from 'controls/Button'\r\nimport HeaderButton from 'controls/HeaderButton'\r\nimport { theme, dark, light } from 'Themes'\r\nimport Registration from 'pages/users/Registration';\r\nimport Login from '../pages/users/Login';\r\nimport { UserContext } from 'contexts/UserContext'\r\nimport axios from 'axios'\r\nimport { Server } from 'Server'\r\nimport { Switch, Route, Link, Redirect, useLocation } from \"react-router-dom\";\r\nimport Problems from 'pages/problems/Problems'\r\nimport Tutorials from 'pages/tutorials/Tutorials'\r\nimport Profile from 'pages/users/Profile'\r\nimport Main from 'pages/Main'\r\nimport RestorePassword from 'pages/users/RestorePassword'\r\nimport HeaderInput from 'controls/HeaderInput'\r\nimport FullProblem from 'pages/problems/FullProblem'\r\nimport AddProblem from 'pages/problems/AddProblem'\r\nimport page_404 from 'pages/page_404'\r\nimport Profile_page from 'pages/users/profile/Profile_page'\r\nimport Submissions_Page from 'pages/submissions/Submissions_Page'\r\nimport Submission_Page from 'pages/submissions/Submission_Page'\r\nimport { MdHome, MdChat, MdChatBubbleOutline } from 'react-icons/md'\r\nimport Container from 'controls/Container'\r\nimport Contests from 'pages/contests/Contests'\r\nimport AddContest from 'pages/contests/AddContest'\r\nimport FullContest from 'pages/contests/FullContest/FullContest'\r\nimport LoadingSvg from './LoadingSvg'\r\nimport UsersPage from 'pages/users/UsersPage'\r\nimport Modal from './Modal'\r\nimport Input from 'controls/Input'\r\nimport ContainerFooter from 'controls/ContainersFooter'\r\nimport FreshingTokenDlg from './FreshingTokenDlg'\r\nimport Favourites from './Favourites'\r\nimport { FaHeart, FaMoon, FaSun, FaComment, FaTimes } from 'react-icons/fa'\r\nimport RatingPage from 'pages/rating/RatingPage'\r\nimport AddTutorial from 'pages/tutorials/AddTutorial/AddTutorial'\r\nimport FullTutorial from 'pages/tutorials/FullTutorial'\r\nimport { GlobalContext } from 'contexts/GlobalContext'\r\nimport { MessageBoxContext } from 'contexts/MessageBoxContext'\r\nimport Chat from 'pages/socketio/chat/Chat'\r\nimport Drawer from './Drawer'\r\nimport B from 'controls/B'\r\nimport ArrayMaker from './ArrayMaker'\r\nimport ReactGA from 'react-ga'\r\n\r\nconst ChangeThemeButton = styled.button`\r\n  font-family: ${theme.font};\r\n  font-size: 14px;\r\n  outline: none;\r\n  border: none;\r\n  background: none;\r\n  color: var(--color_headerText);\r\n  display: flex;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  padding-left: 20px;\r\n  padding-right: 20px;\r\n\r\n  svg {\r\n    transition: transform ease 250ms;\r\n  }\r\n\r\n  &:hover {\r\n    box-shadow: inset 0 0 28px rgba(0, 0, 0, .3);\r\n\r\n    svg {\r\n      transform: rotate(25deg);\r\n    }\r\n  }\r\n\r\n  ${props => props.hide && css`\r\n    @media (max-width: ${theme.mobileSize}) {\r\n      display: none;\r\n    }\r\n  `}\r\n`\r\n\r\nconst HomeIcon = styled.span`\r\n  color: var(--color_headerText);\r\n  display: flex;\r\n  align-items: center;\r\n\r\n`\r\n\r\nconst Styled_Header = styled.nav`\r\n  position: relative;\r\n  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);\r\n  display: flex;\r\n  background-color: #4056a1;\r\n  background-color: var(--color_headerBackground);\r\n  /* box-shadow: 0 0 10px rgba(0, 0, 0, 0.5); */\r\n  margin-bottom: calc(56px + 45px);\r\n  /* margin-bottom: 70px; */\r\n\r\n  /* @media (max-width: ${theme.mobileSize}) {\r\n    flex-direction: column;\r\n  } */\r\n`\r\n\r\nconst StyledLink = styled(Link)`\r\n  text-decoration: none;\r\n  margin: auto;\r\n  margin-left: 15px;\r\n  margin-right: 0;\r\n`\r\n\r\nconst Icon = styled.button`\r\n  outline: none;\r\n  border: none;\r\n  background: none;\r\n  cursor: pointer;\r\n`\r\n\r\n\r\nconst BtnChatDiv = styled.div`\r\n  z-index: 101;\r\n  position: fixed;\r\n  left: 20px;\r\n  bottom: 20px;\r\n`\r\n\r\n\r\nconst BtnChat = styled.button`\r\n  position: relative;\r\n  cursor: pointer;\r\n  /* width: 80px; */\r\n  padding-left: 16px;\r\n  padding-right: 16px;\r\n  height: 56px;\r\n  border: none;\r\n  border-radius: 999px;\r\n  background: var(--color_primary);\r\n  outline: none;\r\n  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);\r\n  font-weight: bold;\r\n  font-size: 18px;\r\n  color: var(--color_headerText);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: transform ease 200ms;\r\n\r\n  span {\r\n    margin-left: 8px;\r\n  }\r\n\r\n  &:active {\r\n    transform: scale(0.90);\r\n  }\r\n\r\n\r\n  svg {\r\n    transition: transform ease 250ms;\r\n  }\r\n  \r\n  &:hover {\r\n    svg {\r\n    transform: rotate(25deg);\r\n  }\r\n`\r\n\r\nconst DivImage = styled.div`\r\n\tposition: fixed;\r\n\tleft: 0;\r\n\tright: 0;\r\n\ttop: 0;\r\n\tbottom: 0;\r\n\tbackground-color: rgba(0, 0, 0, 0.5);\r\n\tz-index: 200;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  animation: .2s cubic-bezier(0.25, 0.46, 0.45, 0.94) both a_fade;\r\n  @keyframes a_fade {\r\n    0% {\r\n      opacity: 0;\r\n    }\r\n    \r\n    100% {\r\n      opacity: 1;\r\n    }\r\n  }\r\n\r\n  div {\r\n    animation: .2s cubic-bezier(0.25, 0.46, 0.45, 0.94) both a_scale;\r\n    @keyframes a_scale {\r\n      0% {\r\n        opacity: .7;\r\n        transform: scale(0.98);\r\n      }\r\n      \r\n      100% {\r\n        opacity: 1;\r\n        transform: scale(1);\r\n      }\r\n    }\r\n  }\r\n\r\n  img {\r\n    max-width: 90vw;\r\n    max-height: 96vh;\r\n    user-select: none;\r\n  }\r\n`\r\n\r\nconst DivJMessageBox = styled.div`\r\n\tposition: fixed;\r\n\tleft: 0;\r\n\tright: 0;\r\n\ttop: 0;\r\n\tbottom: 0;\r\n\tbackground-color: rgba(0, 0, 0, 0.5);\r\n\tz-index: 200;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  text-align: left;\r\n\r\n  * {\r\n    user-select: none;\r\n  }\r\n\r\n  animation: .2s cubic-bezier(0.25, 0.46, 0.45, 0.94) both a_fade;\r\n  @keyframes a_fade {\r\n    0% {opacity: 0;}\r\n    100% {opacity: 1;}\r\n  }\r\n\r\n  div {\r\n    max-width: 70vw;\r\n    animation: .2s cubic-bezier(0.25, 0.46, 0.45, 0.94) both a_scale;\r\n    @keyframes a_scale {\r\n      0% {opacity: .7;transform: scale(0.96);}\r\n      \r\n      100% {opacity: 1;transform: scale(1);}\r\n    }\r\n\r\n    color: var(--color_c1);\r\n    background: var(--color_b2);\r\n    font-size: 1.2rem;\r\n    border-radius: 4px;\r\n    padding: 10px 20px;\r\n\r\n    &:nth-child(2) {\r\n      margin-top: 30px;\r\n      display: flex;\r\n      justify-content: flex-end;\r\n    }\r\n\r\n    button {\r\n      border: none;\r\n      font-size: 1rem;\r\n      user-select: none;\r\n      outline: none;\r\n      font-family: ${theme.fontCaps};\r\n      border-radius: 4px;\r\n      padding: 10px 20px;\r\n      padding-top: 12px;\r\n      cursor: pointer;\r\n\r\n      color: var(--color_headerText);\r\n      background: var(--color_primary);\r\n      &:first-child {\r\n        color: var(--color_pink);\r\n        background: none;\r\n        margin-right: 20px;\r\n        font-weight: bold;\r\n      }\r\n\r\n      transition: transform 250ms cubic-bezier(0.175, 0.885, 0.32, 1.275) 0s;\r\n      &:hover {\r\n        transform: scale(1.12);\r\n      }\r\n      &:active {\r\n        transform: scale(0.9);\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nfunction Header(props) {\r\n  const { user, login, logout } = useContext(UserContext)\r\n  const { jMb, jMessageBox, closeMessageBox } = useContext(MessageBoxContext)\r\n  const { global, setGlobal, setLanguage, tr, chat, setChatOpen, _unseenCount, setOpenedImage, openedImageSrc } = useContext(GlobalContext)\r\n  const [mode, setMode] = useState(localStorage.getItem('mode'))\r\n\r\n\r\n  //გუგლის ანალითიკას განახლება\r\n  useEffect(() => {\r\n    ReactGA.initialize('UA-184179454-1')\r\n  }, [])\r\n\r\n  const location = useLocation();\r\n  useEffect(() => {\r\n    ReactGA.pageview(location.pathname)\r\n  }, [location]);\r\n  //~გუგლის ანალითიკას განახლება\r\n\r\n\r\n  //ჩ10\r\n  const [isChatVisible, setChatVisible] = useState(false);\r\n  const toggleChatVisibility = () => {\r\n    setChatOpen(!chat.isOpen)\r\n    // setChatVisible(!isChatVisible);\r\n  }\r\n\r\n  const closeChat = () => {\r\n    setChatOpen(false)\r\n  }\r\n\r\n  const refresh_user = () => {\r\n\r\n    axios.get(`${Server.address}/profile`, {\r\n      headers: {\r\n        Authorization: 'Bearer ' + localStorage.getItem('access_token')\r\n      }\r\n    })\r\n      .then(response => {\r\n\r\n        login({\r\n          ...response.data,\r\n          access_token: localStorage.getItem('access_token'),\r\n          refresh_token: localStorage.getItem('refresh_token'),\r\n        })\r\n      })\r\n      .catch(error => {\r\n\r\n        //refresh_token -ით განახლება access_token -ის\r\n        if (error.response && error.response.status === 401 && error.response.data.error_code === 1) {\r\n          axios.post(`${Server.address}/refresh`, {}, { headers: { Authorization: 'Bearer ' + localStorage.getItem('refresh_token') } })\r\n            .then(response => {\r\n\r\n              localStorage.setItem('access_token', response.data.access_token)\r\n              refresh_user()\r\n            })\r\n            .catch(error => {\r\n              logout()\r\n              window.location.reload();\r\n            })\r\n        }\r\n        else {\r\n          logout()\r\n          window.location.reload();\r\n        }\r\n      })\r\n  }\r\n\r\n  const setTheme = m => {\r\n    let root = document.documentElement.style\r\n    let ob = m === 'light' ? light : dark;\r\n\r\n    Object.keys(ob).map((name, index) => {\r\n      root.setProperty(`--color_${name}`, ob[name]);\r\n    })\r\n\r\n    // document.body.style.backgroundImage = m === 'light' ? 'url(\"https://qph.fs.quoracdn.net/main-qimg-ad4efefc4d02affc785e9007bf2f0d87\")' : 'url(\"images/pattern_dark.png\")';\r\n    setGlobal({ ...global, mode: m });\r\n  }\r\n\r\n  useEffect(() => {\r\n\r\n    if (localStorage.getItem('access_token')) {\r\n      refresh_user()\r\n    }\r\n\r\n    let mode = localStorage.getItem('mode');\r\n    mode = mode ? mode : 'light';\r\n    setGlobal({ ...global, mode: mode });\r\n\r\n  }, [])\r\n\r\n  const [isLoggedin, setIsLoggedin] = useState(localStorage.getItem(\"access_token\") !== null)\r\n  const onLoggedStatusChanged = (value) => {\r\n    setIsLoggedin(value)\r\n  }\r\n\r\n  //გასვლა\r\n  const onLogoutClicked = (e) => {\r\n    if (user) {\r\n      ReactGA.event({ category: 'მომხმარებლი', action: 'მომხმარებელი გავიდა', label: `${user.username}` });\r\n    }\r\n    logout()\r\n  }\r\n\r\n  let rightPanel = (\r\n    <>\r\n      <HeaderButton bg=\"var(--color_primary)\" to=\"/login\">{tr(\"შესვლა\")}</HeaderButton>\r\n      <HeaderButton to=\"/registration\">{tr(\"რეგისტრაცია\")}</HeaderButton>\r\n    </>\r\n  )\r\n  if (user) {\r\n    rightPanel = (\r\n      <>\r\n        <HeaderButton bg=\"var(--color_primary)\" to={`/profile/${user.username}`}>{user.username}</HeaderButton>\r\n        <HeaderButton to=\"/\" onClick={onLogoutClicked}>{tr(\"გასვლა\")}</HeaderButton>\r\n      </>\r\n    )\r\n  }\r\n\r\n  if (!user && localStorage.getItem('access_token')) {\r\n    return (\r\n      <div style={{ marginTop: '50px' }}>\r\n        {/* <LoadingSvg color=\"whites\"/> */}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const onChangeTheme = e => {\r\n    e.preventDefault()\r\n    let newMode = mode === 'dark' ? 'light' : 'dark'\r\n    localStorage.setItem('mode', newMode);\r\n    setMode(newMode)\r\n    setTheme(newMode)\r\n  }\r\n\r\n  const onChangeLanguage = e => {\r\n    e.preventDefault();\r\n    setLanguage(global.language === \"eng\" ? \"geo\" : \"eng\");\r\n  }\r\n\r\n  return (\r\n    <div>\r\n\r\n      <Styled_Header>\r\n        <HeaderButton color={theme.primary} to=\"/\"><HomeIcon><MdHome size=\"28\" /></HomeIcon></HeaderButton>\r\n        <HeaderButton color={theme.primary} to=\"/problems/1\">{tr(\"ამოცანები\")}</HeaderButton>\r\n        <HeaderButton color={theme.red} to=\"/contests\">{tr(\"კონტესტები\")}</HeaderButton>\r\n        <HeaderButton color={theme.orange} to=\"/rating\">{tr(\"რეიტინგი\")}</HeaderButton>\r\n        <HeaderButton color={theme.green} to=\"/tutorials\">{tr(\"გაკვეთილები\")}</HeaderButton>\r\n\r\n        <div style={{ marginLeft: 'auto' }}></div>\r\n\r\n        <ChangeThemeButton hide=\"true\" onClick={onChangeLanguage}>{tr(\"Eng\")}</ChangeThemeButton>\r\n        <ChangeThemeButton onClick={onChangeTheme}>{global.mode === 'dark' ? <FaSun color=\"var(--color_orange)\" size=\"20\" /> : <FaMoon size=\"20\" />}</ChangeThemeButton>\r\n\r\n        {rightPanel}\r\n        {/* <HeaderInput /> */}\r\n      </Styled_Header>\r\n\r\n      <Drawer>\r\n\r\n      </Drawer>\r\n\r\n\r\n      <BtnChatDiv style={{ display: user ? 'inherit' : 'none' }}>\r\n        <BtnChat onClick={toggleChatVisibility}>\r\n          {!chat.isOpen ? <FaComment size=\"24\" /> : <FaTimes size=\"24\" />}\r\n          {_unseenCount > 0 && <span>{_unseenCount}</span>}\r\n        </BtnChat>\r\n        <Chat close={closeChat} visible={chat.isOpen} />\r\n      </BtnChatDiv>\r\n\r\n\r\n\r\n\r\n      <Switch>\r\n        <Route exact path=\"/\" component={Main} />\r\n\r\n        {/* კონტესტზე დარეგისტრირებული მომხმარებლები */}\r\n        <Route exact path=\"/participants/:contest_id/:page\" component={UsersPage} />\r\n        <Route exact path=\"/participants/:page\" component={UsersPage} />\r\n        <Redirect from=\"/participants\" to=\"/participants/1\" />\r\n\r\n        {/* რეიტინგი */}\r\n        <Route exact path=\"/rating/:page\" component={RatingPage} />\r\n        <Redirect from=\"/rating\" to=\"/rating/1\" />\r\n\r\n        {/* კონტესტები */}\r\n        <Route path=\"/contest/:id\" component={FullContest} />\r\n        <Route exact path=\"/contests/:page\" component={Contests} />\r\n        <Redirect from=\"/contests\" to=\"/contests/1\" />\r\n        <Route exact path=\"/addcontest\" component={AddContest} />\r\n        <Route exact path=\"/editcontest/:id\" component={AddContest} />\r\n\r\n        <Route exact path=\"/problem/:id\" component={FullProblem} />\r\n        <Route exact path=\"/problems/:page/:tagId\" component={Problems} />\r\n        <Route exact path=\"/problems/:page\" component={Problems} />\r\n        <Redirect from=\"/problems\" to=\"/problems/1\" />\r\n        <Route exact path=\"/addproblem\" component={AddProblem} />\r\n        <Route exact path=\"/editproblem/:id\" component={AddProblem} />\r\n\r\n        <Route exact path=\"/addtutorial/:dirId\" component={AddTutorial} />\r\n        <Route exact path=\"/edittutorial/:id\" component={AddTutorial} />\r\n        <Redirect from=\"/addtutorial\" to=\"/addtutorial/1\" />\r\n        <Route exact path=\"/tutorials\" component={Tutorials} />\r\n        <Route exact path=\"/tutorials/:id\" component={Tutorials} />\r\n        <Route exact path=\"/tutorial/:id\" component={FullTutorial} />\r\n\r\n        <Route exact path=\"/login\" component={Login} />\r\n        <Route exact path=\"/login/:id\" component={Login} />\r\n\r\n        <Route exact path=\"/registration\" component={Registration} />\r\n\r\n        <Route path=\"/profile/:userName/:page\" component={Profile_page} />\r\n        <Route path=\"/profile/:userName\" component={Profile_page} />\r\n        <Route exact path=\"/restorepassword\" component={RestorePassword} />\r\n        <Route exact path=\"/submissions/:id/:page\" component={Submissions_Page} />\r\n        <Redirect exact from=\"/submissions/:id\" to=\"/submissions/:id/1\" />\r\n        <Redirect exact from=\"/submissions\" to=\"/submissions/0/1\" />\r\n\r\n        <Route exact path=\"/submission/:id\" component={Submission_Page} />\r\n\r\n        <Route exact path=\"/paint\" component={ArrayMaker} />\r\n        <Route path=\"/\" component={page_404} />\r\n      </Switch>\r\n\r\n\r\n      {user && user.freshTokenRequired && <FreshingTokenDlg />}\r\n\r\n      {/* სურათის გადიდება */}\r\n      {openedImageSrc !== '' &&\r\n        <DivImage onClick={e => { e.preventDefault(); setOpenedImage(''); }}>\r\n          <div><img src={openedImageSrc} /></div>\r\n        </DivImage>\r\n      }\r\n\r\n\r\n      {/* jMb */}\r\n      {jMessageBox.isOpen &&\r\n        <DivJMessageBox onClick={e => { e.preventDefault(); if (e.target === e.currentTarget) closeMessageBox(); }}>\r\n          <div onClick={e => e.preventDefault()}>\r\n            <div>\r\n              <B>{jMessageBox.text}</B>\r\n            </div>\r\n            <div>\r\n              <button onClick={e => { e.preventDefault(); closeMessageBox(); }} >არა</button>\r\n              <button onClick={e => { closeMessageBox(); jMessageBox.callBack_accepted(); }}>დიახ</button>\r\n            </div>\r\n          </div>\r\n        </DivJMessageBox>\r\n      }\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Header","import React, { useEffect } from 'react';\r\nimport './App.css';\r\nimport Header from './components/Header.js'\r\nimport { UserProvider } from './contexts/UserContext'\r\nimport { MessageBoxProvider } from './contexts/MessageBoxContext'\r\nimport { GlobalProvider } from './contexts/GlobalContext'\r\nimport { dark, light } from 'Themes'\r\nimport { BrowserRouter as Router } from 'react-router-dom'\r\n\r\n\r\nfunction App() {\r\n\r\n  const setTheme = m => {\r\n    let root = document.documentElement.style\r\n    let ob = m === 'dark' ? dark : light;\r\n\r\n    Object.keys(ob).map((name, index) => {\r\n      root.setProperty(`--color_${name}`, ob[name]);\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    setTheme(localStorage.getItem('mode'))\r\n  }, [])\r\n\r\n\r\n  return (\r\n    <GlobalProvider>\r\n      <MessageBoxProvider>\r\n        <UserProvider>\r\n\r\n          <Router>\r\n            <div className=\"App\">\r\n              <Header />\r\n            </div>\r\n\r\n            <footer style={{ marginTop: '50px' }}>\r\n\r\n            </footer>\r\n          </Router>\r\n\r\n        </UserProvider>\r\n      </MessageBoxProvider>\r\n    </GlobalProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nimport mapboxgl from 'mapbox-gl';\r\nmapboxgl.accessToken = 'pk.eyJ1IjoiamF4MTIzNDUiLCJhIjoiY2s0YnI4OXFkMGdrZTNtcG1mZGp2cTJhYyJ9.vMIQpLfOFBAWchQpnuslUQ';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}